<!---
THIS IS AN AUTOGENERATED FILE. EDIT INDEX.JS INSTEAD.
-->
# Typeahead

__Intelligently recommend entities via customizable, fuzzy recognition.__

Typeahead is an enhancement upon [Input](https://github.com/enigma-io/boundless/tree/master/packages/boundless-input) which provides two built-in matching algorithms ("fuzzy" \[default\] and "starts-with") and supports the use of custom matching and marking functions.

In the examples below, imagine the `<>` in the "marks" section is a wrapping `<mark>` element:

1. __"Starts-with" matching & marking__
   ```jsx
   <Typeahead
       algorithm={Typeahead.mode.STARTS_WITH}
       entities={[
           {text: 'apple'},
           {text: 'apricot'},
           {text: 'grape'},
       ]}
       inputProps={{value: 'a'}} />
   ```

   + matches: `"apple", "apricot"`
   + marks: `"<a>pple", "<a>pricot"`

1. __"Fuzzy" matching & marking__
   ```jsx
   <Typeahead
       algorithm={Typeahead.mode.FUZZY}
       entities={[
           {text: 'apple'},
           {text: 'apricot'},
           {text: 'grape'},
       ]}
       inputProps={{value: 'a'}} />
   ```

   + matches: `"apple", "apricot", "grape"`
   + marks: `"<a>pple", "<a>pricot", "gr<a>pe"`

1. __Custom matching & marking__

    Optionally, you can provide your own combination of matching and marking functions. For example, loosening the matching to include unicode variants of characters could be useful, e.g. ç &rarr; c

    ```jsx
    <Typeahead
        algorithm={{
            matcher: yourMatchFunc,
            marker: yourMarkFunc,
        }} />
    ```

## Component Instance Methods

When using `Typeahead` in your project, you may call the following methods on a rendered instance of the component. Use [`refs`](https://facebook.github.io/react/docs/refs-and-the-dom.html) to get the instance.

- __`focus()`__
  focuses the browser oon the underlying textual input for immediate text entry

- __`getInputNode()`__
  returns the raw underlying textual input DOM node

- __`getSelectedEntityText()`__
  returns the `text` property of the currently highlighted entity (from `props.entities`), or returns an empty string

- __`getValue()`__
  retrieves the current value of the underlying textual input

- __`select()`__
  programmatically creates a full selection on the underlying textual input such that a press of the Backspace key would fully clear the input

- __`setValue(value: string)`__
  sets the underlying textual input to the specified text and updates internal state; do not use this method when using `Typeahead` as a "controlled input"

## Example Usage
```jsx
import React from 'react';
import Typeahead from '../index';

export default class TypeaheadDemo extends React.PureComponent {
    state = {
        countries: [
            {text: 'Afghanistan'},
            {text: 'Albania'},
            {text: 'Algeria'},
            {text: 'American Samoa'},
            {text: 'Andorra'},
            {text: 'Angola'},
            {text: 'Anguilla'},
            {text: 'Antarctica'},
            {text: 'Antigua and Barbuda'},
            {text: 'Argentina'},
            {text: 'Armenia'},
            {text: 'Aruba'},
            {text: 'Australia'},
            {text: 'Austria'},
            {text: 'Azerbaijan'},
            {text: 'Bahamas'},
            {text: 'Bahrain'},
            {text: 'Bangladesh'},
            {text: 'Barbados'},
            {text: 'Belarus'},
            {text: 'Belgium'},
            {text: 'Belize'},
            {text: 'Benin'},
            {text: 'Bermuda'},
            {text: 'Bhutan'},
            {text: 'Bolivia'},
            {text: 'Bosnia and Herzegovina'},
            {text: 'Botswana'},
            {text: 'Bouvet Island'},
            {text: 'Brazil'},
            {text: 'British Indian Ocean Territory'},
            {text: 'Brunei Darussalam'},
            {text: 'Bulgaria'},
            {text: 'Burkina Faso'},
            {text: 'Burundi'},
            {text: 'Cambodia'},
            {text: 'Cameroon'},
            {text: 'Canada'},
            {text: 'Cape Verde'},
            {text: 'Caribbean Netherlands'},
            {text: 'Cayman Islands'},
            {text: 'Central African Republic'},
            {text: 'Chad'},
            {text: 'Chile'},
            {text: 'China'},
            {text: 'Christmas Island'},
            {text: 'Cocos (Keeling) Islands'},
            {text: 'Colombia'},
            {text: 'Comoros'},
            {text: 'Congo'},
            {text: 'Congo, Democratic Republic of'},
            {text: 'Cook Islands'},
            {text: 'Costa Rica'},
            {text: 'Croatia'},
            {text: 'Cuba'},
            {text: 'Curaçao'},
            {text: 'Cyprus'},
            {text: 'Czech Republic'},
            {text: 'Côte d\'Ivoire'},
            {text: 'Denmark'},
            {text: 'Djibouti'},
            {text: 'Dominica'},
            {text: 'Dominican Republic'},
            {text: 'Ecuador'},
            {text: 'Egypt'},
            {text: 'El Salvador'},
            {text: 'Equatorial Guinea'},
            {text: 'Eritrea'},
            {text: 'Estonia'},
            {text: 'Ethiopia'},
            {text: 'Falkland Islands'},
            {text: 'Faroe Islands'},
            {text: 'Fiji'},
            {text: 'Finland'},
            {text: 'France'},
            {text: 'French Guiana'},
            {text: 'French Polynesia'},
            {text: 'French Southern Territories'},
            {text: 'Gabon'},
            {text: 'Gambia'},
            {text: 'Georgia'},
            {text: 'Germany'},
            {text: 'Ghana'},
            {text: 'Gibraltar'},
            {text: 'Greece'},
            {text: 'Greenland'},
            {text: 'Grenada'},
            {text: 'Guadeloupe'},
            {text: 'Guam'},
            {text: 'Guatemala'},
            {text: 'Guernsey'},
            {text: 'Guinea'},
            {text: 'Guinea-Bissau'},
            {text: 'Guyana'},
            {text: 'Haiti'},
            {text: 'Heard and McDonald Islands'},
            {text: 'Honduras'},
            {text: 'Hong Kong'},
            {text: 'Hungary'},
            {text: 'Iceland'},
            {text: 'India'},
            {text: 'Indonesia'},
            {text: 'Iran'},
            {text: 'Iraq'},
            {text: 'Ireland'},
            {text: 'Isle of Man'},
            {text: 'Israel'},
            {text: 'Italy'},
            {text: 'Jamaica'},
            {text: 'Japan'},
            {text: 'Jersey'},
            {text: 'Jordan'},
            {text: 'Kazakhstan'},
            {text: 'Kenya'},
            {text: 'Kiribati'},
            {text: 'Kuwait'},
            {text: 'Kyrgyzstan'},
            {text: 'Lao People\'s Democratic Republic'},
            {text: 'Latvia'},
            {text: 'Lebanon'},
            {text: 'Lesotho'},
            {text: 'Liberia'},
            {text: 'Libya'},
            {text: 'Liechtenstein'},
            {text: 'Lithuania'},
            {text: 'Luxembourg'},
            {text: 'Macau'},
            {text: 'Macedonia'},
            {text: 'Madagascar'},
            {text: 'Malawi'},
            {text: 'Malaysia'},
            {text: 'Maldives'},
            {text: 'Mali'},
            {text: 'Malta'},
            {text: 'Marshall Islands'},
            {text: 'Martinique'},
            {text: 'Mauritania'},
            {text: 'Mauritius'},
            {text: 'Mayotte'},
            {text: 'Mexico'},
            {text: 'Micronesia, Federated States of'},
            {text: 'Moldova'},
            {text: 'Monaco'},
            {text: 'Mongolia'},
            {text: 'Montenegro'},
            {text: 'Montserrat'},
            {text: 'Morocco'},
            {text: 'Mozambique'},
            {text: 'Myanmar'},
            {text: 'Namibia'},
            {text: 'Nauru'},
            {text: 'Nepal'},
            {text: 'New Caledonia'},
            {text: 'New Zealand'},
            {text: 'Nicaragua'},
            {text: 'Niger'},
            {text: 'Nigeria'},
            {text: 'Niue'},
            {text: 'Norfolk Island'},
            {text: 'North Korea'},
            {text: 'Northern Mariana Islands'},
            {text: 'Norway'},
            {text: 'Oman'},
            {text: 'Pakistan'},
            {text: 'Palau'},
            {text: 'Palestine, State of'},
            {text: 'Panama'},
            {text: 'Papua New Guinea'},
            {text: 'Paraguay'},
            {text: 'Peru'},
            {text: 'Philippines'},
            {text: 'Pitcairn'},
            {text: 'Poland'},
            {text: 'Portugal'},
            {text: 'Puerto Rico'},
            {text: 'Qatar'},
            {text: 'Romania'},
            {text: 'Russian Federation'},
            {text: 'Rwanda'},
            {text: 'Réunion'},
            {text: 'Saint Barthélemy'},
            {text: 'Saint Helena'},
            {text: 'Saint Kitts and Nevis'},
            {text: 'Saint Lucia'},
            {text: 'Saint Vincent and the Grenadines'},
            {text: 'Saint-Martin (France)'},
            {text: 'Samoa'},
            {text: 'San Marino'},
            {text: 'Sao Tome and Principe'},
            {text: 'Saudi Arabia'},
            {text: 'Senegal'},
            {text: 'Serbia'},
            {text: 'Seychelles'},
            {text: 'Sierra Leone'},
            {text: 'Singapore'},
            {text: 'Sint Maarten (Dutch part)'},
            {text: 'Slovakia'},
            {text: 'Slovenia'},
            {text: 'Solomon Islands'},
            {text: 'Somalia'},
            {text: 'South Africa'},
            {text: 'South Georgia and the South Sandwich Islands'},
            {text: 'South Korea'},
            {text: 'South Sudan'},
            {text: 'Spain'},
            {text: 'Sri Lanka'},
            {text: 'St. Pierre and Miquelon'},
            {text: 'Sudan'},
            {text: 'Suriname'},
            {text: 'Svalbard and Jan Mayen Islands'},
            {text: 'Swaziland'},
            {text: 'Sweden'},
            {text: 'Switzerland'},
            {text: 'Syria'},
            {text: 'Taiwan'},
            {text: 'Tajikistan'},
            {text: 'Tanzania'},
            {text: 'Thailand'},
            {text: 'The Netherlands'},
            {text: 'Timor-Leste'},
            {text: 'Togo'},
            {text: 'Tokelau'},
            {text: 'Tonga'},
            {text: 'Trinidad and Tobago'},
            {text: 'Tunisia'},
            {text: 'Turkey'},
            {text: 'Turkmenistan'},
            {text: 'Turks and Caicos Islands'},
            {text: 'Tuvalu'},
            {text: 'Uganda'},
            {text: 'Ukraine'},
            {text: 'United Arab Emirates'},
            {text: 'United Kingdom'},
            {text: 'United States'},
            {text: 'United States Minor Outlying Islands'},
            {text: 'Uruguay'},
            {text: 'Uzbekistan'},
            {text: 'Vanuatu'},
            {text: 'Vatican'},
            {text: 'Venezuela'},
            {text: 'Vietnam'},
            {text: 'Virgin Islands (British)'},
            {text: 'Virgin Islands (U.S.)'},
            {text: 'Wallis and Futuna Islands'},
            {text: 'Western Sahara'},
            {text: 'Yemen'},
            {text: 'Zambia'},
            {text: 'Zimbabwe'},
        ],

        firstInputValue: '',
        secondInputValue: '',
    }

    handleFirstInputChange = (e) => this.setState({firstInputValue: e.target.value})
    handleSecondInputChange = (e) => this.setState({secondInputValue: e.target.value})

    render() {
        return (
            <div className='spread'>
                <div>
                    <h5>Starts-with matching</h5>
                    <Typeahead
                        algorithm={Typeahead.mode.STARTS_WITH}
                        entities={this.state.countries}
                        hint={true}
                        inputProps={{
                            onChange: this.handleFirstInputChange,
                            placeholder: 'Please enter your country of origin...',
                            value: this.state.firstInputValue,
                        }} />
                </div>

                <div style={{marginLeft: '1em'}}>
                    <h5>Fuzzy matching</h5>
                    <Typeahead
                        algorithm={Typeahead.mode.FUZZY}
                        entities={this.state.countries}
                        hint={true}
                        inputProps={{
                            onChange: this.handleSecondInputChange,
                            placeholder: 'Please enter your country of origin...',
                            value: this.state.secondInputValue,
                        }} />
                </div>
            </div>
        );
    }
}

```


## Props

> Note: only top-level props are in the README, for the full list check out the [website](http://boundless.js.org/Typeahead#props).

### Required Props

There are no required props.


### Optional Props

- __`algorithm`__ ・ the mechanism used to identify and mark matching substrings; a custom set can be provided as an object (see the properties below)

  Expects | Default Value
  -       | -
  `Typeahead.mode.STARTS_WITH or Typeahead.mode.FUZZY or object` | `Typeahead.mode.FUZZY`

- __`clearOnSelection`__ ・ if `true`, clears the input text when a (partial) match is selected

  Expects | Default Value
  -       | -
  `bool` | `false`

- __`component`__ ・ overrides the HTML container tag

  Expects | Default Value
  -       | -
  `string` | `'div'`

- __`entities`__ ・ an array of objects that user input is filtered against; at a minimum, each object must have a `text` property and any other supplied property is passed through to the resulting DOM element

  Expects | Default Value
  -       | -
  `arrayOf(object)` | `[]`

- __`hidePlaceholderOnFocus`__ ・ triggers the placeholder to disappear when the input field is focused, reappears when the user has tabbed away or focus is moved

  Expects | Default Value
  -       | -
  `bool` | `true`

- __`hint`__ ・ renders a disabled textfield with the full text of the currently selected input hint; will remain blank if the matched substring is not at the beginning of the user input

  Expects | Default Value
  -       | -
  `bool` | `null`

- __`hintProps`__ ・ any [React-supported attribute](https://facebook.github.io/react/docs/tags-and-attributes.html#html-attributes); applied to the `.b-typeahead-hint` HTML element

  Expects | Default Value
  -       | -
  `object` | `{}`

- __`inputProps`__ ・ props to be passed through to the input node, `.b-textual-input`; this includes the standard set of React input props like `defaultValue`, `value`, `name`, `placeholder`, `autoFocus`, etc.

  Expects | Default Value
  -       | -
  `object` | `{
    type: 'text',
}`

- __`matchWrapperProps`__ ・ any [React-supported attribute](https://facebook.github.io/react/docs/tags-and-attributes.html#html-attributes); applied to the `.b-typeahead-match-wrapper` HTML element

  Expects | Default Value
  -       | -
  `object` | `{}`

- __`offscreenClass`__ ・ the "offscreen" class used by your application; specifically to retain [ARIA navigability](http://snook.ca/archives/html_and_css/hiding-content-for-accessibility) as `display: none` excludes the element from consideration

  Expects | Default Value
  -       | -
  `string` | `'b-offscreen'`

- __`onComplete`__ ・ called when the user presses `Enter` with no autosuggest hint available, indicating that input is complete

  Expects | Default Value
  -       | -
  `function` | `() => {}`

- __`onEntityHighlighted`__ ・ called with the index of the highlighted entity due to keyboard selection

  Expects | Default Value
  -       | -
  `function` | `() => {}`

- __`onEntitySelected`__ ・ called with the index of the entity selected by the user

  Expects | Default Value
  -       | -
  `function` | `() => {}`


## Reference Styles
### Stylus
```stylus
// Bring in Boundless's base Stylus variables
@require "node_modules/boundless-typeahead/variables"

// Redefine any variables as desired, e.g.
color-accent = royalblue

// Bring in the component styles; they will be autoconfigured based on the above
@require "node_modules/boundless-typeahead/style"
```

### CSS
If desired, a precompiled plain CSS stylesheet is available for customization at `/build/style.css`, based on Boundless's [default variables](https://github.com/enigma-io/boundless/blob/master/variables.styl).


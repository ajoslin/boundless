(function(e,t,n){"use strict";var r="default"in t?t["default"]:t;var o="default"in n?n["default"]:n;var s=function(e){return typeof e==="function"};function i(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return Object.keys(e).reduce(function n(r,o){if(t.indexOf(o)===-1){r[o]=e[o]}return r},{})}var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var p=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();var u=function(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e};var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){e[r]=n[r]}}}return e};var d=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t};var f=function(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n};var h=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e};var y=function(e){d(t,e);function t(){var e;var n,o,i;p(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++){l[u]=arguments[u]}return i=(n=(o=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o),o.state={activeChildIndex:o.props.defaultActiveChildIndex},o.handleKeyDown=function(e){switch(e.key){case"ArrowUp":if(o.props.mode===t.mode.VERTICAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(-1)}break;case"ArrowLeft":if(o.props.mode===t.mode.HORIZONTAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(-1)}break;case"ArrowDown":if(o.props.mode===t.mode.VERTICAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(1)}break;case"ArrowRight":if(o.props.mode===t.mode.HORIZONTAL||o.props.mode===t.mode.BOTH){e.preventDefault();o.moveFocus(1)}break}if(s(o.props.onKeyDown)){o.props.onKeyDown(e)}},o.handleFocus=function(e){if(e.target.hasAttribute("data-focus-index")){var t=parseInt(e.target.getAttribute("data-focus-index"),10);var n=r.Children.toArray(o.props.children)[t];o.setState({activeChildIndex:t});if(n.props.onFocus){n.props.onFocus(e)}}},n),h(o,i)}l(t,[{key:"componentDidUpdate",value:function e(t,n){if(this.state.activeChildIndex!==n.activeChildIndex){this.setFocus(this.state.activeChildIndex)}}},{key:"componentWillReceiveProps",value:function e(t){if(this.state.activeChildIndex!==0){var n=t.children?r.Children.count(t.children):0;if(n===0){this.setState({activeChildIndex:0})}else if(this.state.activeChildIndex>=n){this.setState({activeChildIndex:n-1})}}}},{key:"setFocus",value:function e(t){var r=(this.refs.wrapper instanceof HTMLElement?this.refs.wrapper:n.findDOMNode(this.refs.wrapper)).children[t];if(r&&r.hasAttribute("data-skip")){this.moveFocus(r.compareDocumentPosition(document.activeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}else if(r&&document.activeElement!==r){r.focus()}}},{key:"moveFocus",value:function e(t){var n=this.props.children?r.Children.count(this.props.children):0;var o=this.state.activeChildIndex+t;if(o>=n){o=0}else if(o<0){o=n-1}this.setState({activeChildIndex:o})}},{key:"children",value:function e(){var t=this;return r.Children.map(this.props.children,function(e,n){return r.cloneElement(e,{"data-focus-index":n,"data-skip":parseInt(e.props.tabIndex,10)===-1||undefined,key:e.key||n,tabIndex:t.state.activeChildIndex===n?0:-1})})}},{key:"render",value:function e(){return r.createElement(this.props.component,c({},i(this.props,t.internalKeys),{ref:"wrapper",onFocus:this.handleFocus,onKeyDown:this.handleKeyDown}),this.children())}}]);return t}(r.PureComponent);y.mode={HORIZONTAL:"HORIZONTAL",VERTICAL:"VERTICAL",BOTH:"BOTH"};y.propTypes={component:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.func]),defaultActiveChildIndex:t.PropTypes.number,mode:t.PropTypes.oneOf([y.mode.BOTH,y.mode.HORIZONTAL,y.mode.VERTICAL])};y.defaultProps={component:"div",defaultActiveChildIndex:0,mode:y.mode.BOTH};y.internalKeys=Object.keys(y.defaultProps);function m(e,t){return t={exports:{}},e(t,t.exports),t.exports}var v=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var P=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),r.mounted=false,r.state={},n),h(r,o)}l(t,[{key:"convertDataToJSXOrWait",value:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;var r=n.data;if(typeof r==="function"){r=r(n);if(!(r instanceof Promise)){throw new Error("Boundless.Async: called props.data function and it did not return a Promise.")}}if(r instanceof Promise){this.setState({component:null});r.then(function(e){if(e instanceof Response&&e.ok===false){return t.setState({component:false})}if(t.mounted){t.setState(function(t,n){return{component:n.data===r?n.convertToJSXFunc(e):t.component}})}},function(){return t.setState({component:false})});return}this.setState({component:n.convertToJSXFunc(r)})}},{key:"componentWillMount",value:function e(){this.convertDataToJSXOrWait()}},{key:"componentDidMount",value:function e(){this.mounted=true}},{key:"componentWillReceiveProps",value:function e(t){this.convertDataToJSXOrWait(t)}},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"getClasses",value:function e(t){return v("b-async",this.props.className,t,{"b-async-error":this.state.component===false,"b-async-loading":this.state.component===null})}},{key:"render",value:function e(){if(this.state.component===null||this.state.component===false){return r.createElement("div",c({},i(this.props,t.internalKeys),{className:this.getClasses()}),this.state.component===null?this.props.loadingContent:this.props.errorContent)}return r.cloneElement(this.state.component,c({},i(this.props,t.internalKeys),{className:this.getClasses(this.state.component.props&&this.state.component.props.className)}))}}]);return t}(r.PureComponent);P.propTypes={convertToJSXFunc:t.PropTypes.func,data:t.PropTypes.any,errorContent:t.PropTypes.node,loadingContent:t.PropTypes.node};P.defaultProps={convertToJSXFunc:function e(t){return t},data:null,errorContent:"⚠️",loadingContent:null};P.internalKeys=Object.keys(P.defaultProps);var g=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});function b(){}var k=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.handleClick=function(e){if(r.props.disabled){return}r.toggleState(e);if(s(r.props.onClick)){r.props.onClick(e)}},r.handleKeyDown=function(e){if(r.props.disabled){return}switch(e.key){case"Enter":case"Space":e.preventDefault();r.toggleState(e)}if(s(r.props.onKeyDown)){r.props.onKeyDown(e)}},n),h(r,o)}l(t,[{key:"toggleState",value:function e(t){this.props[this.props.pressed?"onUnpressed":"onPressed"](t)}},{key:"render",value:function e(){return r.createElement(this.props.component,c({},i(this.props,t.internalKeys),{ref:"button",className:g("b-button",this.props.className,{"b-button-pressable":typeof this.props.pressed!=="undefined","b-button-pressed":this.props.pressed}),"aria-pressed":this.props.pressed,onKeyDown:this.handleKeyDown,onClick:this.handleClick}),this.props.children)}}]);return t}(r.PureComponent);k.propTypes={children:t.PropTypes.node,component:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.func]),onClick:t.PropTypes.func,onPressed:t.PropTypes.func,onUnpressed:t.PropTypes.func,pressed:t.PropTypes.bool};k.defaultProps={children:null,component:"button",onClick:b,onPressed:b,onUnpressed:b,pressed:undefined};k.internalKeys=Object.keys(k.defaultProps);var T=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});function w(){return"b-"+([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^Math.random()*16>>e/4).toString(16)})}var O=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.id=w(),r.handleChange=function(e){if(r.props.inputProps.disabled){return}r.props[!r.props.inputProps.checked?"onChecked":"onUnchecked"](r.props.inputProps.name);if(s(r.props.inputProps.onChange)){r.props.inputProps.onChange(e)}},r.handleClick=function(e){if(r.props.inputProps.disabled){return}r.refs.input.focus();if(s(r.props.inputProps.onClick)){r.props.inputProps.onClick(e)}},n),h(r,o)}l(t,[{key:"componentDidMount",value:function e(){if(this.props.inputProps.indeterminate){this.setIndeterminate()}}},{key:"componentDidUpdate",value:function e(t){if(t.inputProps.indeterminate!==this.props.inputProps.indeterminate){this.setIndeterminate()}}},{key:"setIndeterminate",value:function e(){this.refs.input.indeterminate=!!this.props.inputProps.indeterminate}},{key:"getAriaState",value:function e(){return this.props.inputProps.indeterminate?"mixed":String(this.props.inputProps.checked)}},{key:"renderInput",value:function e(){return r.createElement("input",c({},i(this.props.inputProps,"indeterminate"),{ref:"input",type:"checkbox",className:T("b-checkbox",this.props.inputProps.className,{"b-checkbox-mixed":this.props.inputProps.indeterminate,"b-checkbox-checked":this.props.inputProps.checked,"b-checkbox-unchecked":!this.props.inputProps.indeterminate&&!this.props.inputProps.checked}),id:this.props.inputProps.id||this.id,"aria-checked":this.getAriaState(),onChange:this.handleChange,onClick:this.handleClick}))}},{key:"renderLabel",value:function e(){if(this.props.label){return r.createElement("label",c({},this.props.labelProps,{ref:"label",className:T("b-checkbox-label",this.props.labelProps.className),htmlFor:this.props.inputProps.id||this.id}),this.props.label)}}},{key:"render",value:function e(){return r.createElement("div",c({},i(this.props,t.internalKeys),{ref:"wrapper",className:T("b-checkbox-wrapper",this.props.className)}),this.renderInput(),this.renderLabel())}}]);return t}(r.PureComponent);O.propTypes={inputProps:t.PropTypes.shape({checked:t.PropTypes.bool,className:t.PropTypes.string,disabled:t.PropTypes.bool,id:t.PropTypes.string,indeterminate:t.PropTypes.bool,onChange:t.PropTypes.func,onClick:t.PropTypes.func,name:t.PropTypes.string,value:t.PropTypes.string}),label:t.PropTypes.node,labelProps:t.PropTypes.object,onChecked:t.PropTypes.func,onUnchecked:t.PropTypes.func};O.defaultProps={inputProps:{checked:false,indeterminate:false},label:null,labelProps:{},onChecked:b,onUnchecked:b};O.internalKeys=Object.keys(O.defaultProps);var C=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var x=function(e){d(t,e);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"allItemsChecked",value:function e(){return this.props.items.every(function(e){return e.inputProps.checked===true})}},{key:"anyItemsChecked",value:function e(){return this.props.items.some(function(e){return e.inputProps.checked===true})}},{key:"renderSelectAll",value:function e(){if(this.props.selectAll){var t=this.allItemsChecked();var n=this.props.selectAllProps.inputProps;return r.createElement(O,c({},this.props.selectAllProps,{ref:"select_all",key:"cb_select_all",className:C("b-checkbox-group-selectall",this.props.selectAllProps.className),inputProps:c({},n,{checked:t,indeterminate:!t&&this.anyItemsChecked(),name:n&&n.name?n.name:"cb_select_all"}),label:this.props.selectAllProps.label||"Select All",onChecked:this.props.onAllChecked,onUnchecked:this.props.onAllUnchecked}))}}},{key:"renderCheckboxes",value:function e(){var t=this;return this.props.items.map(function(e){return r.createElement(O,c({},e,{key:e.inputProps.name,onChecked:t.props.onChildChecked,onUnchecked:t.props.onChildUnchecked}))})}},{key:"renderChildren",value:function e(){var n=[this.renderCheckboxes()];if(this.props.selectAll&&this.props.selectAllPosition){switch(this.props.selectAllPosition){case t.selectAllPosition.BEFORE:n.unshift(this.renderSelectAll());break;case t.selectAllPosition.AFTER:n.push(this.renderSelectAll());break}}return n}},{key:"render",value:function e(){return r.createElement("div",c({},i(this.props,t.internalKeys),{ref:"group",className:C("b-checkbox-group",this.props.className)}),this.renderChildren())}}]);return t}(r.PureComponent);x.selectAllPosition={BEFORE:"BEFORE",AFTER:"AFTER"};x.propTypes={items:t.PropTypes.arrayOf(O.propTypes.inputProps).isRequired,onAllChecked:t.PropTypes.func,onAllUnchecked:t.PropTypes.func,onChildChecked:t.PropTypes.func,onChildUnchecked:t.PropTypes.func,selectAll:t.PropTypes.bool,selectAllProps:t.PropTypes.shape({label:t.PropTypes.string,inputProps:t.PropTypes.object}),selectAllPosition:t.PropTypes.oneOf([x.selectAllPosition.BEFORE,x.selectAllPosition.AFTER])};x.defaultProps={items:[],onAllChecked:b,onAllUnchecked:b,onChildChecked:b,onChildUnchecked:b,selectAll:false,selectAllProps:{},selectAllPosition:x.selectAllPosition.BEFORE};x.internalKeys=Object.keys(x.defaultProps);var E=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var N=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),r.id=w(),r.$portal=null,r.$passenger=null,n),h(r,o)}l(t,[{key:"componentWillMount",value:function e(){this.$portal=document.createElement("div");this.props.destination.appendChild(this.$portal);this.renderPortalledContent()}},{key:"renderPortalledContent",value:function e(){var t=r.isValidElement(this.props.children)?this.props.children:r.createElement("div",null,this.props.children);this.$portal.id=this.props.portalId||this.id;o.unstable_renderSubtreeIntoContainer(this,t,this.$portal);this.$passenger=this.$portal.children[0]}},{key:"componentDidUpdate",value:function e(){this.renderPortalledContent()}},{key:"componentWillUnmount",value:function e(){o.unmountComponentAtNode(this.$portal);this.props.destination.removeChild(this.$portal)}},{key:"render",value:function e(){return r.createElement("span",c({},i(this.props,t.internalKeys),u({},t.PORTAL_DATA_ATTRIBUTE,this.props.portalId||this.id)))}}]);return t}(r.Component);N.propTypes={children:r.PropTypes.node,destination:t.PropTypes.instanceOf(HTMLElement),portalId:t.PropTypes.string};N.defaultProps={children:null,destination:document.body,portalId:null};N.internalKeys=Object.keys(N.defaultProps);N.PORTAL_DATA_ATTRIBUTE="data-portal-id";var I=Array.prototype.slice;var S=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.mounted=false,r.uuidHeader=w(),r.uuidBody=w(),r.handleFocus=function(e){if(!r.props.captureFocus){if(r.props.closeOnOutsideFocus){if(!r.isPartOfDialog(e.target)){return window.setTimeout(r.props.onClose,0)}}return}var t=e.explicitOriginalTarget||e.relatedTarget;if(r.isPartOfDialog(t)&&!r.isPartOfDialog(e.target)){e.preventDefault();t.focus()}},r.handleKeyDown=function(e){if(r.props.closeOnEscKey&&e.key==="Escape"){window.setTimeout(r.props.onClose,0)}if(s(r.props.onKeyDown)){r.props.onKeyDown(e)}},r.handleOutsideClick=function(e){if(r.props.closeOnOutsideClick&&!r.isPartOfDialog(e.target)){window.setTimeout(r.props.onClose,0)}},r.handleOutsideScrollWheel=function(e){if(r.props.closeOnOutsideScroll&&!r.isPartOfDialog(e.target)){window.setTimeout(r.props.onClose,0)}},n),h(r,o)}l(t,[{key:"isPartOfDialog",value:function e(t){if(!t||t===window){return false}var n=[this.$wrapper].concat(I.call(this.$wrapper.querySelectorAll("["+N.PORTAL_DATA_ATTRIBUTE+"]")).map(function(e){return document.getElementById(e.getAttribute(N.PORTAL_DATA_ATTRIBUTE))}));var r=t.nodeType!==Node.ELEMENT_NODE?t.parentNode:t;return n.some(function(e){return e.contains(r)})}},{key:"componentDidMount",value:function e(){window.addEventListener("click",this.handleOutsideClick,true);window.addEventListener("contextmenu",this.handleOutsideClick,true);window.addEventListener("focus",this.handleFocus,true);window.addEventListener("scroll",this.handleOutsideScrollWheel,true);window.addEventListener("wheel",this.handleOutsideScrollWheel,true);if(this.props.captureFocus&&!this.isPartOfDialog(document.activeElement)){this.$dialog.focus()}}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("click",this.handleOutsideClick,true);window.removeEventListener("contextmenu",this.handleOutsideClick,true);window.removeEventListener("focus",this.handleFocus,true);window.removeEventListener("scroll",this.handleOutsideScrollWheel,true);window.removeEventListener("wheel",this.handleOutsideScrollWheel,true)}},{key:"renderBody",value:function e(){return r.createElement("div",c({},this.props.bodyProps,{id:this.props.bodyProps.id||this.uuidBody,className:E("b-dialog-body",this.props.bodyProps.className)}),this.props.children)}},{key:"renderFooter",value:function e(){if(this.props.footer){return r.createElement("footer",c({},this.props.footerProps,{className:E("b-dialog-footer",this.props.footerProps.className)}),this.props.footer)}}},{key:"renderHeader",value:function e(){if(this.props.header){return r.createElement("header",c({},this.props.headerProps,{id:this.props.headerProps.id||this.uuidHeader,className:E("b-dialog-header",this.props.headerProps.className)}),this.props.header)}}},{key:"renderFocusBoundary",value:function e(){if(this.props.captureFocus){return r.createElement("div",{className:"b-offscreen",tabIndex:"0","aria-hidden":"true"}," ")}}},{key:"render",value:function e(){var n=this;return r.createElement("div",c({},this.props.wrapperProps,{ref:function e(t){return n.$wrapper=t},className:E("b-dialog-wrapper",this.props.wrapperProps.className),tabIndex:"0"}),this.renderFocusBoundary(),this.props.before,r.createElement("div",c({},i(this.props,t.internalKeys),{ref:function e(t){return n.$dialog=t},className:E("b-dialog",this.props.className),onKeyDown:this.handleKeyDown,role:"dialog","aria-labelledby":this.uuidHeader,"aria-describedby":this.uuidBody,tabIndex:"0"}),this.renderHeader(),this.renderBody(),this.renderFooter()),this.props.after,this.renderFocusBoundary())}}]);return t}(r.PureComponent);S.propTypes={after:t.PropTypes.node,before:t.PropTypes.node,bodyProps:t.PropTypes.object,captureFocus:t.PropTypes.bool,children:t.PropTypes.node,closeOnEscKey:t.PropTypes.bool,closeOnOutsideClick:t.PropTypes.bool,closeOnOutsideFocus:t.PropTypes.bool,closeOnOutsideScroll:t.PropTypes.bool,footer:t.PropTypes.node,footerProps:t.PropTypes.object,header:t.PropTypes.node,headerProps:t.PropTypes.object,onClose:t.PropTypes.func,wrapperProps:t.PropTypes.object};S.defaultProps={after:null,before:null,bodyProps:{},captureFocus:true,children:null,closeOnEscKey:false,closeOnOutsideClick:false,closeOnOutsideFocus:false,closeOnOutsideScroll:false,footer:null,footerProps:{},header:null,headerProps:{},onClose:b,wrapperProps:{}};S.internalKeys=Object.keys(S.defaultProps);var A=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var j=[];function R(e){return parseInt(e,10)}function F(e){var t=n.findDOMNode(e);var r=window.getComputedStyle(t.parentNode);var o=R(window.getComputedStyle(t).fontSize);var s=R(r.height);var i=R(r.width);if(r.boxSizing==="border-box"||r.boxSizing==="padding-box"){s-=R(r.paddingTop)+R(r.paddingBottom);i-=R(r.paddingLeft)+R(r.paddingRight)}var a=Math.floor(o/t.offsetHeight*s);var p=Math.floor(o/t.offsetWidth*i);t.style.fontSize=(Math.min(e.props.maxFontSize,a,p)||1)+"px"}function _(){j.forEach(function(e){return F(e)})}function D(e){if(j.length===0){window.addEventListener("resize",_,true)}j.push(e)}function L(e){j.splice(j.indexOf(e),1);if(j.length===0){window.removeEventListener("resize",_,true)}}var K=function(e){d(t,e);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"componentDidMount",value:function e(){F(this);D(this)}},{key:"componentDidUpdate",value:function e(){F(this)}},{key:"componentWillUnmount",value:function e(){L(this)}},{key:"render",value:function e(){return r.createElement(this.props.component,c({},i(this.props,t.internalKeys),{className:A("b-text",this.props.className)}),this.props.children)}}]);return t}(r.PureComponent);K.propTypes={children:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.number]),component:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.func]),maxFontSize:t.PropTypes.number};K.defaultProps={children:null,component:"span",maxFontSize:Number.MAX_VALUE};K.internalKeys=Object.keys(K.defaultProps);var M=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var W=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),r.state={status:t.status.LOADING},n),h(r,o)}l(t,[{key:"componentWillReceiveProps",value:function e(n){if(n.src!==this.props.src){this.resetPreloader();this.setState({status:t.status.LOADING})}}},{key:"componentDidMount",value:function e(){this.preload()}},{key:"componentDidUpdate",value:function e(){this.preload()}},{key:"componentWillUnmount",value:function e(){this.resetPreloader()}},{key:"resetPreloader",value:function e(){this.loader.onload=null;this.loader.onerror=null;this.loader=null}},{key:"preload",value:function e(){var n=this;if(this.loader){return}this.loader=document.createElement("img");this.loader.onload=function(){return n.setState({status:t.status.LOADED})};this.loader.onerror=function(){return n.setState({status:t.status.ERROR})};this.loader.src=this.props.src}},{key:"renderImage",value:function e(){if(this.props.displayAsBackgroundImage){return r.createElement("div",c({},this.props.imageProps,{ref:"image",className:M("b-image",this.props.imageProps.className),title:this.props.alt,style:c({},this.props.imageProps.style,{backgroundImage:"url("+this.props.src+")"})}))}return r.createElement("img",c({},this.props.imageProps,{ref:"image",className:M("b-image",this.props.imageProps.className),src:this.props.src,alt:this.props.alt,onLoad:b,onError:b}))}},{key:"renderStatus",value:function e(){return r.createElement("div",c({},this.props.statusProps,{ref:"status",className:M("b-image-status",this.props.statusProps.className,{"b-image-loading":this.state.status===t.status.LOADING,"b-image-loaded":this.state.status===t.status.LOADED,"b-image-error":this.state.status===t.status.ERROR}),role:"presentation"}))}},{key:"render",value:function e(){return r.createElement("div",c({},i(this.props,t.internalKeys),{ref:"wrapper",className:M("b-image-wrapper",this.props.className)}),this.renderImage(),this.renderStatus())}}]);return t}(r.PureComponent);W.status={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"};W.propTypes={alt:t.PropTypes.string,displayAsBackgroundImage:t.PropTypes.bool,imageProps:t.PropTypes.object,src:t.PropTypes.string.isRequired,statusProps:t.PropTypes.object};W.defaultProps={alt:null,displayAsBackgroundImage:false,imageProps:{},src:"about:blank",statusProps:{}};W.internalKeys=Object.keys(W.defaultProps);var B=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var V=function(e){return typeof e==="string"};var H=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.state={input:"",isControlled:V(r.props.inputProps.value),isFocused:false},r.setInputValue=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return r.setState({input:e})},r.getValue=function(){return r.refs.field.value},r.handleBlur=function(e){r.setState({isFocused:false});if(s(r.props.inputProps.onBlur)===true){r.props.inputProps.onBlur(e)}},r.handleFocus=function(e){r.setState({isFocused:true});if(s(r.props.inputProps.onFocus)===true){r.props.inputProps.onFocus(e)}},r.handleChange=function(e){if(r.state.isControlled===false){r.setInputValue(e.target.value)}if(s(r.props.inputProps.onChange)===true){r.props.inputProps.onChange(e)}},n),h(r,o)}l(t,[{key:"componentWillMount",value:function e(){if(this.state.isControlled===true){return this.setInputValue(this.props.inputProps.value)}this.setInputValue(this.props.inputProps.defaultValue)}},{key:"componentWillReceiveProps",value:function e(t){if(t.inputProps.value!==this.props.inputProps.value){this.setInputValue(t.inputProps.value)}}},{key:"setValue",value:function e(t){this.setInputValue(t);this.refs.field.value=t;if(this.state.isControlled===true){this.refs.field.dispatchEvent(new Event("input",{bubbles:true}));this.refs.field.dispatchEvent(new Event("change",{bubbles:true}))}}},{key:"getPlaceholderText",value:function e(){var t=this.state.input!=="";var n=this.props.hidePlaceholderOnFocus===true?this.state.isFocused===false&&t===false:t===false;return n?this.props.inputProps.placeholder:""}},{key:"renderPlaceholder",value:function e(){return r.createElement("div",{ref:"placeholder",className:"b-input-placeholder b-input"},this.getPlaceholderText())}},{key:"render",value:function e(){var n=this.props;return r.createElement("div",c({},i(n,t.internalKeys),{ref:"wrapper",className:B("b-input-wrapper",n.className),title:this.getPlaceholderText()}),this.renderPlaceholder(),r.createElement("input",c({},n.inputProps,{ref:"field",className:B("b-input",n.inputProps.className),placeholder:null,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange})))}}]);return t}(r.PureComponent);H.propTypes={hidePlaceholderOnFocus:t.PropTypes.bool,inputProps:t.PropTypes.shape({defaultValue:t.PropTypes.string,onBlur:t.PropTypes.func,onFocus:t.PropTypes.func,onChange:t.PropTypes.func,placeholder:t.PropTypes.string,type:t.PropTypes.string,value:t.PropTypes.string})};H.defaultProps={hidePlaceholderOnFocus:true,inputProps:{type:"text"}};H.internalKeys=Object.keys(H.defaultProps);var U=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});function $(e,t){return Object.keys(t).reduce(function(t,n){if(n in e){t[n]=e[n]}return t},{})}var z=function(e){
d(t,e);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"render",value:function e(){var n=this;var o=this.props;return r.createElement(N,o.portalProps,r.createElement("div",c({},i(o,t.internalKeys),{ref:function e(t){return n.$modal=t},className:U("b-modal-wrapper",o.className)}),r.createElement("div",c({},o.maskProps,{className:U("b-modal-mask",o.maskProps.className)})),r.createElement(S,c({},$(o,S.defaultProps),o.modalProps,{className:U("b-modal",o.modalProps.className)}),o.children)))}}]);return t}(r.PureComponent);z.propTypes=c({},S.propTypes,{maskProps:t.PropTypes.object,modalProps:t.PropTypes.object,portalProps:t.PropTypes.shape(N.propTypes)});z.defaultProps=c({},S.defaultProps,{captureFocus:true,maskProps:{},modalProps:{},portalProps:{}});z.internalKeys=Object.keys(z.defaultProps);var X=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Z=1/0;var J=1.7976931348623157e308;var Y=0/0;var q="[object Symbol]";var G=/^\s+|\s+$/g;var Q=/^[-+]0x[0-9a-f]+$/i;var ee=/^0b[01]+$/i;var te=/^0o[0-7]+$/i;var ne=parseInt;var re=Object.prototype;var oe=re.toString;function se(e){return typeof e=="number"&&e==ue(e)}function ie(e){var t=typeof e==="undefined"?"undefined":a(e);return!!e&&(t=="object"||t=="function")}function ae(e){return!!e&&(typeof e==="undefined"?"undefined":a(e))=="object"}function pe(e){return(typeof e==="undefined"?"undefined":a(e))=="symbol"||ae(e)&&oe.call(e)==q}function le(e){if(!e){return e===0?e:0}e=ce(e);if(e===Z||e===-Z){var t=e<0?-1:1;return t*J}return e===e?e:0}function ue(e){var t=le(e),n=t%1;return t===t?n?t-n:t:0}function ce(e){if(typeof e=="number"){return e}if(pe(e)){return Y}if(ie(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ie(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(G,"");var n=ee.test(e);return n||te.test(e)?ne(e.slice(2),n?2:8):Q.test(e)?Y:+e}var de=se;var fe=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var he=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.state={indexOfOptionInFocus:null},r.handleKeyDown=function(e){var t=e.key;var n=r.state.indexOfOptionInFocus;if(t==="ArrowLeft"){r.setFocus(r.getPreviousOptionIndex(n));e.preventDefault()}else if(t==="ArrowRight"){r.setFocus(r.getNextOptionIndex(n));e.preventDefault()}else if(t==="Enter"){r.handleOptionClick(r.props.options[n]);e.preventDefault()}if(s(r.props.onKeyDown)){r.props.onKeyDown(e)}},n),h(r,o)}l(t,[{key:"currentValue",value:function e(){var t=void 0;this.props.options.some(function(e){if(e.selected){t=e.value;return true}});return t}},{key:"setFocus",value:function e(t){n.findDOMNode(this.refs["option_$"+t]).focus()}},{key:"getNextOptionIndex",value:function e(t){var n=t+1;return n<this.props.options.length?n:0}},{key:"getPreviousOptionIndex",value:function e(t){var n=t-1;return n<0?this.props.options.length-1:n}},{key:"handleOptionBlur",value:function e(t,n){if(this.state.indexOfOptionInFocus===this.props.options.indexOf(t)){this.setState({indexOfOptionInFocus:null})}if(s(t.onBlur)){t.onBlur(n)}}},{key:"handleOptionClick",value:function e(t,n){this.props.onOptionSelected(t.value);if(s(t.onClick)){t.onClick(n)}}},{key:"handleOptionFocus",value:function e(t,n){this.setState({indexOfOptionInFocus:this.props.options.indexOf(t)});if(s(t.onFocus)){t.onFocus(n)}}},{key:"renderOptions",value:function e(){var n=this;return this.props.options.map(function(e,o){return r.createElement(k,c({},i(e,t.internalChildKeys),{role:"radio","aria-checked":String(e.selected),ref:"option_$"+o,key:e.value,className:fe("b-segmented-control-option",e.className,{"b-segmented-control-option-selected":e.selected}),tabIndex:e.selected?"0":"-1",onBlur:n.handleOptionBlur.bind(n,e),onPressed:n.handleOptionClick.bind(n,e),onFocus:n.handleOptionFocus.bind(n,e)}),e.content)})}},{key:"render",value:function e(){return r.createElement("div",c({},i(this.props,t.internalKeys),{ref:"wrapper",role:"radiogroup",className:fe("b-segmented-control",this.props.className),onKeyDown:this.handleKeyDown}),this.renderOptions())}}]);return t}(r.PureComponent);he.propTypes={onOptionSelected:t.PropTypes.func,options:function e(t){if(t.options.length<2){throw new Error("Must provide at least two options.")}var n=t.options.some(function(e){if(!("selected"in e)){return true}});if(n){throw new Error("Must provide a `selected` prop for each option.")}var r=false;var o=t.options.some(function(e){if(e.selected){if(r){return true}r=true}});if(o){throw new Error("Encountered multiple options with `selected: true`. There can be only one.")}if(t.options.some(function(e){return typeof e.value==="undefined"})){throw new Error("Must provide a `value` prop for each option.")}}};he.defaultProps={onOptionSelected:b,options:[]};he.internalKeys=Object.keys(he.defaultProps);he.internalChildKeys=["content","value","selected"];var ye=function e(t){return t};var me=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),r.state={currentPage:r.props.initialPage,targetIndex:(r.props.initialPage-1)*r.props.numItemsPerPage},r.currentPage=function(){return r.state.currentPage},r.getPageForIndex=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:r.props.numItemsPerPage;return Math.ceil((e+1)/t)},r.totalPages=function(){return Math.ceil(r.props.totalItems/r.props.numItemsPerPage)},r.firstVisibleItemIndex=function(){return(r.currentPage()-1)*r.props.numItemsPerPage},r.pageToIndex=function(e){if(e<0||e>=r.props.totalItems){return new Error("Cannot page to invalid index "+e+".")}r.setState({currentPage:r.getPageForIndex(e),targetIndex:e})},r.handleClick=function(e){var n=void 0;switch(e){case t.controls.FIRST:n=0;break;case t.controls.PREVIOUS:n=r.firstVisibleItemIndex()-r.props.numItemsPerPage;break;case t.controls.NEXT:n=r.firstVisibleItemIndex()+r.props.numItemsPerPage;break;case t.controls.LAST:n=r.props.totalItems-1;break;default:n=parseInt(e,10)*r.props.numItemsPerPage-1}r.setState({currentPage:r.getPageForIndex(n),targetIndex:n})},n),h(r,o)}l(t,[{key:"componentDidUpdate",value:function e(t,r){if(r.currentPage!==this.currentPage()){n.findDOMNode(this.refs.item_0).focus()}}},{key:"componentWillReceiveProps",value:function e(){var t=this;var n=this.props;this.setState(function(e,r){if(r.identifier!==n.identifier){return{currentPage:1,targetIndex:0}}return{currentPage:t.getPageForIndex(e.targetIndex,r.numItemsPerPage),targetIndex:e.targetIndex}})}},{key:"createPageButtonOptions",value:function e(){var n=[];var r=this.currentPage();var o=this.props.numPageToggles;var i=this.totalPages();var a=r-(r-1)%o;var p=Math.min(a+o-1,i);if(this.props.showPaginationState){n.push({selected:false,content:s(this.props.showPaginationState)?this.props.showPaginationState(r,i):r+" of "+i,value:"",disabled:true,className:"b-pagination-control b-pagination-control-state"})}if(this.props.showJumpToFirst){n.push({selected:false,content:this.props.jumpToFirstControlContent,value:t.controls.FIRST,disabled:this.currentPage()===1,className:"b-pagination-control b-pagination-control-first"})}n.push({selected:false,content:this.props.previousPageControlContent,value:t.controls.PREVIOUS,disabled:this.currentPage()===1,className:"b-pagination-control b-pagination-control-previous"});for(var l=a;l<=p;l++){n.push({className:"b-pagination-control","data-page-number":l,selected:l===this.currentPage(),content:l,value:l})}n.push({selected:false,content:this.props.nextPageControlContent,value:t.controls.NEXT,disabled:this.currentPage()===i,className:"b-pagination-control b-pagination-control-next"});if(this.props.showJumpToLast){n.push({selected:false,content:this.props.jumpToLastControlContent,value:t.controls.LAST,disabled:this.currentPage()===i,className:"b-pagination-control b-pagination-control-last"})}if(this.props.customControlContent){n.push({selected:false,content:this.props.customControlContent,value:w(),disabled:true,className:"b-pagination-control b-pagination-control-custom"})}return n}},{key:"generateItems",value:function e(){var t=[];var n=this.firstVisibleItemIndex();var r=Math.min(this.props.totalItems,n+this.props.numItemsPerPage)-1;for(var o=n;o<=r;o+=1){t.push({data:this.props.getItem(o)})}return t}},{key:"renderItems",value:function e(){var t=this;var n=this.props.listWrapperProps;var o=this.props.numItemsPerPage*(this.currentPage()-1);return r.createElement(y,c({},n,{ref:"itemList",className:X("b-pagination-items",n.className)}),this.generateItems().map(function(e,n){return r.createElement(P,{ref:"item_"+n,key:n,className:X("b-pagination-item",{"b-pagination-item-even":n%2===0,"b-pagination-item-odd":n%2!==0}),convertToJSXFunc:t.props.itemToJSXConverterFunc,data:e.data,"data-pagination-index":o+n,loadingContent:t.props.itemLoadingContent})}))}},{key:"renderControls",value:function e(t){if(this.props.hidePagerIfNotNeeded&&this.props.totalItems<=this.props.numItemsPerPage){return}var n=this.props.toggleWrapperProps;var o=t.toLowerCase();var s=o[0].toUpperCase()+o.slice(1);return r.createElement(he,c({},n,{ref:"segmentedControl"+s,className:X("b-pagination-controls",n.className,u({},"b-pagination-controls-"+o,true)),options:this.createPageButtonOptions(),onOptionSelected:this.handleClick}))}},{key:"renderView",value:function e(){var n=this.props;var o=t.positions;return r.createElement("div",{ref:"paginatedView",className:"b-pagination"},n.position===o.ABOVE||n.position===o.BOTH?this.renderControls(o.ABOVE):b,n.before,this.renderItems(),n.after,n.position===o.BELOW||n.position===o.BOTH?this.renderControls(o.BELOW):b)}},{key:"render",value:function e(){return r.createElement("div",c({},i(this.props,t.internalKeys),{ref:"wrapper",className:X("b-pagination-wrapper",this.props.className)}),this.renderView())}}]);return t}(r.PureComponent);me.controls={FIRST:"FIRST",PREVIOUS:"PREVIOUS",NEXT:"NEXT",LAST:"LAST"};me.positions={ABOVE:"ABOVE",BELOW:"BELOW",BOTH:"BOTH"};me.propTypes={after:t.PropTypes.node,before:t.PropTypes.node,customControlContent:t.PropTypes.node,getItem:t.PropTypes.func,hidePagerIfNotNeeded:t.PropTypes.bool,identifier:t.PropTypes.string.isRequired,initialPage:function e(t){if(de(t.initialPage)===false){return new Error("`initialPage` must be an integer.")}var n=Math.ceil(t.totalItems/t.numItemsPerPage);if(t.initialPage<1||t.initialPage>n){return new Error("`initialPage` must be between 1 and "+n+".")}},itemLoadingContent:t.PropTypes.node,itemToJSXConverterFunc:t.PropTypes.func,jumpToFirstControlContent:t.PropTypes.node,jumpToLastControlContent:t.PropTypes.node,listWrapperProps:t.PropTypes.object,nextPageControlContent:t.PropTypes.node,numItemsPerPage:function e(t){if(de(t.numItemsPerPage)===false){return new Error("`numItemsPerPage` must be an integer.")}else if(t.numItemsPerPage<1){return new Error("`numItemsPerPage` must be greater than zero.")}},numPageToggles:t.PropTypes.number,position:t.PropTypes.oneOf(Object.keys(me.positions)),previousPageControlContent:t.PropTypes.node,showJumpToFirst:t.PropTypes.bool,showJumpToLast:t.PropTypes.bool,showPaginationState:t.PropTypes.oneOfType([t.PropTypes.bool,t.PropTypes.func]),toggleWrapperProps:t.PropTypes.object,totalItems:t.PropTypes.number.isRequired};me.defaultProps={after:null,before:null,customControlContent:null,getItem:b,hidePagerIfNotNeeded:false,identifier:w(),initialPage:1,itemLoadingContent:null,itemToJSXConverterFunc:ye,jumpToFirstControlContent:"« First",jumpToLastControlContent:"Last »",listWrapperProps:{},nextPageControlContent:"Next ›",numItemsPerPage:10,numPageToggles:5,position:me.positions.ABOVE,previousPageControlContent:"‹ Previous",showJumpToFirst:true,showJumpToLast:true,showPaginationState:true,toggleWrapperProps:{},totalItems:null};me.internalKeys=Object.keys(me.defaultProps);var ve=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Pe=function e(){var t=["transform","WebkitTransform","MozTransform","OTransform","msTransform","webkit-transform"];for(var n=0,r=t.length;n<r;n++){if(t[n]in document.documentElement.style){return t[n]}}return false}();function ge(e){switch(e[0]){case"N":return"S";case"S":return"N";case"E":return"W"}return"E"}function be(e,t){return e.filter(function(e){return t.indexOf(e)===-1})}var ke=/\s?b-popover-(anchor|self)-(start|middle|end)/g;var Te=r.createElement("svg",{viewBox:"0 0 14 9.5",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",null,r.createElement("polygon",{className:"b-popover-caret-border",fill:"#000",points:"7 0 14 10 0 10"}),r.createElement("polygon",{className:"b-popover-caret-fill",fill:"#FFF",points:"6.98230444 1.75 12.75 10 1.25 10"})));var we=0;var Oe=1;var Ce=2;var xe=[{name:"NNW",ax:we,ay:we,dx:we,dy:Ce},{name:"N",ax:Oe,ay:we,dx:Oe,dy:Ce},{name:"NNE",ax:Ce,ay:we,dx:Ce,dy:Ce},{name:"ENE",ax:Ce,ay:we,dx:we,dy:we},{name:"E",ax:Ce,ay:Oe,dx:we,dy:Oe},{name:"ESE",ax:Ce,ay:Ce,dx:we,dy:Ce},{name:"SSE",ax:Ce,ay:Ce,dx:Ce,dy:we},{name:"S",ax:Oe,ay:Ce,dx:Oe,dy:we},{name:"SSW",ax:we,ay:Ce,dx:we,dy:we},{name:"WSW",ax:we,ay:Ce,dx:Ce,dy:Ce},{name:"W",ax:we,ay:Oe,dx:Ce,dy:Oe},{name:"WNW",ax:we,ay:we,dx:Ce,dy:we}];var Ee=function(e){d(t,e);function t(){var e;var r,o,s;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return s=(r=(o=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o),o.align=function(){var e=o.props.anchor instanceof HTMLElement?o.props.anchor:n.findDOMNode(o.props.anchor);var r=o.props.caretAnchor?o.props.caretAnchor instanceof HTMLElement?o.props.caretAnchor:n.findDOMNode(o.props.caretAnchor):e;o.cacheViewportCartography(e,r);var s=o.getValidAlignmentPreset();var i=t.getAlignmentClassFragment;o.dialog.$wrapper.className=o.dialog.$wrapper.className.replace(ke,"")+(" b-popover-anchor-x-"+i(s.ax))+(" b-popover-anchor-y-"+i(s.ay))+(" b-popover-self-x-"+i(s.dx))+(" b-popover-self-y-"+i(s.dy));var a=Math.round(o.getNextDialogXPosition(s));var p=Math.round(o.getNextDialogYPosition(s));o.dialog.$wrapper.style[Pe]="translate("+a+"px, "+p+"px)";var l=s.name[0];var u=l==="N"||l==="S";o.$caret.style[u?"left":"top"]=Math.round(o.getNextCaretXPosition(s))+"px";o.$caret.style[u?"top":"left"]="0px"},r),h(o,s)}l(t,[{key:"cacheViewportCartography",value:function e(t,n){var r=document.body.getBoundingClientRect();this.anchorRect=t.getBoundingClientRect();this.caretAnchorRect=n.getBoundingClientRect();this.bodyLeft=r.left*-1;this.bodyTop=r.top*-1}},{key:"getNextCaretXPosition",value:function e(t){var n=t.name,r=t.ax,o=t.dx,s=t.ay,i=t.dy;var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.$caret;var p=0;if(n[0]==="N"||n[0]==="S"){p=this.caretAnchorRect.left-this.anchorRect.left+this.caretAnchorRect.width/2;if(o===Oe){p+=(this.dialog.$wrapper.clientWidth-this.anchorRect.width)/2}else if(o===Ce){p+=this.dialog.$wrapper.clientWidth-this.anchorRect.width}}else{p=this.caretAnchorRect.top-this.anchorRect.top+this.caretAnchorRect.height/2;if(i===Oe){p+=(this.dialog.$wrapper.clientHeight-this.anchorRect.height)/2}else if(i===Ce){p+=this.dialog.$wrapper.clientHeight-this.anchorRect.height}}p-=a.clientWidth/2;return p}},{key:"getNextDialogXPosition",value:function e(t){var n=t.ax,r=t.dx;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.dialog.$wrapper;var s=this.anchorRect.left+this.bodyLeft;switch(n){case Oe:s+=this.anchorRect.width/2;break;case Ce:s+=this.anchorRect.width;break}switch(r){case Oe:s-=o.clientWidth/2;break;case Ce:s-=o.clientWidth;break}return s}},{key:"getNextDialogYPosition",value:function e(t){var n=t.ay,r=t.dy;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.dialog.$wrapper;var s=this.anchorRect.top+this.bodyTop;switch(n){case Oe:s+=this.anchorRect.height/2;break;case Ce:s+=this.anchorRect.height;break}switch(r){case Oe:s-=o.clientHeight/2;break;case Ce:s-=o.clientHeight;break}return s}},{key:"isPositionValid",value:function e(t,n,r){var o=t.name,s=t.ax,i=t.ay,a=t.dx,p=t.dy;var l=o[0];if(l==="N"||l==="S"){if(l==="N"&&this.anchorRect.top-n<0){return false}else if(l==="S"&&this.anchorRect.bottom+n>window.innerHeight){return false}if(s===we){return!(this.anchorRect.left+r>window.innerWidth||this.anchorRect.left<0)}else if(s===Oe){return!(this.anchorRect.left-r/2<0||this.anchorRect.left+r/2>window.innerWidth)}return!(this.anchorRect.left-r<0||this.anchorRect.right>window.innerWidth)}else if(l==="W"||l==="E"){if(l==="W"&&this.anchorRect.left-r<0){return false}else if(l==="E"&&this.anchorRect.right+r>window.innerWidth){return false}if(i===we){return!(this.anchorRect.top+n>window.innerHeight||this.anchorRect.top<0)}else if(i===Oe){return!(this.anchorRect.top+this.anchorRect.height/2-n/2<0||this.anchorRect.top+this.anchorRect.height/2+n/2>window.innerHeight)}return!(this.anchorRect.top-n<0||this.anchorRect.bottom>window.innerHeight)}return true}},{key:"getValidAlignmentPreset",value:function e(){var t=this;var n=this.dialog.$wrapper.clientWidth;var r=this.dialog.$wrapper.clientHeight;var o=xe.filter(function(e){return t.isPositionValid(e,r,n)});if(o.indexOf(this.props.preset)!==-1||!this.props.autoReposition||!o.length){return this.props.preset}var s=o.filter(function(e){var n=e.name;return n[0]===t.props.preset.name[0]});if(s.length){return s[0]}var i=ge(this.props.preset.name);var a=o.filter(function(e){var t=e.name;return t[0]===i});if(a.length){return a[0]}return o[0]}},{key:"componentDidMount",value:function e(){this.align();window.addEventListener("resize",this.align,true)}},{key:"componentDidUpdate",value:function e(){this.align()}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.align,true)}},{key:"render",value:function e(){var n=this;var o=this.props;return r.createElement(N,o.portalProps,r.createElement(S,c({},i(o,t.internalKeys),{ref:function e(t){return n.dialog=t},before:r.cloneElement(o.caretComponent,{ref:function e(t){return n.$caret=t},className:ve("b-popover-caret",o.caretComponent.props.className)}),wrapperProps:c({},o.wrapperProps,{className:ve("b-popover",o.wrapperProps.className)})})))}}],[{key:"getAlignmentClassFragment",value:function e(t){switch(t){case we:return"start";case Oe:return"middle";case Ce:return"end"}}}]);return t}(r.PureComponent);Ee.preset=xe.reduce(function(e,t){return e[t.name]=t,e},{});Ee.propTypes=c({},S.propTypes,{anchor:t.PropTypes.oneOfType([t.PropTypes.instanceOf(HTMLElement),t.PropTypes.element]).isRequired,autoReposition:t.PropTypes.bool,caretAnchor:t.PropTypes.oneOfType([t.PropTypes.instanceOf(HTMLElement),t.PropTypes.element]),caretComponent:t.PropTypes.element,portalProps:t.PropTypes.shape(N.PropTypes),preset:t.PropTypes.oneOf([Ee.preset.NNW,Ee.preset.N,Ee.preset.NNE,Ee.preset.ENE,Ee.preset.E,Ee.preset.ESE,Ee.preset.SSE,Ee.preset.S,Ee.preset.SSW,Ee.preset.WSW,Ee.preset.W,Ee.preset.WNW]),wrapperProps:t.PropTypes.object});Ee.defaultProps=c({},S.defaultProps,{anchor:undefined,autoReposition:true,captureFocus:false,caretAnchor:undefined,caretComponent:Te,closeOnEscKey:true,closeOnOutsideClick:true,closeOnOutsideScroll:true,portalProps:{},preset:Ee.preset.S,wrapperProps:{}});Ee.internalKeys=be(Object.keys(Ee.defaultProps),S.internalKeys);var Ne=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Ie=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.state={expanded:r.props.expanded},r.dispatchCallback=function(){r.props[r.state.expanded?"onExpand":"onHide"]()},r.handleClick=function(e){r.setState({expanded:!r.state.expanded},r.dispatchCallback);if(s(r.props.toggleProps.onClick)){r.props.toggleProps.onClick(e)}},r.handleKeyDown=function(e){switch(e.key){case"Enter":e.preventDefault();r.setState({expanded:!r.state.expanded},r.dispatchCallback)}if(s(r.props.toggleProps.onKeyDown)){r.props.toggleProps.onKeyDown(e)}},n),h(r,o)}l(t,[{key:"componentWillReceiveProps",value:function e(t){if(t.expanded!==this.props.expanded){this.setState({expanded:t.expanded},this.dispatchCallback)}}},{key:"renderContent",value:function e(){if(this.state.expanded){return r.createElement("div",{ref:"content",className:"b-disclosure-content"},this.props.children)}}},{key:"render",value:function e(){return r.createElement(this.props.component,c({},i(this.props,t.internalKeys),{ref:"wrapper",className:Ne("b-disclosure",this.props.className,{"b-disclosure-expanded":this.state.expanded})}),r.createElement("div",c({},this.props.toggleProps,{ref:"toggle",className:Ne("b-disclosure-toggle",this.props.toggleProps.className),onClick:this.handleClick,onKeyDown:this.handleKeyDown,tabIndex:"0"}),this.state.expanded?this.props.teaserExpanded||this.props.teaser:this.props.teaser),this.renderContent())}}]);return t}(r.PureComponent);Ie.propTypes={children:t.PropTypes.node,component:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.func]),expanded:t.PropTypes.bool,onExpand:t.PropTypes.func,onHide:t.PropTypes.func,teaser:t.PropTypes.node,teaserExpanded:t.PropTypes.node,toggleProps:t.PropTypes.object};Ie.defaultProps={children:null,component:"div",expanded:false,onExpand:b,onHide:b,teaser:null,teaserExpanded:null,toggleProps:{}};Ie.internalKeys=Object.keys(Ie.defaultProps);var Se=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Ae=function(e){d(t,e);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"renderLabel",value:function e(){if(this.props.label){return r.createElement("div",c({},this.props.labelProps,{ref:"label",className:Se("b-progress-label",this.props.labelProps.className)}),this.props.label)}}},{key:"renderCancel",value:function e(){if(this.props.onCancel){return r.createElement(k,c({},this.props.cancelProps,{ref:"cancel",className:Se("b-progress-cancel",this.props.cancelProps.className),onPressed:this.props.onCancel}))}}},{key:"renderProgress",value:function e(){return r.createElement("div",c({},this.props.progressProps,{ref:"progress",className:Se("b-progress",this.props.progressProps.className,{"b-progress-indeterminate":typeof this.props.progress==="undefined"}),role:"presentation",style:c({},this.props.progressProps.style,u({},this.props.tweenProperty,this.props.progress))}))}},{key:"render",value:function e(){return r.createElement(this.props.component,c({},i(this.props,t.internalKeys),{ref:"wrapper",className:Se("b-progress-wrapper",this.props.className)}),this.renderProgress(),this.renderLabel(),this.renderCancel())}}]);return t}(r.PureComponent);Ae.propTypes={cancelProps:t.PropTypes.object,component:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.func]),label:t.PropTypes.node,labelProps:t.PropTypes.object,onCancel:t.PropTypes.func,progress:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.number]),progressProps:t.PropTypes.object,tweenProperty:t.PropTypes.string};Ae.defaultProps={cancelProps:{},component:"div",label:null,labelProps:{},onCancel:null,progress:undefined,progressProps:{},tweenProperty:"width"};Ae.internalKeys=Object.keys(Ae.defaultProps);var je=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Re=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.uuid=w(),r.handleChange=function(e){if(e.target.checked){r.props.onSelected(e.target.value)}if(s(r.props.inputProps.onChange)){r.props.inputProps.onChange(e)}},n),h(r,o)}l(t,[{key:"renderInput",value:function e(){return r.createElement("input",c({},this.props.inputProps,{ref:"input",type:"radio",id:this.props.id||this.props.inputProps.id||this.uuid,className:je("b-radio",this.props.inputProps.className,{"b-radio-selected":this.props.selected}),name:this.props.name,value:this.props.value,checked:this.props.selected,"aria-checked":String(this.props.selected),onChange:this.handleChange}))}},{key:"renderLabel",value:function e(){if(this.props.label){return r.createElement("label",c({},this.props.labelProps,{ref:"label",className:je("b-radio-label",this.props.labelProps.className),htmlFor:this.props.id||this.props.inputProps.id||this.uuid}),this.props.label)}}},{key:"render",value:function e(){return r.createElement("div",c({},i(this.props,t.internalKeys),{ref:"wrapper",className:je("b-radio-wrapper",this.props.className)}),this.renderInput(),this.renderLabel())}}]);return t}(r.PureComponent);Re.propTypes={inputProps:t.PropTypes.object,label:t.PropTypes.node,labelProps:t.PropTypes.object,name:t.PropTypes.string.isRequired,onSelected:t.PropTypes.func,selected:t.PropTypes.bool,value:t.PropTypes.string.isRequired};Re.defaultProps={inputProps:{},label:null,labelProps:{},name:"",onSelected:b,selected:false,value:""};Re.internalKeys=Object.keys(Re.defaultProps);var Fe=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var _e=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var De=/[|\\{}()[\]^$+*?.]/g;var Le=function e(t){if(typeof t!=="string"){throw new TypeError("Expected a string")}return t.replace(De,"\\$&")};var Ke=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var s=arguments.length,i=Array(s),a=0;a<s;a++){i[a]=arguments[a]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r),Me.call(r),n),h(r,o)}l(t,[{key:"componentWillMount",value:function e(){if(this.props.inputProps.value||this.props.inputProps.defaultValue){this.computeMatches()}}},{key:"componentDidMount",value:function e(){this.mounted=true;if(this.state.selectedEntityIndex>=0){this.props.onEntityHighlighted(this.state.selectedEntityIndex)}}},{key:"componentWillReceiveProps",value:function e(t){if(t.entities!==this.props.entities){this.computeMatches(t.entities)}if(t.inputProps.value!==this.props.inputProps.value){this.updateInputState(t.inputProps.value);this.computeMatches()}}},{key:"componentDidUpdate",value:function e(t,n){if(this.state.entityMatchIndexes.length&&!n.entityMatchIndexes.length){this.refs.matches.scrollTop=0}if(this.state.selectedEntityIndex>=0&&this.props.entities[this.state.selectedEntityIndex]!==t.entities[n.selectedEntityIndex]){this.props.onEntityHighlighted(this.state.selectedEntityIndex)}}},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"handleMatchClick",value:function e(t){this.setState({selectedEntityIndex:t},this.setValueWithSelectedEntity)}},{key:"selectMatch",value:function e(t){var n=this.state.entityMatchIndexes;var r=n.length;var o=n.indexOf(this.state.selectedEntityIndex)+t;if(r){if(o<0){o=r-1}else if(o>=r){o=0}var s=n[o];var i=this.refs.matches;var a=i.scrollTop+i.clientHeight;var p=this.refs["match_$"+s];var l=p.offsetTop;var u=l+p.clientHeight;if(u>=a){i.scrollTop+=u-a}else if(l<=i.scrollTop){i.scrollTop=l}this.setState({selectedEntityIndex:s})}}},{key:"cursorAtEndOfInput",value:function e(){var t=this.getInputNode();return t.selectionStart===t.selectionEnd&&t.selectionEnd===this.getValue().length}},{key:"markFuzzyMatchSubstring",value:function e(t,n){var o=n.text;var s=o.split(new RegExp("("+Le(t)+")","ig"));var i=t.toLowerCase();var a=s.length;var p=-1;while(++p<a){if(s[p].toLowerCase()===i){s[p]=r.createElement("mark",{key:p,className:"b-typeahead-match-highlight"},s[p])}}return s}},{key:"markStartsWithMatchSubstring",value:function e(t,n){var o=n.text;var s=t.toLowerCase();var i=o.toLowerCase().indexOf(s);
var a=i+s.length;return[r.createElement("span",{key:"0"},o.slice(0,i)),r.createElement("mark",{key:"1",className:"b-typeahead-match-highlight"},o.slice(i,a)),r.createElement("span",{key:"2"},o.slice(a))]}},{key:"getMarkingFunction",value:function e(){if(V(this.props.algorithm)){if(this.props.algorithm===t.mode.STARTS_WITH){return this.markStartsWithMatchSubstring}return this.markFuzzyMatchSubstring}else if(s(this.props.algorithm.marker)){return this.props.algorithm.marker}if(this.warnedMarker===undefined){this.warnedMarker=true;console.warn("Typeahead: no `props.algorithm.marker` was provided; falling back to the default marking algorithm (FUZZY).")}return this.markFuzzyMatchSubstring}},{key:"getFuzzyMatchIndexes",value:function e(t,n){var r=t.toLowerCase();return n.reduce(function e(t,n,o){return n.text.toLowerCase().indexOf(r)!==-1?t.push(o)&&t:t},[])}},{key:"getStartsWithMatchIndexes",value:function e(t,n){var r=t.toLowerCase();return n.reduce(function e(t,n,o){if(n.text.toLowerCase().indexOf(r)===0){t.push(o)}return t},[])}},{key:"getMatchingFunction",value:function e(){if(V(this.props.algorithm)){if(this.props.algorithm===t.mode.STARTS_WITH){return this.getStartsWithMatchIndexes}return this.getFuzzyMatchIndexes}else if(s(this.props.algorithm.matcher)){return this.props.algorithm.matcher}if(this.warnedMatcher===undefined){this.warnedMatcher=true;console.warn("Typeahead: no `props.algorithm.matcher` was provided; falling back to the default matching algorithm (FUZZY).")}return this.getFuzzyMatchIndexes}},{key:"computeMatches",value:function e(t){var n=this;this.setState(function(e,r){var o=t||r.entities;var s=e.input;var i=s===""?[]:n.getMatchIndexes(s,o);return{selectedEntityIndex:i.length?i[0]:-1,entityMatchIndexes:i}})}},{key:"renderNotification",value:function e(){return r.createElement("div",{ref:"aria",id:this.state.id,className:this.props.offscreenClass,"aria-live":"polite"},this.getSelectedEntityText())}},{key:"renderHint",value:function e(){if(this.props.hint){var t=this.state.input;var n=this.getSelectedEntityText();var o="";if(n&&n.toLowerCase().indexOf(t.toLowerCase())===0){o=n.replace(new RegExp(t,"i"),t)}return r.createElement("div",c({},this.props.hintProps,{ref:"hint",className:_e("b-input","b-input-placeholder","b-typeahead-hint",this.props.hintProps.className),tabIndex:"-1"}),o)}}},{key:"renderMatches",value:function e(){var t=this;if(this.state.entityMatchIndexes.length){var n=this.props.matchWrapperProps;return r.createElement("div",c({},n,{ref:"matches",className:_e("b-typeahead-match-wrapper",n.className)}),this.state.entityMatchIndexes.map(function(e){var n=t.props.entities[e];var o=n.className,s=n.text,i=f(n,["className","text"]);return r.createElement("div",c({},i,{ref:"match_$"+e,className:_e("b-typeahead-match",o,{"b-typeahead-match-selected":t.state.selectedEntityIndex===e}),key:s,onClick:t.handleMatchClick.bind(t,e)}),t.markMatchSubstring(t.state.input,n))}))}}},{key:"render",value:function e(){var n=this.props,o=this.state;return r.createElement("div",c({},i(n,t.internalKeys),{ref:"wrapper",className:_e("b-typeahead-wrapper",n.className),onKeyDown:this.handleKeyDown}),this.renderNotification(),this.renderHint(),r.createElement(H,c({},$(n,H.defaultProps),{ref:"input","aria-controls":o.id,inputProps:c({},n.inputProps,{className:_e("b-typeahead",n.inputProps.className),onChange:this.handleChange})})),this.renderMatches())}}]);return t}(r.PureComponent);Ke.mode={STARTS_WITH:"STARTS_WITH",FUZZY:"FUZZY"};Ke.propTypes=c({},H.propTypes,{algorithm:t.PropTypes.oneOfType([t.PropTypes.oneOf([Ke.mode.STARTS_WITH,Ke.mode.FUZZY]),t.PropTypes.shape({marker:t.PropTypes.oneOfType([t.PropTypes.func,t.PropTypes.oneOf([Ke.mode.STARTS_WITH,Ke.mode.FUZZY])]),matcher:t.PropTypes.oneOfType([t.PropTypes.func,t.PropTypes.oneOf([Ke.mode.STARTS_WITH,Ke.mode.FUZZY])])})]),clearOnSelection:t.PropTypes.bool,entities:t.PropTypes.arrayOf(t.PropTypes.shape({text:t.PropTypes.string.isRequired})),hint:t.PropTypes.bool,hintProps:t.PropTypes.object,matchWrapperProps:t.PropTypes.object,offscreenClass:t.PropTypes.string,onComplete:t.PropTypes.func,onEntityHighlighted:t.PropTypes.func,onEntitySelected:t.PropTypes.func});Ke.defaultProps=c({},H.defaultProps,{algorithm:Ke.mode.FUZZY,clearOnSelection:false,entities:[],hint:null,hintProps:{},matchWrapperProps:{},offscreenClass:"b-offscreen",onComplete:b,onEntityHighlighted:b,onEntitySelected:b});Ke.internalKeys=Object.keys(Ke.defaultProps);var Me=function e(){var t=this;this.state={entityMatchIndexes:[],id:w(),isControlled:V(this.props.inputProps.value),input:this.props.inputProps.value||this.props.inputProps.defaultValue||"",selectedEntityIndex:-1};this.mounted=false;this.updateInputState=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return t.setState({input:e})};this.getSelectedEntityText=function(){var e=t.props.entities[t.state.selectedEntityIndex];return e?e.text:""};this.resetMatches=function(){if(t.mounted){t.setState({selectedEntityIndex:-1,entityMatchIndexes:[]})}};this.getInputNode=function(){return t.refs.input.refs.field};this.select=function(){var e=t.getInputNode();e.selectionStart=0;e.selectionEnd=t.getValue().length};this.focus=function(){return t.getInputNode().focus()};this.getValue=function(){return t.refs.input.getValue()};this.setValue=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";t.refs.input.setValue(e);t.updateInputState(e);t.resetMatches();t.focus()};this.setValueWithSelectedEntity=function(){t.props.onEntitySelected(t.state.selectedEntityIndex);if(t.props.clearOnSelection){t.setValue("")}else{t.setValue(t.getSelectedEntityText())}window.setTimeout(t.resetMatches,0)};this.markMatchSubstring=function(){return t.getMarkingFunction().apply(undefined,arguments)};this.getMatchIndexes=function(){return t.getMatchingFunction().apply(undefined,arguments)};this.handleChange=function(e){if(t.state.isControlled===false){t.updateInputState(e.target.value);t.computeMatches()}if(s(t.props.inputProps.onChange)){t.props.inputProps.onChange(e)}};this.handleKeyDown=function(e){switch(e.key){case"ArrowLeft":if(e.target.selectionStart>1){e.stopPropagation()}break;case"Tab":case"ArrowRight":if(t.state.selectedEntityIndex!==-1&&t.cursorAtEndOfInput()&&t.getInputNode()===e.target&&!e.shiftKey){e.nativeEvent.preventDefault();t.setValueWithSelectedEntity()}break;case"ArrowUp":e.nativeEvent.preventDefault();t.selectMatch(-1);t.focus();break;case"ArrowDown":e.nativeEvent.preventDefault();t.selectMatch(1);t.focus();break;case"Escape":if(t.state.selectedEntityIndex!==-1&&t.getInputNode()===e.target){t.resetMatches()}break;case"Enter":if(t.state.selectedEntityIndex!==-1&&t.getInputNode()===e.target){e.nativeEvent.preventDefault();t.setValueWithSelectedEntity()}else{t.props.onComplete(t.state.input,e)}break}if(s(t.props.onKeyDown)){t.props.onKeyDown(e)}}};var We=function e(t){return t[0]};var Be=function e(t){return t[t.length-1]};var Ve=function(e){d(t,e);function t(){var e;var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++){a[l]=arguments[l]}return o=(n=(r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r),r.focus=function(){return r.refs.typeahead.focus()},r.getInputNode=function(){return r.refs.typeahead.getInputNode()},r.getSelectedEntityText=function(){return r.refs.typeahead.getSelectedEntityText()},r.getValue=function(){return r.refs.typeahead.getValue()},r.select=function(){return r.refs.typeahead.select()},r.setValue=function(e){return r.refs.typeahead.setValue(e)},r.add=function(e){if(r.props.tokens.indexOf(e)===-1){r.props.handleAddToken(e)}},r.handleInputClick=function(e){r.clearSelection();if(s(r.props.inputProps.onClick)){r.props.inputProps.onClick(e)}},r.handleInputFocus=function(e){r.clearSelection();if(s(r.props.inputProps.onFocus)){r.props.inputProps.onFocus(e)}},r.handleKeyDown=function(e){switch(e.which){case 37:r.selectPreviousToken(e.shiftKey);break;case 39:r.selectNextToken(e.shiftKey);break;case 8:if(r.props.tokensSelected.length){r.remove(r.props.tokensSelected);r.focus()}break;case 65:if(e.metaKey){e.preventDefault();r.focus();r.select();r._suppressNextTokenSelection=true;r.props.handleNewSelection(r.props.tokens)}}if(s(r.props.onKeyDown)){r.props.onKeyDown(e)}},n),h(r,o)}l(t,[{key:"componentDidUpdate",value:function e(t){var n=t.tokensSelected;var r=this.props.tokensSelected;if(this.props.tokens.length>t.tokens.length){this.setValue("")}if(this._suppressNextTokenSelection){this._suppressNextTokenSelection=false;return}if(n!==r&&r.length!==0){if(r.length===1||r[0]!==n[0]){return this.refs["token_"+r[0]].focus()}else if(Be(r)!==Be(n)){return this.refs["token_"+Be(r)].focus()}this.refs["token_"+r[0]].focus()}}},{key:"remove",value:function e(t){var n=this;var r=(Array.isArray(t)?t:[t]).filter(function(e){return n.props.tokens.indexOf(e)!==-1});if(r.length){this.props.handleRemoveTokens(r)}}},{key:"selectToken",value:function e(t){this.props.handleNewSelection([t])}},{key:"selectTokens",value:function e(t){this.props.handleNewSelection(t)}},{key:"selectPreviousToken",value:function e(t){var n=this.props.tokensSelected;var r=this.props.tokens;if(n.length===1&&We(n)===We(r)){return}if(n.length===0){this.selectToken(Be(r))}else{var o=r[r.indexOf(We(n))-1];this.selectTokens(t?[o].concat(n):[o])}}},{key:"selectNextToken",value:function e(t){var n=this.props.tokensSelected;var r=this.props.tokens;if(n.length===0){return}if(Be(n)===Be(r)){this.clearSelection();this.focus()}else{var o=r[r.indexOf(Be(n))+1];this.selectTokens(t?n.concat(o):[o])}}},{key:"clearSelection",value:function e(){this.props.handleNewSelection([])}},{key:"handleTokenCloseClick",value:function e(t,n){n.stopPropagation();this.remove(t);this.focus();if(this.props.tokenCloseComponent.props.onClick){this.props.tokenCloseComponent.props.onClick(n)}}},{key:"renderTokenClose",value:function e(t){if(this.props.tokenCloseVisible){return r.cloneElement(this.props.tokenCloseComponent,{className:Fe("b-tokenfield-token-close",this.props.tokenCloseComponent.props.className),onClick:this.handleTokenCloseClick.bind(this,t)})}}},{key:"handleTokenKeyDown",value:function e(t,n){switch(n.which){case 13:case 32:this.selectToken(t);n.preventDefault();break;case 8:this.remove(t);this.focus();n.preventDefault();break}}},{key:"renderTokens",value:function e(){var t=this;return r.createElement("div",{className:"b-tokenfield-tokens"},this.props.tokens.map(function(e){return r.createElement("div",{ref:"token_"+e,key:e,className:Fe("b-tokenfield-token",{"b-tokenfield-token-selected":t.props.tokensSelected.indexOf(e)!==-1}),onClick:t.selectToken.bind(t,e),onKeyDown:t.handleTokenKeyDown.bind(t,e),tabIndex:"0"},t.props.entities[e].text,t.renderTokenClose(e))}))}},{key:"render",value:function e(){return r.createElement("div",c({},i(this.props,t.internalKeys),{ref:"wrapper",className:Fe("b-tokenfield-wrapper",this.props.className),onKeyDown:this.handleKeyDown}),this.renderTokens(),r.createElement(Ke,c({},$(this.props,Ke.defaultProps),{ref:"typeahead",className:"b-tokenfield",clearOnSelection:true,inputProps:c({},this.props.inputProps,{onClick:this.handleInputClick,onFocus:this.handleInputFocus}),onEntitySelected:this.add})))}}]);return t}(r.PureComponent);Ve.propTypes=c({},Ke.propTypes,{handleAddToken:t.PropTypes.func,handleRemoveTokens:t.PropTypes.func,handleNewSelection:t.PropTypes.func,tokenCloseComponent:t.PropTypes.element,tokenCloseVisible:t.PropTypes.bool,tokens:t.PropTypes.arrayOf(t.PropTypes.number),tokensSelected:t.PropTypes.arrayOf(t.PropTypes.number)});Ve.defaultProps=c({},Ke.defaultProps,{handleAddToken:b,handleRemoveTokens:b,handleNewSelection:b,tokenCloseComponent:r.createElement("div",null,"X"),tokenCloseVisible:true,tokens:[],tokensSelected:[]});Ve.internalKeys=Object.keys(Ve.defaultProps);var He=m(function(e){(function(){"use strict";var t={}.hasOwnProperty;function n(){var e=[];for(var r=0;r<arguments.length;r++){var o=arguments[r];if(!o)continue;var s=typeof o==="undefined"?"undefined":a(o);if(s==="string"||s==="number"){e.push(o)}else if(Array.isArray(o)){e.push(n.apply(null,o))}else if(s==="object"){for(var i in o){if(t.call(o,i)&&o[i]){e.push(i)}}}}return e.join(" ")}if("object"!=="undefined"&&e.exports){e.exports=n}else if(typeof undefined==="function"&&a(undefined.amd)==="object"&&undefined.amd){undefined("classnames",[],function(){return n})}else{window.classNames=n}})()});var Ue=function(e){d(t,e);function t(){p(this,t);return h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}l(t,[{key:"render",value:function e(){var n=this.props.position;return r.createElement(this.props.component,c({},i(this.props,t.internalKeys),{className:He("b-tooltip",this.props.className,{"b-tooltip-position-above":n===t.position.ABOVE,"b-tooltip-position-below":n===t.position.BELOW,"b-tooltip-position-before":n===t.position.BEFORE,"b-tooltip-position-after":n===t.position.AFTER}),"data-tooltip":this.props.text,"aria-label":this.props["aria-label"]||this.props.text}),this.props.children)}}]);return t}(r.PureComponent);Ue.position={ABOVE:"ABOVE",BELOW:"BELOW",BEFORE:"BEFORE",AFTER:"AFTER"};Ue.propTypes={component:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.func]),position:t.PropTypes.oneOf(Object.keys(Ue.position)),text:t.PropTypes.string};Ue.defaultProps={component:"div",position:Ue.position.ABOVE,text:""};Ue.internalKeys=Object.keys(Ue.defaultProps);e.ArrowKeyNavigation=y;e.Async=P;e.Button=k;e.Checkbox=O;e.CheckboxGroup=x;e.Dialog=S;e.FittedText=K;e.Image=W;e.Input=H;e.Modal=z;e.Pagination=me;e.Popover=Ee;e.Portal=N;e.ProgressiveDisclosure=Ie;e.Progress=Ae;e.Radio=Re;e.SegmentedControl=he;e.TokenizedInput=Ve;e.Tooltip=Ue;e.Typeahead=Ke})(this.Boundless=this.Boundless||{},React,ReactDOM);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm91bmRsZXNzLnN0YW5kYWxvbmUuanMiLCJzb3VyY2VzIjpbIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy11dGlscy1pcy1mdW5jdGlvbi9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtYXJyb3cta2V5LW5hdmlnYXRpb24vaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtYXN5bmMvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtYXN5bmMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtYnV0dG9uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWJ1dHRvbi9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1jaGVja2JveC9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy11dGlscy11dWlkL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWNoZWNrYm94L2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWNoZWNrYm94LWdyb3VwL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWNoZWNrYm94LWdyb3VwL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWRpYWxvZy9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3J0YWwvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtZGlhbG9nL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWZpdHRlZC10ZXh0L25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWZpdHRlZC10ZXh0L2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWltYWdlL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWltYWdlL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLWlucHV0L25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXV0aWxzLWlzLXN0cmluZy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1pbnB1dC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1tb2RhbC9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy11dGlscy1vYmplY3QtaW50ZXJzZWN0aW9uL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLW1vZGFsL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXBhZ2luYXRpb24vbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtcGFnaW5hdGlvbi9ub2RlX21vZHVsZXMvbG9kYXNoLmlzaW50ZWdlci9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1zZWdtZW50ZWQtY29udHJvbC9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1zZWdtZW50ZWQtY29udHJvbC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wYWdpbmF0aW9uL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5L2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXBvcG92ZXIvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtcHJvZ3Jlc3NpdmUtZGlzY2xvc3VyZS9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy1wcm9ncmVzc2l2ZS1kaXNjbG9zdXJlL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXByb2dyZXNzL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXByb2dyZXNzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXJhZGlvL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXJhZGlvL2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXRva2VuaXplZC1pbnB1dC9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy10eXBlYWhlYWQvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdHlwZWFoZWFkL25vZGVfbW9kdWxlcy9lc2NhcGUtc3RyaW5nLXJlZ2V4cC9pbmRleC5qcyIsIi4uL3BhY2thZ2VzL2JvdW5kbGVzcy10eXBlYWhlYWQvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdG9rZW5pemVkLWlucHV0L2luZGV4LmpzIiwiLi4vcGFja2FnZXMvYm91bmRsZXNzLXRvb2x0aXAvbm9kZV9tb2R1bGVzL2NsYXNzbmFtZXMvaW5kZXguanMiLCIuLi9wYWNrYWdlcy9ib3VuZGxlc3MtdG9vbHRpcC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAodGVzdCkgPT4gdHlwZW9mIHRlc3QgPT09ICdmdW5jdGlvbic7XG4iLCIvKipcbiAqIFJldHVybnMgYSBtb2RpZmllZCB2ZXJzaW9uIG9mIHRoZSBzdXBwbGllZCBvYmplY3Qgd2l0aG91dCB0aGUgZ2l2ZW4ga2V5cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb21pdEtleXNGcm9tU291cmNlT2JqZWN0KHNvdXJjZSwgb21pdHRlZEtleXMgPSBbXSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiByZWxvY2F0ZUFjY2VwdGVkS2V5cyhoYXNoLCBrZXkpIHtcbiAgICAgICAgaWYgKG9taXR0ZWRLZXlzLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGhhc2hba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhhc2g7XG5cbiAgICB9LCB7fSk7XG59XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7ZmluZERPTU5vZGV9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1mdW5jdGlvbi9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIEFycm93S2V5TmF2aWdhdGlvblxuX19BIGhpZ2hlci1vcmRlciBjb21wb25lbnQgZm9yIGFycm93IGtleSBuYXZpZ2F0aW9uIG9uIGEgZ3JvdXBpbmcgb2YgY2hpbGRyZW4uX19cblxuQXJyb3dLZXlOYXZpZ2F0aW9uIGlzIGRlc2lnbmVkIG5vdCB0byBjYXJlIGFib3V0IHRoZSBjb21wb25lbnQgdHlwZXMgaXQgaXMgd3JhcHBpbmcuIER1ZSB0byB0aGlzLCB5b3UgY2FuIHBhc3NcbndoYXRldmVyIEhUTUwgdGFnIHlvdSBsaWtlIGludG8gYHByb3BzLmNvbXBvbmVudGAgb3IgZXZlbiBhIFJlYWN0IGNvbXBvbmVudCB5b3UndmUgbWFkZSBlbHNld2hlcmUuIEFkZGl0aW9uYWxcbnByb3BzIHBhc3NlZCB0byBgPEFycm93S2V5TmF2aWdhdGlvbiAuLi4+YCB3aWxsIGJlIGZvcndhcmRlZCBvbiB0byB0aGUgY29tcG9uZW50IG9yIEhUTUwgdGFnIG5hbWUgeW91J3ZlIHN1cHBsaWVkLlxuXG5UaGUgY2hpbGRyZW4sIHNpbWlsYXJseSwgY2FuIGJlIGFueSB0eXBlIG9mIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXJyb3dLZXlOYXZpZ2F0aW9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIG1vZGUgPSB7XG4gICAgICAgIEhPUklaT05UQUw6ICdIT1JJWk9OVEFMJyxcbiAgICAgICAgVkVSVElDQUw6ICdWRVJUSUNBTCcsXG4gICAgICAgIEJPVEg6ICdCT1RIJyxcbiAgICB9XG5cbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICAgIEFueSB2YWxpZCBIVE1MIHRhZyBuYW1lIG9yIGEgUmVhY3QgY29tcG9uZW50IGZhY3RvcnksIGFueXRoaW5nIHRoYXQgY2FuIGJlIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gYFJlYWN0LmNyZWF0ZUVsZW1lbnRgXG4gICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgICAgQWxsb3dzIGZvciBhIHBhcnRpY3VsYXIgY2hpbGQgdG8gYmUgaW5pdGlhbGx5IHJlYWNoYWJsZSB2aWEgdGFiYmluZ1xuICAgICAgICAqL1xuICAgICAgICBkZWZhdWx0QWN0aXZlQ2hpbGRJbmRleDogUHJvcFR5cGVzLm51bWJlcixcblxuICAgICAgICAvKipcbiAgICAgICAgICogY29udHJvbHMgd2hpY2ggYXJyb3cga2V5IGV2ZW50cyBhcmUgY2FwdHVyZWQgdG8gbW92ZSBhY3RpdmUgZm9jdXMgd2l0aGluIHRoZSBsaXN0OlxuICAgICAgICAgKlxuICAgICAgICAgKiBNb2RlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBLZXlzXG4gICAgICAgICAqIC0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IC0tLS1cbiAgICAgICAgICogYEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEhgICAgICAgIHwg4qyF77iPIOKeoe+4jyDirIbvuI8g4qyH77iPXG4gICAgICAgICAqIGBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5IT1JJWk9OVEFMYCB8IOKshe+4jyDinqHvuI9cbiAgICAgICAgICogYEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLlZFUlRJQ0FMYCAgIHwg4qyG77iPIOKsh++4j1xuICAgICAgICAgKlxuICAgICAgICAgKiBfTm90ZTogZm9jdXMgbG9vcHMgd2hlbiBhcnJvd2luZyBwYXN0IG9uZSBvZiB0aGUgYm91bmRhcmllczsgdGFiYmluZyBtb3ZlcyB0aGUgdXNlciBhd2F5IGZyb20gdGhlIGxpc3QuX1xuICAgICAgICAqL1xuICAgICAgICBtb2RlOiBQcm9wVHlwZXMub25lT2YoW1xuICAgICAgICAgICAgQXJyb3dLZXlOYXZpZ2F0aW9uLm1vZGUuQk9USCxcbiAgICAgICAgICAgIEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkhPUklaT05UQUwsXG4gICAgICAgICAgICBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5WRVJUSUNBTCxcbiAgICAgICAgXSksXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY29tcG9uZW50OiAnZGl2JyxcbiAgICAgICAgZGVmYXVsdEFjdGl2ZUNoaWxkSW5kZXg6IDAsXG4gICAgICAgIG1vZGU6IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEgsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKEFycm93S2V5TmF2aWdhdGlvbi5kZWZhdWx0UHJvcHMpXG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgYWN0aXZlQ2hpbGRJbmRleDogdGhpcy5wcm9wcy5kZWZhdWx0QWN0aXZlQ2hpbGRJbmRleCxcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuYWN0aXZlQ2hpbGRJbmRleCAhPT0gcHJldlN0YXRlLmFjdGl2ZUNoaWxkSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXModGhpcy5zdGF0ZS5hY3RpdmVDaGlsZEluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmFjdGl2ZUNoaWxkSW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG51bUNoaWxkcmVuID0gICBuZXh0UHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBSZWFjdC5DaGlsZHJlbi5jb3VudChuZXh0UHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcblxuICAgICAgICAgICAgaWYgKG51bUNoaWxkcmVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlQ2hpbGRJbmRleDogMH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmFjdGl2ZUNoaWxkSW5kZXggPj0gbnVtQ2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHthY3RpdmVDaGlsZEluZGV4OiBudW1DaGlsZHJlbiAtIDF9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEZvY3VzKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IChcbiAgICAgICAgICAgIHRoaXMucmVmcy53cmFwcGVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICA/IHRoaXMucmVmcy53cmFwcGVyXG4gICAgICAgICAgOiBmaW5kRE9NTm9kZSh0aGlzLnJlZnMud3JhcHBlcilcbiAgICAgICAgKS5jaGlsZHJlbltpbmRleF07XG5cbiAgICAgICAgaWYgKGNoaWxkTm9kZSAmJiBjaGlsZE5vZGUuaGFzQXR0cmlidXRlKCdkYXRhLXNraXAnKSkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlRm9jdXMoXG4gICAgICAgICAgICAgICAgY2hpbGROb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcgPyAtMSA6IDFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2hpbGROb2RlICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgY2hpbGROb2RlLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlRm9jdXMoZGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtQ2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBSZWFjdC5DaGlsZHJlbi5jb3VudCh0aGlzLnByb3BzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcblxuICAgICAgICBsZXQgbmV4dEluZGV4ID0gdGhpcy5zdGF0ZS5hY3RpdmVDaGlsZEluZGV4ICsgZGVsdGE7XG5cbiAgICAgICAgaWYgKG5leHRJbmRleCA+PSBudW1DaGlsZHJlbikge1xuICAgICAgICAgICAgbmV4dEluZGV4ID0gMDsgLy8gbG9vcFxuICAgICAgICB9IGVsc2UgaWYgKG5leHRJbmRleCA8IDApIHtcbiAgICAgICAgICAgIG5leHRJbmRleCA9IG51bUNoaWxkcmVuIC0gMTsgLy8gcmV2ZXJzZSBsb29wXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHthY3RpdmVDaGlsZEluZGV4OiBuZXh0SW5kZXh9KTtcbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMubW9kZSA9PT0gQXJyb3dLZXlOYXZpZ2F0aW9uLm1vZGUuVkVSVElDQUxcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEgpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUZvY3VzKC0xKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkhPUklaT05UQUxcbiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLkJPVEgpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW92ZUZvY3VzKC0xKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGUgPT09IEFycm93S2V5TmF2aWdhdGlvbi5tb2RlLlZFUlRJQ0FMXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5tb2RlID09PSBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5CT1RIKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cygxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tb2RlID09PSBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5IT1JJWk9OVEFMXG4gICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5tb2RlID09PSBBcnJvd0tleU5hdmlnYXRpb24ubW9kZS5CT1RIKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cygxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLm9uS2V5RG93bikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUZvY3VzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC50YXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLWZvY3VzLWluZGV4JykpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1mb2N1cy1pbmRleCcpLCAxMCk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkodGhpcy5wcm9wcy5jaGlsZHJlbilbaW5kZXhdO1xuXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHthY3RpdmVDaGlsZEluZGV4OiBpbmRleH0pO1xuXG4gICAgICAgICAgICBpZiAoY2hpbGQucHJvcHMub25Gb2N1cykge1xuICAgICAgICAgICAgICAgIGNoaWxkLnByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5tYXAodGhpcy5wcm9wcy5jaGlsZHJlbiwgKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgICAgICAgICdkYXRhLWZvY3VzLWluZGV4JzogaW5kZXgsXG4gICAgICAgICAgICAgICAgJ2RhdGEtc2tpcCc6IHBhcnNlSW50KGNoaWxkLnByb3BzLnRhYkluZGV4LCAxMCkgPT09IC0xIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBrZXk6IGNoaWxkLmtleSB8fCBpbmRleCxcbiAgICAgICAgICAgICAgICB0YWJJbmRleDogdGhpcy5zdGF0ZS5hY3RpdmVDaGlsZEluZGV4ID09PSBpbmRleCA/IDAgOiAtMSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBBcnJvd0tleU5hdmlnYXRpb24uaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgb25Gb2N1cz17dGhpcy5oYW5kbGVGb2N1c31cbiAgICAgICAgICAgICAgICBvbktleURvd249e3RoaXMuaGFuZGxlS2V5RG93bn0+XG4gICAgICAgICAgICAgICAge3RoaXMuY2hpbGRyZW4oKX1cbiAgICAgICAgICAgIDwvdGhpcy5wcm9wcy5jb21wb25lbnQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbi8qKlxuICogIyBBc3luY1xuICogX19BIGhpZ2hlci1vcmRlciBjb21wb25lbnQgZm9yIGhhbmRsaW5nIGRhdGEgdGhhdCBtYXkgbm90IGhhdmUgYXJyaXZlZCB5ZXQuX19cbiAqXG4gKiBUaGVyZSBhcmUgcGxlbnR5IG9mIHNpdHVhdGlvbnMgd2hlcmUgeW91IG5lZWQgdG8gZmV0Y2ggY29udGVudCB0byBiZSBkaXNwbGF5ZWQsIGJ1dCB3YW50IHRvIHNob3cgc29tZSBzb3J0XG4gKiBvZiBsb2FkaW5nIGdyYXBoaWMgaW4gdGhlIGludGVyaW0uIFRoaXMgY29tcG9uZW50IGhlbHBzIHRvIHNpbXBsaWZ5IHRoYXQgcGF0dGVybiBieSBoYW5kbGluZyBjb21tb24gdHlwZXMgb2ZcbiAqIHByb21pc2VzIGFuZCBwcm92aWRpbmcgYSBzaW1wbGUgbWVjaGFuaXNtIGZvciBtYXRlcmlhbGl6aW5nIHRoZSByZXNvbHZlZCBkYXRhIGludG8gSlNYLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3luYyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKiBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHJlc29sdmVkIHBheWxvYWQgb2YgYSBwcm9taXNlIHByb3ZpZGVkIGJ5IGBwcm9wcy5kYXRhYCBhbmQgcmV0dXJucyByZW5kZXJhYmxlIEpTWDsgZGVmYXVsdHMgdG8gdHJ5aW5nIHRvIHJlbmRlciB0aGUgcmVzb2x2ZWQgdmFsdWUgb2YgdGhlIFByb21pc2UgKi9cbiAgICAgICAgY29udmVydFRvSlNYRnVuYzogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqIGEgcHJvbWlzZSwgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlLCBvciBzb21lIG90aGVyIHBpZWNlIG9mIGRhdGEgdG8gYmUgcnVuIHRocm91Z2ggYHByb3BzLmNvbnZlcnRUb0pTWEZ1bmNgICovXG4gICAgICAgIGRhdGE6IFByb3BUeXBlcy5hbnksXG5cbiAgICAgICAgLyoqIGNvbnRlbnQgdG8gYmUgc2hvd24gaWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQ7IGlmIHByb3ZpZGluZyBhIHByb21pc2UgZ2VuZXJhdGVkIGJ5IHRoZSBmZXRjaCBBUEksIGEgXCJub3Qgb2tcIiByZXNwb25zZSBpcyBjb25zaWRlcmVkIGFuIGVycm9yICovXG4gICAgICAgIGVycm9yQ29udGVudDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqIGNvbnRlbnQgdG8gYmUgc2hvd24gd2hpbGUgdGhlIHByb21pc2UgaXMgaW4gcGVuZGluZyBzdGF0ZSAqL1xuICAgICAgICBsb2FkaW5nQ29udGVudDogUHJvcFR5cGVzLm5vZGUsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY29udmVydFRvSlNYRnVuYzogKHgpID0+IHgsXG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yQ29udGVudDogJ+KaoO+4jycsXG4gICAgICAgIGxvYWRpbmdDb250ZW50OiBudWxsLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhBc3luYy5kZWZhdWx0UHJvcHMpXG5cbiAgICBtb3VudGVkID0gZmFsc2VcbiAgICBzdGF0ZSA9IHt9XG5cbiAgICBjb252ZXJ0RGF0YVRvSlNYT3JXYWl0KHByb3BzID0gdGhpcy5wcm9wcykge1xuICAgICAgICBsZXQge2RhdGF9ID0gcHJvcHM7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkYXRhID0gZGF0YShwcm9wcyk7XG5cbiAgICAgICAgICAgIGlmICghKGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm91bmRsZXNzLkFzeW5jOiBjYWxsZWQgcHJvcHMuZGF0YSBmdW5jdGlvbiBhbmQgaXQgZGlkIG5vdCByZXR1cm4gYSBQcm9taXNlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtjb21wb25lbnQ6IG51bGx9KTtcblxuICAgICAgICAgICAgZGF0YS50aGVuKChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWQgaW5zdGFuY2VvZiBSZXNwb25zZSAmJiBwYXlsb2FkLm9rID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGF0ZSh7Y29tcG9uZW50OiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIH0gLy8gdGhlIGZldGNoIEFQSSBkb2Vzbid0IHJlamVjdCBwcm9taXNlcyBvbiBub24tZmF0YWwgZXJyb3JzLCBzbyB3ZSdsbCBoYW5kbGUgdGhhdFxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHJlcGxhY2UgaWYgd2UncmUgbG9va2luZyBhdCB0aGUgc2FtZSBwcm9taXNlLCBvdGhlcndpc2UgZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKChzdGF0ZSwgY3VycmVudFByb3BzKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjdXJyZW50UHJvcHMuZGF0YSA9PT0gZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGN1cnJlbnRQcm9wcy5jb252ZXJ0VG9KU1hGdW5jKHBheWxvYWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc3RhdGUuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKCkgPT4gdGhpcy5zZXRTdGF0ZSh7Y29tcG9uZW50OiBmYWxzZX0pKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7Y29tcG9uZW50OiBwcm9wcy5jb252ZXJ0VG9KU1hGdW5jKGRhdGEpfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkgICAgICAgICAgICAgICAgIHsgdGhpcy5jb252ZXJ0RGF0YVRvSlNYT3JXYWl0KCk7IH1cbiAgICBjb21wb25lbnREaWRNb3VudCgpICAgICAgICAgICAgICAgICAgeyB0aGlzLm1vdW50ZWQgPSB0cnVlOyB9XG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHsgdGhpcy5jb252ZXJ0RGF0YVRvSlNYT3JXYWl0KG5leHRQcm9wcyk7IH1cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpICAgICAgICAgICAgICAgeyB0aGlzLm1vdW50ZWQgPSBmYWxzZTsgfVxuXG4gICAgZ2V0Q2xhc3NlcyhleHRyYUNsYXNzZXMpIHtcbiAgICAgICAgcmV0dXJuIGN4KCdiLWFzeW5jJywgdGhpcy5wcm9wcy5jbGFzc05hbWUsIGV4dHJhQ2xhc3Nlcywge1xuICAgICAgICAgICAgJ2ItYXN5bmMtZXJyb3InOiB0aGlzLnN0YXRlLmNvbXBvbmVudCA9PT0gZmFsc2UsXG4gICAgICAgICAgICAnYi1hc3luYy1sb2FkaW5nJzogdGhpcy5zdGF0ZS5jb21wb25lbnQgPT09IG51bGwsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29tcG9uZW50ID09PSBudWxsIHx8IHRoaXMuc3RhdGUuY29tcG9uZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IHsuLi5vbWl0KHRoaXMucHJvcHMsIEFzeW5jLmludGVybmFsS2V5cyl9IGNsYXNzTmFtZT17dGhpcy5nZXRDbGFzc2VzKCl9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5jb21wb25lbnQgPT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5sb2FkaW5nQ29udGVudFxuICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnByb3BzLmVycm9yQ29udGVudH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMuc3RhdGUuY29tcG9uZW50LCB7XG4gICAgICAgICAgICAuLi5vbWl0KHRoaXMucHJvcHMsIEFzeW5jLmludGVybmFsS2V5cyksXG4gICAgICAgICAgICBjbGFzc05hbWU6IHRoaXMuZ2V0Q2xhc3Nlcyh0aGlzLnN0YXRlLmNvbXBvbmVudC5wcm9wcyAmJiB0aGlzLnN0YXRlLmNvbXBvbmVudC5wcm9wcy5jbGFzc05hbWUpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbi8qKlxuIyBCdXR0b25cbl9fQSBjb250cm9sIHdpdGggXCJwcmVzc2VkXCIgc3RhdGUgc3VwcG9ydC5fX1xuXG5CdXR0b24gaGFzIHR3byBtb2RlcyBvZiBvcGVyYXRpb246XG5cbjEuIHN0YXRlbGVzcyAobGlrZSBhIG5vcm1hbCBgPGJ1dHRvbj5gKVxuICAgYGBganN4XG4gICA8QnV0dG9uIG9uUHJlc3NlZD17ZG9Tb21ldGhpbmd9PmZvbzwvQnV0dG9uPlxuICAgYGBgXG5cbiAgID4gTm90ZSB0aGF0IGluc3RlYWQgb2YgYG9uQ2xpY2tgLCBCdXR0b24gdXNlcyBgb25QcmVzc2VkYC4gVGhpcyBpcyBiZWNhdXNlIHRoZSBjb21wb25lbnQgYWxzbyBsaXN0ZW5zIGZvciBrZXlib2FyZCA8a2JkPkVudGVyPC9rYmQ+IGV2ZW50cywgc28gYG9uQ2xpY2tgIG9ubHkgdGVsbHMgaGFsZiB0aGUgc3RvcnkuIFlvdSBjYW4gc3RpbGwgYmluZCB0byB0aGF0IHBhcnRpY3VsYXIgUmVhY3QgZXZlbnQgdGhvdWdoIGlmIHRoZXJlJ3MgYSBuZWVkIHRvIHRlbGwgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBjbGlja3MgYW5kIEVudGVyIHByZXNzZXMuXG5cbjIuIHN0YXRlZnVsIChsaWtlIGEgdG9nZ2xlLCBlLmcuIGJvbGQtbW9kZSBpbiBhIHJpY2ggdGV4dCBlZGl0b3IpXG5cbiAgIFwic3RhdGVmdWxcIiBtb2RlIGlzIHRyaWdnZXJlZCBieSBwYXNzaW5nIGEgYm9vbGVhbiB0byBgcHJlc3NlZGAuIFRoaXMgZW5hYmxlcyB0aGUgYnV0dG9uIHRvIGFjdCBsaWtlIGEgY29udHJvbGxlZCBjb21wb25lbnQuIFRoZSBgb25VbnByZXNzZWRgIGV2ZW50IGNhbGxiYWNrIHdpbGwgYWxzbyBub3cgYmUgZmlyZWQgd2hlbiBhcHByb3ByaWF0ZS5cblxuICAgYGBganN4XG4gICA8QnV0dG9uXG4gICAgICAgcHJlc3NlZD17dHJ1ZX1cbiAgICAgICBvblByZXNzZWQ9e2RvU29tZXRoaW5nfVxuICAgICAgIG9uVW5wcmVzc2VkPXtkb1NvbWV0aGluZ0Vsc2V9PlxuICAgICAgIGZvb1xuICAgPC9CdXR0b24+XG4gICBgYGBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgICAgQW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgXSksXG5cbiAgICAgICAgb25DbGljazogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbGxlZCB3aGVuIHRoZSBlbGVtZW50IGJlY29tZXMgXCJwcmVzc2VkXCIgb3IgdHJpZ2dlcmVkIGJ5IHRoZSB1c2VyIChtb3VzZSBvciBrZXlib2FyZCk7IGJhY2tpbmcgZGF0YSBtdXN0IGJlIHVwZGF0ZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlOyB0aGlzIGZ1bmN0aW9uIHdpbGwgc3RpbGwgYmUgY2FsbGVkIGlmIGBwcm9wcy5wcmVzc2VkYCBpcyBub3QgcGFzc2VkXG4gICAgICAgICAqL1xuICAgICAgICBvblByZXNzZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBiZWNvbWVzIFwidW5wcmVzc2VkXCI7IGJhY2tpbmcgZGF0YSBtdXN0IGJlIHVwZGF0ZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBvblVucHJlc3NlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVuYWJsZXMgXCJwcmVzc2VkXCIgc3VwcG9ydCBhbmQgYWRkcyB0aGUgYGFyaWEtcHJlc3NlZGAgYXR0cmlidXRlIHRvIHRoZSBgLmItYnV0dG9uYCBub2RlOyBlc3NlbnRpYWxseSBhIFwic3RhdGVmdWxcIiBidXR0b24gKHNlZSB0aGUgXCJ1bnByZXNzZWQvcHJlc3NlZFwiIGV4YW1wbGUgZGVtbyBhYm92ZSlcbiAgICAgICAgICovXG4gICAgICAgIHByZXNzZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgICBjb21wb25lbnQ6ICdidXR0b24nLFxuICAgICAgICBvbkNsaWNrOiBub29wLFxuICAgICAgICBvblByZXNzZWQ6IG5vb3AsXG4gICAgICAgIG9uVW5wcmVzc2VkOiBub29wLFxuICAgICAgICBwcmVzc2VkOiB1bmRlZmluZWQsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKEJ1dHRvbi5kZWZhdWx0UHJvcHMpXG5cbiAgICB0b2dnbGVTdGF0ZShldmVudCkge1xuICAgICAgICB0aGlzLnByb3BzW3RoaXMucHJvcHMucHJlc3NlZCA/ICdvblVucHJlc3NlZCcgOiAnb25QcmVzc2VkJ10oZXZlbnQpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMudG9nZ2xlU3RhdGUoZXZlbnQpO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMub25DbGljaykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRpc2FibGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgY2FzZSAnU3BhY2UnOlxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlU3RhdGUoZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5vbktleURvd24pKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBCdXR0b24uaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J2J1dHRvbidcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWJ1dHRvbicsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICdiLWJ1dHRvbi1wcmVzc2FibGUnOiB0eXBlb2YgdGhpcy5wcm9wcy5wcmVzc2VkICE9PSAndW5kZWZpbmVkJyxcbiAgICAgICAgICAgICAgICAgICAgJ2ItYnV0dG9uLXByZXNzZWQnOiB0aGlzLnByb3BzLnByZXNzZWQsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgYXJpYS1wcmVzc2VkPXt0aGlzLnByb3BzLnByZXNzZWR9XG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICA8L3RoaXMucHJvcHMuY29tcG9uZW50PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyoqXG4gKiBHZW5lcmF0ZXMgYSB1bmlxdWUgSUQuIEFkZHMgYSBwcmVmaXggc28gaXQgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyBhbiBIVE1MIElELlxuICogQmFzZWQgb24ge0BsaW5rIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODMgdGhpcyBpbXBsZW1lbnRhdGlvbn0uXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBhIHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQGV4YW1wbGVcbiAqIHV1aWQoKTsgLy8gYi0xZjJjZDI3Zi0wNzU0LTQzNDQtOWQyMC00MzZhMjAxYjJmODBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXVpZCgpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgIHJldHVybiAnYi0nICsgKFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGE9PihhXk1hdGgucmFuZG9tKCkqMTY+PmEvNCkudG9TdHJpbmcoMTYpKTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXG59XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLWlzLWZ1bmN0aW9uL2luZGV4JztcbmltcG9ydCBub29wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1ub29wL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuaW1wb3J0IHV1aWQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLXV1aWQvaW5kZXgnO1xuXG4vKipcbiMgQ2hlY2tib3hcbl9fQW4gYWNjZXNzaWJsZSBjaGVja2JveCB3aXRoIGluZGV0ZXJtaW5hdGUgc3VwcG9ydC5fX1xuXG5DaGVja2JveCBpcyBpbXBsZW1lbnRlZCBhcyBhIFwiY29udHJvbGxlZCBpbnB1dFwiLCBtZWFuaW5nIGl0IGlzIGEgZGlyZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtb2RlbCBkYXRhIHBhc3NlZFxuaW5zaWRlLiBVc2VyIGludGVyYWN0aW9uIHdpbGwgYnViYmxlIGNoYW5nZXMgaW4gdGhlIGZvcm0gb2YgYG9uQ2hlY2tlZGAgYW5kIGBvblVuY2hlY2tlZGAgdGhhdCBhIGNvbnRyb2xsZXJcbnZpZXcgbXVzdCBpbnRlcmNlcHQgYW5kIGFwcGx5IGFnYWluc3QgdGhlIGRhdGEgcHJvdmlkZXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoZWNrYm94IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFsbCBpbnB1dC1zcGVjaWZpYyBwcm9wcyBsaWtlIGB2YWx1ZWAsIGBuYW1lYCwgZXRjIHNob3VsZCBiZSBwYXNzZWQgaGVyZSAtLSBjb21tb24gb25lcyBhcmUgbGlzdGVkIGJlbG93LlxuICAgICAgICAgKiBBbHNvIHN1cHBvcnRzIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWNoZWNrYm94YCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBpbnB1dFByb3BzOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBkZXRlcm1pbmVzIGlmIHRoZSBjaGVja2JveCBpcyByZW5kZXJlZCBhcyBjaGVja2VkL3VuY2hlY2tlZCwgc2VlIFJlYWN0IFtcImNvbnRyb2xsZWQgaW5wdXRzXCJdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvZm9ybXMuaHRtbCNjb250cm9sbGVkLWNvbXBvbmVudHMpKVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjaGVja2VkOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAgICAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHByZXZlbnRzIHRoZSBgb257Q2hlY2tlZCxVbmNoZWNrZWR9YCBldmVudHMgZnJvbSBmaXJpbmcgd2hlbiBgdHJ1ZWBcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICAgICAgICAgICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogZW5hYmxlcyBvciBkaXNhYmxlcyBcIm1peGVkXCIgY2hlY2tib3ggc3RhdGUsIHJlYWQgdGhpcyBbQ1NTLVRyaWNrcyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2luZGV0ZXJtaW5hdGUtY2hlY2tib3hlcy8pICBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHJlbmRlcmVkIGFzIHRoZSBpbnB1dCBjb250cm9sJ3MgZm9ybSBuYW1lXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogIHBhc3NlZC10aHJvdWdoIHRvIHRoZSBpbnB1dCBub2RlLCBsaWtlIGBuYW1lYFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgfSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBSZWFjdC1yZW5kZXJhYmxlIGNvbnRlbnQsIG1vc3QgY29tbW9ubHkgYSBzaW1wbGUgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWNoZWNrYm94LWxhYmVsYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBiZWNvbWVzIGNoZWNrZWQ7IGJhY2tpbmcgZGF0YSBtdXN0IGJlIHVwZGF0ZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBvbkNoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBiZWNvbWVzIHVuY2hlY2tlZDsgYmFja2luZyBkYXRhIG11c3QgYmUgdXBkYXRlZCB0byBwZXJzaXN0IHRoZSBzdGF0ZSBjaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIG9uVW5jaGVja2VkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICBjaGVja2VkOiBmYWxzZSxcbiAgICAgICAgICAgIGluZGV0ZXJtaW5hdGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBsYWJlbDogbnVsbCxcbiAgICAgICAgbGFiZWxQcm9wczoge30sXG4gICAgICAgIG9uQ2hlY2tlZDogbm9vcCxcbiAgICAgICAgb25VbmNoZWNrZWQ6IG5vb3AsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKENoZWNrYm94LmRlZmF1bHRQcm9wcylcblxuICAgIGlkID0gdXVpZCgpXG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaW5wdXRQcm9wcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEluZGV0ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgaWYgKHByZXZQcm9wcy5pbnB1dFByb3BzLmluZGV0ZXJtaW5hdGUgIT09IHRoaXMucHJvcHMuaW5wdXRQcm9wcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEluZGV0ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEluZGV0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHRoaXMucmVmcy5pbnB1dC5pbmRldGVybWluYXRlID0gISF0aGlzLnByb3BzLmlucHV0UHJvcHMuaW5kZXRlcm1pbmF0ZTtcbiAgICB9XG5cbiAgICBoYW5kbGVDaGFuZ2UgPSAoZXZlbnQpID0+IHsgLy8gU2VuZCB0aGUgb3Bwb3NpdGUgc2lnbmFsIGZyb20gd2hhdCB3YXMgcGFzc2VkIHRvIHRvZ2dsZSB0aGUgZGF0YVxuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbnB1dFByb3BzLmRpc2FibGVkKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMucHJvcHNbIXRoaXMucHJvcHMuaW5wdXRQcm9wcy5jaGVja2VkID8gJ29uQ2hlY2tlZCcgOiAnb25VbmNoZWNrZWQnXSh0aGlzLnByb3BzLmlucHV0UHJvcHMubmFtZSk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2hhbmdlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmlucHV0UHJvcHMuZGlzYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdGhpcy5yZWZzLmlucHV0LmZvY3VzKCk7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQ2xpY2spKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmlucHV0UHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBcmlhU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmlucHV0UHJvcHMuaW5kZXRlcm1pbmF0ZSA/ICdtaXhlZCcgOiBTdHJpbmcodGhpcy5wcm9wcy5pbnB1dFByb3BzLmNoZWNrZWQpO1xuICAgIH1cblxuICAgIHJlbmRlcklucHV0KCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcy5pbnB1dFByb3BzLCAnaW5kZXRlcm1pbmF0ZScpfVxuICAgICAgICAgICAgICAgIHJlZj0naW5wdXQnXG4gICAgICAgICAgICAgICAgdHlwZT0nY2hlY2tib3gnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1jaGVja2JveCcsIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ItY2hlY2tib3gtbWl4ZWQnOiB0aGlzLnByb3BzLmlucHV0UHJvcHMuaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgJ2ItY2hlY2tib3gtY2hlY2tlZCc6IHRoaXMucHJvcHMuaW5wdXRQcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAnYi1jaGVja2JveC11bmNoZWNrZWQnOiAhdGhpcy5wcm9wcy5pbnB1dFByb3BzLmluZGV0ZXJtaW5hdGUgJiYgIXRoaXMucHJvcHMuaW5wdXRQcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmlucHV0UHJvcHMuaWQgfHwgdGhpcy5pZH1cbiAgICAgICAgICAgICAgICBhcmlhLWNoZWNrZWQ9e3RoaXMuZ2V0QXJpYVN0YXRlKCl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyTGFiZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5sYWJlbFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2xhYmVsJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWNoZWNrYm94LWxhYmVsJywgdGhpcy5wcm9wcy5sYWJlbFByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuaW5wdXRQcm9wcy5pZCB8fCB0aGlzLmlkfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgQ2hlY2tib3guaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1jaGVja2JveC13cmFwcGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbnB1dCgpfVxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckxhYmVsKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vYm91bmRsZXNzLWNoZWNrYm94L2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuXG4vKipcbiMgQ2hlY2tib3hHcm91cFxuX19BIGNvbnRyb2xsZXIgdmlldyBmb3IgbWFuYWdpbmcgdGhlIGFnZ3JlZ2F0ZSBzdGF0ZSBvZiBtdWx0aXBsZSwgcmVsYXRlZCBjaGVja2JveGVzLl9fXG5cblRoZSBtb3N0IGNvbW1vbiB1c2UgY2FzZSBmb3IgYENoZWNrYm94R3JvdXBgIGlzIGEgXCJzZWxlY3QgYWxsXCIgLyBjaGlsZHJlbiBzY2VuYXJpby4gVGhpcyBwYXJ0aWN1bGFyXG5jb25maWd1cmF0aW9uIGlzIGJ1aWx0LWluIGFuZCBpcyBhY3RpdmF0ZWQgYnkgcGFzc2luZyB0aGUgYHNlbGVjdEFsbGAgcHJvcC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hlY2tib3hHcm91cCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBzZWxlY3RBbGxQb3NpdGlvbiA9IHtcbiAgICAgICAgQkVGT1JFOiAnQkVGT1JFJyxcbiAgICAgICAgQUZURVI6ICdBRlRFUicsXG4gICAgfVxuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBkYXRhIHdpc2hlZCB0byBiZSByZW5kZXJlZCwgZWFjaCBpdGVtIG11c3QgY29uZm9ybSB0byB0aGUgW0NoZWNrYm94IHByb3Agc3BlY10oLi9DaGVja2JveCNwcm9wcylcbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiBQcm9wVHlwZXMuYXJyYXlPZihDaGVja2JveC5wcm9wVHlwZXMuaW5wdXRQcm9wcykuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHdoZW4gYWxsIGNoaWxkcmVuIGJlY29tZSBjaGVja2VkIChub3QgZmlyZWQgb24gZmlyc3QgcmVuZGVyKSwgbm8gcmV0dXJuXG4gICAgICAgICAqL1xuICAgICAgICBvbkFsbENoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhbGwgY2hpbGRyZW4gYmVjb21lIHVuY2hlY2tlZCAobm90IGZpcmVkIG9uIGZpcnN0IHJlbmRlciksIG5vIHJldHVyblxuICAgICAgICAgKi9cbiAgICAgICAgb25BbGxVbmNoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhIHNwZWNpZmljIGNoaWxkIGhhcyBiZWNvbWUgY2hlY2tlZCwgcmV0dXJucyB0aGUgY2hpbGQgZGVmaW5pdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb25DaGlsZENoZWNrZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiBhIHNwZWNpZmljIGNoaWxkIGhhcyBiZWNvbWUgY2hlY2tlZCwgcmV0dXJucyB0aGUgY2hpbGQgZGVmaW5pdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgb25DaGlsZFVuY2hlY2tlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbmRlcnMgYSBtYXN0ZXIgY2hlY2tib3ggdGhhdCBjYW4gbWFuaXB1bGF0ZSB0aGUgdmFsdWVzIG9mIGFsbCBjaGlsZHJlbiBzaW11bHRhbmVvdXNseVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0QWxsOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogbXVzdCBjb25mb3JtIHRvIHRoZSBbQ2hlY2tib3ggcHJvcCBzcGVjXSguL0NoZWNrYm94I3Byb3BzKVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0QWxsUHJvcHM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHRoZSB0ZXh0IG9yIHJlbmRlcmFibGUgbm9kZSB0byBkaXNwbGF5IG5leHQgdG8gdGhlIGNoZWNrYm94XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgaW5wdXRQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICAgICAgfSksXG5cbiAgICAgICAgc2VsZWN0QWxsUG9zaXRpb246IFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAgICAgICBDaGVja2JveEdyb3VwLnNlbGVjdEFsbFBvc2l0aW9uLkJFRk9SRSxcbiAgICAgICAgICAgIENoZWNrYm94R3JvdXAuc2VsZWN0QWxsUG9zaXRpb24uQUZURVIsXG4gICAgICAgIF0pLFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgb25BbGxDaGVja2VkOiBub29wLFxuICAgICAgICBvbkFsbFVuY2hlY2tlZDogbm9vcCxcbiAgICAgICAgb25DaGlsZENoZWNrZWQ6IG5vb3AsXG4gICAgICAgIG9uQ2hpbGRVbmNoZWNrZWQ6IG5vb3AsXG4gICAgICAgIHNlbGVjdEFsbDogZmFsc2UsXG4gICAgICAgIHNlbGVjdEFsbFByb3BzOiB7fSxcbiAgICAgICAgc2VsZWN0QWxsUG9zaXRpb246IENoZWNrYm94R3JvdXAuc2VsZWN0QWxsUG9zaXRpb24uQkVGT1JFLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhDaGVja2JveEdyb3VwLmRlZmF1bHRQcm9wcylcblxuICAgIGFsbEl0ZW1zQ2hlY2tlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaXRlbXMuZXZlcnkoKGl0ZW0pID0+IGl0ZW0uaW5wdXRQcm9wcy5jaGVja2VkID09PSB0cnVlKTtcbiAgICB9XG5cbiAgICBhbnlJdGVtc0NoZWNrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLml0ZW1zLnNvbWUoKGl0ZW0pID0+IGl0ZW0uaW5wdXRQcm9wcy5jaGVja2VkID09PSB0cnVlKTtcbiAgICB9XG5cbiAgICByZW5kZXJTZWxlY3RBbGwoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdEFsbCkge1xuICAgICAgICAgICAgY29uc3QgYWxsQ2hlY2tlZCA9IHRoaXMuYWxsSXRlbXNDaGVja2VkKCk7XG4gICAgICAgICAgICBjb25zdCB7aW5wdXRQcm9wc30gPSB0aGlzLnByb3BzLnNlbGVjdEFsbFByb3BzO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxDaGVja2JveFxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5zZWxlY3RBbGxQcm9wc31cbiAgICAgICAgICAgICAgICAgICAgcmVmPSdzZWxlY3RfYWxsJ1xuICAgICAgICAgICAgICAgICAgICBrZXk9J2NiX3NlbGVjdF9hbGwnXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItY2hlY2tib3gtZ3JvdXAtc2VsZWN0YWxsJywgdGhpcy5wcm9wcy5zZWxlY3RBbGxQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5pbnB1dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogYWxsQ2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV0ZXJtaW5hdGU6ICFhbGxDaGVja2VkICYmIHRoaXMuYW55SXRlbXNDaGVja2VkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpbnB1dFByb3BzICYmIGlucHV0UHJvcHMubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBpbnB1dFByb3BzLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2NiX3NlbGVjdF9hbGwnLFxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBsYWJlbD17dGhpcy5wcm9wcy5zZWxlY3RBbGxQcm9wcy5sYWJlbCB8fCAnU2VsZWN0IEFsbCd9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZD17dGhpcy5wcm9wcy5vbkFsbENoZWNrZWR9XG4gICAgICAgICAgICAgICAgICAgIG9uVW5jaGVja2VkPXt0aGlzLnByb3BzLm9uQWxsVW5jaGVja2VkfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckNoZWNrYm94ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLml0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICAgICAgey4uLml0ZW19XG4gICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5pbnB1dFByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hlY2tlZD17dGhpcy5wcm9wcy5vbkNoaWxkQ2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgb25VbmNoZWNrZWQ9e3RoaXMucHJvcHMub25DaGlsZFVuY2hlY2tlZH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlckNoaWxkcmVuKCkge1xuICAgICAgICBjb25zdCB0b0JlUmVuZGVyZWQgPSBbdGhpcy5yZW5kZXJDaGVja2JveGVzKCldO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdEFsbCAmJiB0aGlzLnByb3BzLnNlbGVjdEFsbFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcHMuc2VsZWN0QWxsUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgQ2hlY2tib3hHcm91cC5zZWxlY3RBbGxQb3NpdGlvbi5CRUZPUkU6XG4gICAgICAgICAgICAgICAgdG9CZVJlbmRlcmVkLnVuc2hpZnQodGhpcy5yZW5kZXJTZWxlY3RBbGwoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQ2hlY2tib3hHcm91cC5zZWxlY3RBbGxQb3NpdGlvbi5BRlRFUjpcbiAgICAgICAgICAgICAgICB0b0JlUmVuZGVyZWQucHVzaCh0aGlzLnJlbmRlclNlbGVjdEFsbCgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0b0JlUmVuZGVyZWQ7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIENoZWNrYm94R3JvdXAuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J2dyb3VwJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItY2hlY2tib3gtZ3JvdXAnLCB0aGlzLnByb3BzLmNsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckNoaWxkcmVuKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuaW1wb3J0IHV1aWQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLXV1aWQvaW5kZXgnO1xuXG4vKipcbiMgUG9ydGFsXG5fX0EgaGlnaGVyLW9yZGVyIGNvbXBvbmVudCBmb3IgdGhlIHJlbmRlcmluZyBvZiBjb21wb25lbnRzIG91dHNpZGUgdGhlIG5vcm1hbCBSZWFjdCB0cmVlLl9fXG5cbmBQb3J0YWxgIGlzIHVzZWQgaW4gb3RoZXIgY29tcG9uZW50cyBzdWNoIGFzIGBQb3BvdmVyYCB0byByZW5kZXIgY29udGVudCB0byBwbGFjZXMgbGlrZSB0aGUgSFRNTCBgPGJvZHk+YCB0YWcsIGF2b2lkaW5nIHN0eWxlIGxlYWthZ2UgYW5kIHBhcmVudCBsYXlvdXQgY29udGV4dHMuIE9ubHkgYWNjZXB0cyBhIHNpbmdsZSB0b3AtbGV2ZWwgY2hpbGQ7IG5ha2VkIHRleHQsIGV0YyB3aWxsIGJlIHdyYXBwZWQgaW4gYSBgPGRpdj5gLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3J0YWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8vIHNpbmdsZSBjaGlsZCBvbmx5IC0gYXJyYXlzIG5vdCBhbGxvd2VkXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBub3JtYWwgUmVhY3QgY2hpbGQsIGJ1dCBtdXN0IGJlIHNpbmd1bGFyOyBtdWx0aXBsZSBzaWJsaW5nIGNoaWxkcmVuIG11c3QgaGF2ZSBhIGNvbW1vbiB3cmFwcGVyLCBzdWNoIGFzIGEgXCJsYXlvdXRcIiBgPGRpdj5gXG5cbiAgICAgICAgICog4pyFIE9LOlxuXG4gICAgICAgICAqIGBgYGpzeFxuICAgICAgICAgKiA8UG9ydGFsPlxuICAgICAgICAgKiAgIGZvb1xuICAgICAgICAgKiA8L1BvcnRhbD5cblxuICAgICAgICAgKiA8UG9ydGFsPlxuICAgICAgICAgKiAgIDxkaXY+Zm9vPC9kaXY+XG4gICAgICAgICAqIDwvUG9ydGFsPlxuXG4gICAgICAgICAqIDxQb3J0YWw+XG4gICAgICAgICAqICAgPGRpdj5cbiAgICAgICAgICogICAgICAgPGRpdj5mb288L2Rpdj5cbiAgICAgICAgICogICAgICAgPGRpdj5iYXI8L2Rpdj5cbiAgICAgICAgICogICA8L2Rpdj5cbiAgICAgICAgICogPC9Qb3J0YWw+XG4gICAgICAgICAqIGBgYFxuXG4gICAgICAgICAqIOKblO+4jyBOb3QgT0s6XG5cbiAgICAgICAgICogYGBganN4XG4gICAgICAgICAqIDxQb3J0YWw+XG4gICAgICAgICAqICAgPGRpdj5mb288L2Rpdj5cbiAgICAgICAgICogICA8ZGl2PmJhcjwvZGl2PlxuICAgICAgICAgKiA8L1BvcnRhbD5cbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBjaGlsZHJlbjogUmVhY3QuUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBsb2NhdGlvbiB0byBhcHBlbmQgdGhlIGdlbmVyYXRlZCBwb3J0YWwgYW5kIGNoaWxkIGVsZW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0aW5hdGlvbjogUHJvcFR5cGVzLmluc3RhbmNlT2YoSFRNTEVsZW1lbnQpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgSUQgdXNlZCB0byBsaW5rIHRoZSBwb3J0YWwgb3JpZ2luIHRvIHRoZSBkZXN0aW5hdGlvbjsgYWRkZWQgdG8gZ2VuZXJhdGVkIGA8ZGl2PmAgYXBwZW5kZWQgdG8gdGhlIGRlc3RpbmF0aW9uIEhUTUwgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgcG9ydGFsSWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY2hpbGRyZW46IG51bGwsXG4gICAgICAgIGRlc3RpbmF0aW9uOiBkb2N1bWVudC5ib2R5LFxuICAgICAgICBwb3J0YWxJZDogbnVsbCxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoUG9ydGFsLmRlZmF1bHRQcm9wcylcblxuICAgIHN0YXRpYyBQT1JUQUxfREFUQV9BVFRSSUJVVEUgPSAnZGF0YS1wb3J0YWwtaWQnXG5cbiAgICBpZCA9IHV1aWQoKVxuXG4gICAgLy8gdGhlIDxkaXY+IHRoYXQgdGhlIGNoaWxkcmVuIGFyZSByZW5kZXJlZCBpbnRvXG4gICAgJHBvcnRhbCA9IG51bGxcblxuICAgIC8vIHRoZSB0b3AtbGV2ZWwgY2hpbGQgcmVuZGVyZWQgaW50byB0aGUgJHBvcnRhbFxuICAgICRwYXNzZW5nZXIgPSBudWxsO1xuXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICB0aGlzLiRwb3J0YWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5wcm9wcy5kZXN0aW5hdGlvbi5hcHBlbmRDaGlsZCh0aGlzLiRwb3J0YWwpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyUG9ydGFsbGVkQ29udGVudCgpO1xuICAgIH1cblxuICAgIHJlbmRlclBvcnRhbGxlZENvbnRlbnQoKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQodGhpcy5wcm9wcy5jaGlsZHJlbikgPyB0aGlzLnByb3BzLmNoaWxkcmVuIDogKDxkaXY+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9kaXY+KTtcblxuICAgICAgICAvLyB1cGRhdGUgdGhlIHBvcnRhbCBJRCBsaW5rIGlmIG5lZWRlZFxuICAgICAgICB0aGlzLiRwb3J0YWwuaWQgPSB0aGlzLnByb3BzLnBvcnRhbElkIHx8IHRoaXMuaWQ7XG5cbiAgICAgICAgUmVhY3RET00udW5zdGFibGVfcmVuZGVyU3VidHJlZUludG9Db250YWluZXIodGhpcywgY2hpbGQsIHRoaXMuJHBvcnRhbCk7XG4gICAgICAgIHRoaXMuJHBhc3NlbmdlciA9IHRoaXMuJHBvcnRhbC5jaGlsZHJlblswXTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7IHRoaXMucmVuZGVyUG9ydGFsbGVkQ29udGVudCgpOyB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLiRwb3J0YWwpO1xuICAgICAgICB0aGlzLnByb3BzLmRlc3RpbmF0aW9uLnJlbW92ZUNoaWxkKHRoaXMuJHBvcnRhbCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBQb3J0YWwuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICB7Li4ue1tQb3J0YWwuUE9SVEFMX0RBVEFfQVRUUklCVVRFXTogdGhpcy5wcm9wcy5wb3J0YWxJZCB8fCB0aGlzLmlkfX0gLz5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IFBvcnRhbCBmcm9tICcuLi9ib3VuZGxlc3MtcG9ydGFsL2luZGV4JztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1mdW5jdGlvbi9pbmRleCc7XG5pbXBvcnQgbm9vcCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtbm9vcC9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcbmltcG9ydCB1dWlkIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy11dWlkL2luZGV4JztcblxuY29uc3QgdG9BcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLyoqXG4jIERpYWxvZ1xuX19BIG5vbi1ibG9ja2luZywgZm9jdXMtc3RlYWxpbmcgY29udGFpbmVyLl9fXG5cbkEgZGlhbG9nIGRpZmZlcnMgZnJvbSBhIG1vZGFsIGluIHRoYXQgaXQgZG9lcyBub3QgY29tZSB3aXRoIGEgbWFza2luZyBsYXllciAodG8gb2JzY3VyZSB0aGUgcmVzdCBvZiB0aGUgcGFnZSlcbmFuZCB0aGUgdXNlciBjYW4gY2hvb3NlIHRvIHNoaWZ0IGZvY3VzIGF3YXkgZnJvbSB0aGUgZGlhbG9nIGNvbnRlbnRzIHZpYSBtb3VzZSBjbGljayBvciBhIGtleWJvYXJkIHNob3J0Y3V0LlxuXG5TcGVjaWZpYyBhcmVhcyAoaGVhZGVyLCBib2R5LCBmb290ZXIpIGFyZSBkZWZpbmVkIHRvIHByb3ZpZGUgZWFzeSBjb25mb3JtYW5jZSB0byB0aGVcbltXQUktQVJJQSBzcGVjXShodHRwOi8vd3d3LnczLm9yZyAqIC9UUi93YWktYXJpYS9zdGF0ZXNfYW5kX3Byb3BlcnRpZXMjYXJpYS1sYWJlbGxlZGJ5KSBmb3IgYGFyaWEtbGFiZWxsZWRieWBcbmFuZCBgYXJpYS1kZXNjcmliZWRieWAgKHNjcmVlbiByZWFkZXIgICogYWNjZXNzaWJpbGl0eSkuIFRoZWlyIHVzZSBpcyBvcHRpb25hbCwgYnV0IGVuY291cmFnZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpYWxvZyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhcmJpdHJhcnkgY29udGVudCB0byBiZSByZW5kZXJlZCBhZnRlciB0aGUgZGlhbG9nIGluIHRoZSBET01cbiAgICAgICAgICovXG4gICAgICAgIGFmdGVyOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYXJiaXRyYXJ5IGNvbnRlbnQgdG8gYmUgcmVuZGVyZWQgYmVmb3JlIHRoZSBkaWFsb2cgaW4gdGhlIERPTVxuICAgICAgICAgKi9cbiAgICAgICAgYmVmb3JlOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItZGlhbG9nLWJvZHlgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGJvZHlQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZGV0ZXJtaW5lcyBpZiBmb2N1cyBpcyBhbGxvd2VkIHRvIG1vdmUgYXdheSBmcm9tIHRoZSBkaWFsb2dcbiAgICAgICAgICovXG4gICAgICAgIGNhcHR1cmVGb2N1czogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBlbmFibGUgZGV0ZWN0aW9uIG9mIFwiRXNjYXBlXCIga2V5cHJlc3NlcyB0byB0cmlnZ2VyIGBwcm9wcy5vbkNsb3NlYFxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VPbkVzY0tleTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVuYWJsZSBkZXRlY3Rpb24gb2YgY2xpY2tzIG91dHNpZGUgdGhlIGRpYWxvZyBhcmVhIHRvIHRyaWdnZXIgYHByb3BzLm9uQ2xvc2VgXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZU9uT3V0c2lkZUNsaWNrOiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZW5hYmxlIGRldGVjdGlvbiBvZiBmb2N1cyBvdXRzaWRlIHRoZSBkaWFsb2cgYXJlYSB0byB0cmlnZ2VyIGBwcm9wcy5vbkNsb3NlYFxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VPbk91dHNpZGVGb2N1czogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVuYWJsZSBkZXRlY3Rpb24gb2Ygc2Nyb2xsIGFuZCBtb3VzZXdoZWVsIGV2ZW50cyBvdXRzaWRlIHRoZSBkaWFsb2cgYXJlYSB0byB0cmlnZ2VyIGBwcm9wcy5vbkNsb3NlYFxuICAgICAgICAgKi9cbiAgICAgICAgY2xvc2VPbk91dHNpZGVTY3JvbGw6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZXh0LCBSZWFjdEVsZW1lbnRzLCBldGMuIGNvbXByaXNpbmcgdGhlIFwiZm9vdGVyXCIgYXJlYSBvZiB0aGUgZGlhbG9nLCBlLmcuIGNvbmZpcm0vY2FuY2VsIGJ1dHRvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZvb3RlcjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWRpYWxvZy1mb290ZXJgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGZvb3RlclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0ZXh0LCBSZWFjdEVsZW1lbnRzLCBldGMuIHRvIHJlcHJlc2VudCB0aGUgXCJ0aXRsZSBiYXJcIiBhcmVhIG9mIHRoZSBkaWFsb2dcbiAgICAgICAgICovXG4gICAgICAgIGhlYWRlcjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWRpYWxvZy1oZWFkZXJgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGhlYWRlclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIGN1c3RvbSBldmVudCBoYW5kbGVyIHRoYXQgaXMgY2FsbGVkIHRvIGluZGljYXRlIHRoYXQgdGhlIGRpYWxvZyBzaG91bGQgYmUgdW5yZW5kZXJlZCBieSBpdHMgcGFyZW50OyB0aGUgZXZlbnQgb2NjdXJzIGlmIG9uZSBvciBtb3JlIG9mIHRoZSBgY2xvc2VPbmAgcHJvcHMgKGBjbG9zZU9uRXNjS2V5YCwgYGNsb3NlT25PdXRzaWRlQ2xpY2tgLCBldGMuKSBhcmUgcGFzc2VkIGFzIGB0cnVlYCBhbmQgdGhlIGRpc21pc3NhbCBjcml0ZXJpYSBhcmUgc2F0aXNmaWVkXG4gICAgICAgICAqL1xuICAgICAgICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItZGlhbG9nLXdyYXBwZXJgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHdyYXBwZXJQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBhZnRlcjogbnVsbCxcbiAgICAgICAgYmVmb3JlOiBudWxsLFxuICAgICAgICBib2R5UHJvcHM6IHt9LFxuICAgICAgICBjYXB0dXJlRm9jdXM6IHRydWUsXG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgICBjbG9zZU9uRXNjS2V5OiBmYWxzZSxcbiAgICAgICAgY2xvc2VPbk91dHNpZGVDbGljazogZmFsc2UsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlRm9jdXM6IGZhbHNlLFxuICAgICAgICBjbG9zZU9uT3V0c2lkZVNjcm9sbDogZmFsc2UsXG4gICAgICAgIGZvb3RlcjogbnVsbCxcbiAgICAgICAgZm9vdGVyUHJvcHM6IHt9LFxuICAgICAgICBoZWFkZXI6IG51bGwsXG4gICAgICAgIGhlYWRlclByb3BzOiB7fSxcbiAgICAgICAgb25DbG9zZTogbm9vcCxcbiAgICAgICAgd3JhcHBlclByb3BzOiB7fSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoRGlhbG9nLmRlZmF1bHRQcm9wcylcblxuICAgIG1vdW50ZWQgPSBmYWxzZVxuXG4gICAgLy8gZmFsbGJhY2tzIGlmIG9uZSBpc24ndCBwYXNzZWRcbiAgICB1dWlkSGVhZGVyID0gdXVpZCgpXG4gICAgdXVpZEJvZHkgPSB1dWlkKClcblxuICAgIGlzUGFydE9mRGlhbG9nKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUgPT09IHdpbmRvdykgeyByZXR1cm4gZmFsc2U7IH1cblxuICAgICAgICBjb25zdCByb290cyA9IFt0aGlzLiR3cmFwcGVyXS5jb25jYXQoXG4gICAgICAgICAgICB0b0FycmF5LmNhbGwoXG4gICAgICAgICAgICAgICAgdGhpcy4kd3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKGBbJHtQb3J0YWwuUE9SVEFMX0RBVEFfQVRUUklCVVRFfV1gKVxuICAgICAgICAgICAgKS5tYXAoKGRvbSkgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZG9tLmdldEF0dHJpYnV0ZShQb3J0YWwuUE9SVEFMX0RBVEFfQVRUUklCVVRFKSkpXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IG5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFID8gbm9kZS5wYXJlbnROb2RlIDogbm9kZTtcblxuICAgICAgICByZXR1cm4gcm9vdHMuc29tZSgoZG9tKSA9PiBkb20uY29udGFpbnMoZWxlbWVudCkpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU91dHNpZGVDbGljaywgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrLCB0cnVlKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1cywgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZU91dHNpZGVTY3JvbGxXaGVlbCwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuaGFuZGxlT3V0c2lkZVNjcm9sbFdoZWVsLCB0cnVlKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jYXB0dXJlRm9jdXMgJiYgIXRoaXMuaXNQYXJ0T2ZEaWFsb2coZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2ssIHRydWUpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlT3V0c2lkZVNjcm9sbFdoZWVsLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5oYW5kbGVPdXRzaWRlU2Nyb2xsV2hlZWwsIHRydWUpO1xuICAgIH1cblxuICAgIGhhbmRsZUZvY3VzID0gKG5hdGl2ZUV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5wcm9wcy5jYXB0dXJlRm9jdXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmNsb3NlT25PdXRzaWRlRm9jdXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNQYXJ0T2ZEaWFsb2cobmF0aXZlRXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQodGhpcy5wcm9wcy5vbkNsb3NlLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGV4cGxpY2l0T3JpZ2luYWxUYXJnZXQgaXMgZm9yIEZpcmVmb3gsIGFzIGl0IGRvZXNuJ3Qgc3VwcG9ydCByZWxhdGVkVGFyZ2V0XG4gICAgICAgIGxldCBwcmV2aW91cyA9IG5hdGl2ZUV2ZW50LmV4cGxpY2l0T3JpZ2luYWxUYXJnZXQgfHwgbmF0aXZlRXZlbnQucmVsYXRlZFRhcmdldDtcblxuICAgICAgICBpZiAoICAgdGhpcy5pc1BhcnRPZkRpYWxvZyhwcmV2aW91cylcbiAgICAgICAgICAgICYmICF0aGlzLmlzUGFydE9mRGlhbG9nKG5hdGl2ZUV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBwcmV2aW91cy5mb2N1cygpOyAvLyByZXN0b3JlIGZvY3VzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNsb3NlT25Fc2NLZXkgJiYgZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5wcm9wcy5vbkNsb3NlLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMub25LZXlEb3duKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbktleURvd24oZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlT3V0c2lkZUNsaWNrID0gKG5hdGl2ZUV2ZW50KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNsb3NlT25PdXRzaWRlQ2xpY2sgJiYgIXRoaXMuaXNQYXJ0T2ZEaWFsb2cobmF0aXZlRXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5wcm9wcy5vbkNsb3NlLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU91dHNpZGVTY3JvbGxXaGVlbCA9IChuYXRpdmVFdmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uT3V0c2lkZVNjcm9sbCAmJiAhdGhpcy5pc1BhcnRPZkRpYWxvZyhuYXRpdmVFdmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnByb3BzLm9uQ2xvc2UsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyQm9keSgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5ib2R5UHJvcHN9XG4gICAgICAgICAgICAgICAgaWQ9e3RoaXMucHJvcHMuYm9keVByb3BzLmlkIHx8IHRoaXMudXVpZEJvZHl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1kaWFsb2ctYm9keScsIHRoaXMucHJvcHMuYm9keVByb3BzLmNsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyRm9vdGVyKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5mb290ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGZvb3RlclxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5mb290ZXJQcm9wc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1kaWFsb2ctZm9vdGVyJywgdGhpcy5wcm9wcy5mb290ZXJQcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuZm9vdGVyfVxuICAgICAgICAgICAgICAgIDwvZm9vdGVyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckhlYWRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuaGVhZGVyUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgIGlkPXt0aGlzLnByb3BzLmhlYWRlclByb3BzLmlkIHx8IHRoaXMudXVpZEhlYWRlcn1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1kaWFsb2ctaGVhZGVyJywgdGhpcy5wcm9wcy5oZWFkZXJQcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaGVhZGVyfVxuICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlckZvY3VzQm91bmRhcnkoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNhcHR1cmVGb2N1cykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nYi1vZmZzY3JlZW4nIHRhYkluZGV4PScwJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+Jm5ic3A7PC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSAvLyB1c2VkIHRvIGxvY2sgZm9jdXMgaW50byBhIHBhcnRpY3VsYXIgc3Vic2V0IG9mIERPTVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLndyYXBwZXJQcm9wc31cbiAgICAgICAgICAgICAgICByZWY9eyhub2RlKSA9PiAodGhpcy4kd3JhcHBlciA9IG5vZGUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItZGlhbG9nLXdyYXBwZXInLCB0aGlzLnByb3BzLndyYXBwZXJQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIHRhYkluZGV4PScwJz5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJGb2N1c0JvdW5kYXJ5KCl9XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5iZWZvcmV9XG5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIERpYWxvZy5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhub2RlKSA9PiAodGhpcy4kZGlhbG9nID0gbm9kZSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItZGlhbG9nJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgICAgICBvbktleURvd249e3RoaXMuaGFuZGxlS2V5RG93bn1cbiAgICAgICAgICAgICAgICAgICAgcm9sZT0nZGlhbG9nJ1xuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsbGVkYnk9e3RoaXMudXVpZEhlYWRlcn1cbiAgICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17dGhpcy51dWlkQm9keX1cbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9JzAnPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJIZWFkZXIoKX1cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucmVuZGVyQm9keSgpfVxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJGb290ZXIoKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmFmdGVyfVxuXG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyRm9jdXNCb3VuZGFyeSgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7ZmluZERPTU5vZGV9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuY29uc3QgaW5zdGFuY2VzID0gW107XG5cbmZ1bmN0aW9uIHRvSShzdHJpbmdOdW1iZXIpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nTnVtYmVyLCAxMCk7XG59XG5cbmZ1bmN0aW9uIHJlc2NhbGUoaW5zdGFuY2UpIHtcbiAgICBjb25zdCBub2RlID0gZmluZERPTU5vZGUoaW5zdGFuY2UpO1xuICAgIGNvbnN0IGNvbnRhaW5lckJveCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUucGFyZW50Tm9kZSk7XG4gICAgY29uc3QgZm9udFNpemUgPSB0b0kod2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSkuZm9udFNpemUpO1xuXG4gICAgbGV0IGNvbnRhaW5lckhlaWdodCA9IHRvSShjb250YWluZXJCb3guaGVpZ2h0KTtcbiAgICBsZXQgY29udGFpbmVyV2lkdGggPSB0b0koY29udGFpbmVyQm94LndpZHRoKTtcblxuICAgIC8vIG5lZWQgdG8gYWNjb3VudCBmb3IgcGFkZGluZ1xuICAgIGlmIChjb250YWluZXJCb3guYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcgfHwgY29udGFpbmVyQm94LmJveFNpemluZyA9PT0gJ3BhZGRpbmctYm94Jykge1xuICAgICAgICBjb250YWluZXJIZWlnaHQgLT0gdG9JKGNvbnRhaW5lckJveC5wYWRkaW5nVG9wKSArIHRvSShjb250YWluZXJCb3gucGFkZGluZ0JvdHRvbSk7XG4gICAgICAgIGNvbnRhaW5lcldpZHRoIC09IHRvSShjb250YWluZXJCb3gucGFkZGluZ0xlZnQpICsgdG9JKGNvbnRhaW5lckJveC5wYWRkaW5nUmlnaHQpO1xuICAgIH1cblxuICAgIGNvbnN0IG9wdGltaXplRm9ySGVpZ2h0ID0gTWF0aC5mbG9vcigoZm9udFNpemUgLyBub2RlLm9mZnNldEhlaWdodCkgKiBjb250YWluZXJIZWlnaHQpO1xuICAgIGNvbnN0IG9wdGltaXplRm9yV2lkdGggPSBNYXRoLmZsb29yKChmb250U2l6ZSAvIG5vZGUub2Zmc2V0V2lkdGgpICogY29udGFpbmVyV2lkdGgpO1xuXG4gICAgLy8gdGhlIHx8IDEgaXMgYSBmYWxsYmFjayB0byBwcmV2ZW50IGZvbnRTaXplIGZyb20gYmVpbmcgc2V0IHRvIHplcm8sIHdoaWNoIGZ1YmFycyB0aGluZ3NcbiAgICBub2RlLnN0eWxlLmZvbnRTaXplID0gKE1hdGgubWluKGluc3RhbmNlLnByb3BzLm1heEZvbnRTaXplLCBvcHRpbWl6ZUZvckhlaWdodCwgb3B0aW1pemVGb3JXaWR0aCkgfHwgMSkgKyAncHgnO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVXaW5kb3dSZXNpemUoKSB7XG4gICAgaW5zdGFuY2VzLmZvckVhY2goKGluc3RhbmNlKSA9PiByZXNjYWxlKGluc3RhbmNlKSk7XG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVySW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlV2luZG93UmVzaXplLCB0cnVlKTtcbiAgICB9XG5cbiAgICBpbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG59XG5cbmZ1bmN0aW9uIHVucmVnaXN0ZXJJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGluc3RhbmNlcy5zcGxpY2UoaW5zdGFuY2VzLmluZGV4T2YoaW5zdGFuY2UpLCAxKTtcblxuICAgIGlmIChpbnN0YW5jZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVXaW5kb3dSZXNpemUsIHRydWUpO1xuICAgIH1cbn1cblxuLyoqXG4jIEZpdHRlZFRleHRcbl9fRml0IGdpdmVuIHRleHQgaW5zaWRlIGEgcGFyZW50IGNvbnRhaW5lciwgb2JleWluZyBpbXBsaWN0IGFuZCBleHBsaWNpdCBjb25zdHJhaW50cy5fX1xuXG5UaGUgbW9zdCBjb21tb24gdXNlIGNhc2UgZm9yIHRoaXMgY2xhc3MgaXMgZml0dGluZyBzaW5nbGUtbGluZSB0ZXh0IG9mIHVua25vd24vdmFyaWFibGUgbGVuZ3RoIGludG8gYSBidXR0b24gb3IgaGVhZGluZyB3aXRoIGZpbml0ZSBib3VuZGFyaWVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaXR0ZWRUZXh0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgdmFsaWQgSFRNTCB0YWcgbmFtZSBvciBhIFJlYWN0IGNvbXBvbmVudCBmYWN0b3J5LCBhbnl0aGluZyB0aGF0IGNhbiBiZSBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGBSZWFjdC5jcmVhdGVFbGVtZW50YFxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFuIHVwcGVyIGJvdW5kIChpbiBwaXhlbHMpIGZvciBob3cgbGFyZ2UgdGhlIHRleHQgaXMgYWxsb3dlZCB0byBncm93XG4gICAgICAgICAqL1xuICAgICAgICBtYXhGb250U2l6ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBjaGlsZHJlbjogbnVsbCxcbiAgICAgICAgY29tcG9uZW50OiAnc3BhbicsXG4gICAgICAgIG1heEZvbnRTaXplOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhGaXR0ZWRUZXh0LmRlZmF1bHRQcm9wcylcblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICByZXNjYWxlKHRoaXMpO1xuXG4gICAgICAgIC8vIHRoZXJlIGFyZSBsaWtlbHkgdG8gYmUgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIHRoaXMgY29tcG9uZW50IG9uIGEgcGFnZSwgc28gaXQgbWFrZXMgc2Vuc2UgdG8ganVzdCB1c2VcbiAgICAgICAgLy8gYSBzaGFyZWQgZ2xvYmFsIHJlc2l6ZSBsaXN0ZW5lciBpbnN0ZWFkIG9mIGVhY2ggY29tcG9uZW50IGhhdmluZyBpdHMgb3duXG4gICAgICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcyk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICByZXNjYWxlKHRoaXMpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB1bnJlZ2lzdGVySW5zdGFuY2UodGhpcyk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRoaXMucHJvcHMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgRml0dGVkVGV4dC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItdGV4dCcsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICA8L3RoaXMucHJvcHMuY29tcG9uZW50PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBub29wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1ub29wL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuXG4vKipcbiMgSW1hZ2Vcbl9fQW4gaW1hZ2UgYmxvY2sgd2l0aCBwbGFjZWhvbGRlciBzdXBwb3J0IGZvciBsb2FkaW5nIGFuZCBmYWxsYmFjayBzY2VuYXJpb3MuX19cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgc3RhdHVzID0ge1xuICAgICAgICBMT0FESU5HOiAnTE9BRElORycsXG4gICAgICAgIExPQURFRDogJ0xPQURFRCcsXG4gICAgICAgIEVSUk9SOiAnRVJST1InLFxuICAgIH1cblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHdyaXR0ZW4gZGVzY3JpcHRpb24gb2YgdGhlIGltYWdlIGZvciBzZWFyY2ggZW5naW5lcywgaG92ZXJ0ZXh0IGFuZCB0aG9zZSB1c2luZyBhY2Nlc3NpYmlsaXR5IHRlY2hub2xvZ2llczsgYXBwbGllZCB0byB0aGUgYC5iLWltYWdlYCBhcyB0aGUgSFRNTCBhdHRyaWJ1dGVzIGBhbHRgIG9yIGB0aXRsZWAsIGRlcGVuZGluZyBvbiB0aGUgdHlwZSBvZiByZW5kZXJlZCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBhbHQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGVtaXRzIHRoZSBpbWFnZSBhcyBhIGA8ZGl2PmAgd2l0aCBgYmFja2dyb3VuZC1pbWFnZWAgY3NzIHByb3BlcnR5IHNldCBpbnN0ZWFkIG9mIGA8aW1nPmBcbiAgICAgICAgICovXG4gICAgICAgIGRpc3BsYXlBc0JhY2tncm91bmRJbWFnZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLWltYWdlYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBpbWFnZVByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHZhbGlkIHBhdGggdG8gdGhlIGRlc2lyZWQgaW1hZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNyYzogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi1pbWFnZS1zdGF0dXNgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHN0YXR1c1Byb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGFsdDogbnVsbCxcbiAgICAgICAgZGlzcGxheUFzQmFja2dyb3VuZEltYWdlOiBmYWxzZSxcbiAgICAgICAgaW1hZ2VQcm9wczoge30sXG4gICAgICAgIHNyYzogJ2Fib3V0OmJsYW5rJyxcbiAgICAgICAgc3RhdHVzUHJvcHM6IHt9LFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhJbWFnZS5kZWZhdWx0UHJvcHMpXG5cbiAgICBzdGF0ZSA9IHtcbiAgICAgICAgc3RhdHVzOiBJbWFnZS5zdGF0dXMuTE9BRElORyxcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAobmV4dFByb3BzLnNyYyAhPT0gdGhpcy5wcm9wcy5zcmMpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQcmVsb2FkZXIoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3N0YXR1czogSW1hZ2Uuc3RhdHVzLkxPQURJTkd9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnByZWxvYWQoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIHRoaXMucHJlbG9hZCgpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICB0aGlzLnJlc2V0UHJlbG9hZGVyKCk7XG4gICAgfVxuXG4gICAgcmVzZXRQcmVsb2FkZXIoKSB7XG4gICAgICAgIHRoaXMubG9hZGVyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgIHRoaXMubG9hZGVyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLmxvYWRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVyKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMubG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgdGhpcy5sb2FkZXIub25sb2FkID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7c3RhdHVzOiBJbWFnZS5zdGF0dXMuTE9BREVEfSk7XG4gICAgICAgIHRoaXMubG9hZGVyLm9uZXJyb3IgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHtzdGF0dXM6IEltYWdlLnN0YXR1cy5FUlJPUn0pO1xuXG4gICAgICAgIHRoaXMubG9hZGVyLnNyYyA9IHRoaXMucHJvcHMuc3JjO1xuICAgIH1cblxuICAgIHJlbmRlckltYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5kaXNwbGF5QXNCYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5pbWFnZVByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2ltYWdlJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWltYWdlJywgdGhpcy5wcm9wcy5pbWFnZVByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmFsdH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucHJvcHMuaW1hZ2VQcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3RoaXMucHJvcHMuc3JjfSlgLFxuICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuaW1hZ2VQcm9wc31cbiAgICAgICAgICAgICAgICByZWY9J2ltYWdlJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItaW1hZ2UnLCB0aGlzLnByb3BzLmltYWdlUHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICBzcmM9e3RoaXMucHJvcHMuc3JjfVxuICAgICAgICAgICAgICAgIGFsdD17dGhpcy5wcm9wcy5hbHR9XG4gICAgICAgICAgICAgICAgb25Mb2FkPXtub29wfVxuICAgICAgICAgICAgICAgIG9uRXJyb3I9e25vb3B9IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyU3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiB7Li4udGhpcy5wcm9wcy5zdGF0dXNQcm9wc31cbiAgICAgICAgICAgICAgICAgcmVmPSdzdGF0dXMnXG4gICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItaW1hZ2Utc3RhdHVzJywgdGhpcy5wcm9wcy5zdGF0dXNQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ItaW1hZ2UtbG9hZGluZyc6IHRoaXMuc3RhdGUuc3RhdHVzID09PSBJbWFnZS5zdGF0dXMuTE9BRElORyxcbiAgICAgICAgICAgICAgICAgICAgJ2ItaW1hZ2UtbG9hZGVkJzogdGhpcy5zdGF0ZS5zdGF0dXMgPT09IEltYWdlLnN0YXR1cy5MT0FERUQsXG4gICAgICAgICAgICAgICAgICAgICdiLWltYWdlLWVycm9yJzogdGhpcy5zdGF0ZS5zdGF0dXMgPT09IEltYWdlLnN0YXR1cy5FUlJPUixcbiAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgIHJvbGU9J3ByZXNlbnRhdGlvbicgLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgSW1hZ2UuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1pbWFnZS13cmFwcGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJJbWFnZSgpfVxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlclN0YXR1cygpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJleHBvcnQgZGVmYXVsdCAodGVzdCkgPT4gdHlwZW9mIHRlc3QgPT09ICdzdHJpbmcnO1xuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1mdW5jdGlvbi9pbmRleCc7XG5pbXBvcnQgaXNTdHJpbmcgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLWlzLXN0cmluZy9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIElucHV0XG5fX0FuIGlucHV0IGNvbnRyb2wgd2l0aCBwbGFjZWhvbGRlciBlbXVsYXRpb24gZm9yIG5vbi1zdXBwb3J0aW5nIHBsYXRmb3Jtcy5fX1xuXG5JbnB1dCBhYnN0cmFjdHMgYXdheSB0aGUgY3Jvc3MtcGxhdGZvcm0gZGlmZmVyZW5jZXMgb2YgcGxhY2Vob2xkZXIgc3R5bGluZyBhbmQgYmVoYXZpb3JzLCBmb3IgZXhhbXBsZTogSW50ZXJuZXQgRXhwbG9yZXIgZGlzbWlzc2VzIG5hdGl2ZSBwbGFjZWhvbGRlcnMgb24gaW5wdXQgZm9jdXMgYW5kIG90aGVyIHBsYXRmb3JtcyBkbyBub3QuIFRoaXMgY29tcG9uZW50IGVuc3VyZXMgdGhhdCB0ZXh0IGlucHV0IGNvbnRyb2xzIHdpbGwgZmVlbCBhbmQgYmVoYXZlIHNpbWlsYXJseSBvbiBtb3JlIGRldmljZXMuXG5cbiMjIENvbXBvbmVudCBJbnN0YW5jZSBNZXRob2RzXG5cbldoZW4gdXNpbmcgYElucHV0YCBpbiB5b3VyIHByb2plY3QsIHlvdSBtYXkgY2FsbCB0aGUgZm9sbG93aW5nIG1ldGhvZHMgb24gYSByZW5kZXJlZCBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50LiBVc2UgW2ByZWZzYF0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZWZzLWFuZC10aGUtZG9tLmh0bWwpIHRvIGdldCB0aGUgaW5zdGFuY2UuXG5cbi0gX19nZXRWYWx1ZSgpX19cbiAgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgaW5wdXQgZmllbGRcblxuLSBfX3NldFZhbHVlKHN0cmluZylfX1xuICBwcm9ncmFtbWF0aWNhbGx5IHNldCB0aGUgaW5wdXQgdmFsdWU7IHVzZWZ1bCBmb3IgY2xlYXJpbmcgb3V0IHRoZSBpbnB1dCBpbiBcInVuY29udHJvbGxlZFwiIG1vZGUgLS0gbm90ZSB0aGF0IGRpZ2dpbmcgaW50byB0aGUgaW50ZXJuYWxzIGFuZCBzZXR0aW5nIHRoZSBgcmVmcy5maWVsZC52YWx1ZSA9ICcnYCBkaXJlY3RseSB3aWxsIG5vdCB0cmlnZ2VyIGV2ZW50cyBhbmQgbWVzc2VzIHVwIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5wdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogdHJpZ2dlcnMgdGhlIHBsYWNlaG9sZGVyIHRvIGRpc2FwcGVhciB3aGVuIHRoZSBpbnB1dCBmaWVsZCBpcyBmb2N1c2VkLCByZWFwcGVhcnMgd2hlbiB0aGUgdXNlciBoYXMgdGFiYmVkIGF3YXkgb3IgZm9jdXMgaXMgbW92ZWRcbiAgICAgICAgICovXG4gICAgICAgIGhpZGVQbGFjZWhvbGRlck9uRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwcm9wcyB0byBiZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgaW5wdXQgbm9kZSwgYC5iLXRleHR1YWwtaW5wdXRgOyB0aGlzIGluY2x1ZGVzIHRoZSBzdGFuZGFyZCBzZXQgb2YgUmVhY3QgaW5wdXQgcHJvcHMgbGlrZSBgZGVmYXVsdFZhbHVlYCwgYHZhbHVlYCwgYG5hbWVgLCBgcGxhY2Vob2xkZXJgLCBgYXV0b0ZvY3VzYCwgZXRjLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5wdXRQcm9wczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgICAgICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgdHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICB9KSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBoaWRlUGxhY2Vob2xkZXJPbkZvY3VzOiB0cnVlLFxuICAgICAgICBpbnB1dFByb3BzOiB7XG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIH0sXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKElucHV0LmRlZmF1bHRQcm9wcylcblxuICAgIHN0YXRlID0ge1xuICAgICAgICBpbnB1dDogJycsXG4gICAgICAgIGlzQ29udHJvbGxlZDogaXNTdHJpbmcodGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlKSxcbiAgICAgICAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzQ29udHJvbGxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0SW5wdXRWYWx1ZSh0aGlzLnByb3BzLmlucHV0UHJvcHMudmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKHRoaXMucHJvcHMuaW5wdXRQcm9wcy5kZWZhdWx0VmFsdWUpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIGlmIChuZXh0UHJvcHMuaW5wdXRQcm9wcy52YWx1ZSAhPT0gdGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldElucHV0VmFsdWUobmV4dFByb3BzLmlucHV0UHJvcHMudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0SW5wdXRWYWx1ZSA9ICh2YWx1ZSA9ICcnKSA9PiB0aGlzLnNldFN0YXRlKHtpbnB1dDogdmFsdWV9KVxuXG4gICAgZ2V0VmFsdWUgPSAoKSA9PiB0aGlzLnJlZnMuZmllbGQudmFsdWVcblxuICAgIHNldFZhbHVlKG5leHRWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldElucHV0VmFsdWUobmV4dFZhbHVlKTtcbiAgICAgICAgdGhpcy5yZWZzLmZpZWxkLnZhbHVlID0gbmV4dFZhbHVlO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmlzQ29udHJvbGxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gc2ltdWxhdGUgaW5wdXQgY2hhbmdlIGV2ZW50IGZsb3dcbiAgICAgICAgICAgIHRoaXMucmVmcy5maWVsZC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnLCB7YnViYmxlczogdHJ1ZX0pKTtcbiAgICAgICAgICAgIHRoaXMucmVmcy5maWVsZC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywge2J1YmJsZXM6IHRydWV9KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVCbHVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzRm9jdXNlZDogZmFsc2V9KTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25CbHVyKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uQmx1cihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVGb2N1cyA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0ZvY3VzZWQ6IHRydWV9KTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25Gb2N1cykgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkZvY3VzKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICAvLyBmb3IgXCJjb250cm9sbGVkXCIgc2NlbmFyaW9zLCB1cGRhdGVzIHRvIHRoZSBjYWNoZWQgaW5wdXQgdGV4dCBzaG91bGQgY29tZVxuICAgICAgICAvLyBleGNsdXNpdmVseSB2aWEgcHJvcHMgKGNXUlApIHNvIGl0IGV4YWN0bHkgbWlycm9ycyB0aGUgY3VycmVudCBhcHBsaWNhdGlvblxuICAgICAgICAvLyBzdGF0ZSwgb3RoZXJ3aXNlIGEgcmUtcmVuZGVyIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBuZXcgdGV4dCBoYXMgY29tcGxldGVkIGl0c1xuICAgICAgICAvLyBmZWVkYmFjayBsb29wIGFuZCB0aGUgY3Vyc29yIHBvc2l0aW9uIGlzIGxvc3RcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXNDb250cm9sbGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRJbnB1dFZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25DaGFuZ2UpID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmlucHV0UHJvcHMub25DaGFuZ2UoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGxhY2Vob2xkZXJUZXh0KCkge1xuICAgICAgICBjb25zdCBpc05vbkVtcHR5ID0gdGhpcy5zdGF0ZS5pbnB1dCAhPT0gJyc7XG4gICAgICAgIGNvbnN0IHNob3VsZFNob3dQbGFjZWhvbGRlciA9ICAgdGhpcy5wcm9wcy5oaWRlUGxhY2Vob2xkZXJPbkZvY3VzID09PSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnN0YXRlLmlzRm9jdXNlZCA9PT0gZmFsc2UgJiYgaXNOb25FbXB0eSA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzTm9uRW1wdHkgPT09IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBzaG91bGRTaG93UGxhY2Vob2xkZXIgPyB0aGlzLnByb3BzLmlucHV0UHJvcHMucGxhY2Vob2xkZXIgOiAnJztcbiAgICB9XG5cbiAgICByZW5kZXJQbGFjZWhvbGRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgcmVmPSdwbGFjZWhvbGRlcicgY2xhc3NOYW1lPSdiLWlucHV0LXBsYWNlaG9sZGVyIGItaW5wdXQnPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldFBsYWNlaG9sZGVyVGV4dCgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7cHJvcHN9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHByb3BzLCBJbnB1dC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgIHJlZj0nd3JhcHBlcidcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWlucHV0LXdyYXBwZXInLCBwcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmdldFBsYWNlaG9sZGVyVGV4dCgpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJQbGFjZWhvbGRlcigpfVxuXG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wcy5pbnB1dFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2ZpZWxkJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLWlucHV0JywgcHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17bnVsbH1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXt0aGlzLmhhbmRsZUJsdXJ9XG4gICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9e3RoaXMuaGFuZGxlRm9jdXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoYW5nZX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiLyoqXG4gKiBSZXR1cm5zIGFuIGludGVyc2VjdGlvbiBvZiB0aGUgZmlyc3QgYXJndW1lbnQgYWdhaW5zdCB0aGUgc2Vjb25kIGFyZ3VtZW50J3Mga2V5cy5cbiAqIGUuZy4gdXNlZCBpbiBUeXBlYWhlYWQgdG8gaWRlbnRpZnkgd2hpY2ggcHJvcHMgYXJlIG1lYW50IGZvciBJbnB1dFxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqMVxuICogQHBhcmFtICB7T2JqZWN0fSBvYmoyXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBrZXk6IHZhbHVlcyBpbiBvYmoxIG1hdGNoaW5nIHRoZSBrZXlzIHN1cHBsaWVkIGluIG9iajJcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24ob2JqMSwgb2JqMikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmoyKS5yZWR1Y2UoKGNoaWxkUHJvcHMsIGtleSkgPT4ge1xuICAgICAgICBpZiAoa2V5IGluIG9iajEpIHtcbiAgICAgICAgICAgIGNoaWxkUHJvcHNba2V5XSA9IG9iajFba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZFByb3BzO1xuXG4gICAgfSwge30pO1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBEaWFsb2cgZnJvbSAnLi4vYm91bmRsZXNzLWRpYWxvZy9pbmRleCc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4uL2JvdW5kbGVzcy1wb3J0YWwvaW5kZXgnO1xuaW1wb3J0IGV4dHJhY3RDaGlsZFByb3BzIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vYmplY3QtaW50ZXJzZWN0aW9uL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuXG4vKipcbiMgTW9kYWxcbl9fQSBibG9ja2luZywgZm9jdXMtc3RlYWxpbmcgY29udGFpbmVyLl9fXG5cbk1vZGFsIGlzIGFuIGVuaGFuY2VtZW50IHVwb24gW0RpYWxvZ10oaHR0cHM6Ly9naXRodWIuY29tL2JpYmxpb3RlY2gvdWlraXQvYmxvYi9tYXN0ZXIvcGFja2FnZXMvYm91bmRsZXNzLWRpYWxvZy9SRUFETUUubWQpLiBUeXBpY2FsbHksIGEgbWFza2luZyBsYXllciBpcyBwcm92aWRlZCB0byBvYnNjdXJlIHRoZSByZXN0IG9mIHRoZSBwYWdlIGluIHNvbWUgZmFzaGlvbiwgd2hpbGUgYWxzbyBibG9ja2luZyBvdXRzaWRlIGNsaWNrIGFuZCBrZXlzdHJva2UgYWNjZXNzIHVudGlsIHRoZSBtb2RhbCBpcyBkaXNtaXNzZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqIE1vZGFsIHN1cHBvcnRzIGFsbCBbRGlhbG9nIHByb3BzXShodHRwczovL2dpdGh1Yi5jb20vYmlibGlvdGVjaC91aWtpdC9ibG9iL21hc3Rlci9wYWNrYWdlcy9ib3VuZGxlc3MtZGlhbG9nL1JFQURNRS5tZCNwcm9wcykgKi9cbiAgICAgICAgLi4uRGlhbG9nLnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItbW9kYWwtbWFza2AgSFRNTCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBtYXNrUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLW1vZGFsYCBIVE1MIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIG1vZGFsUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueS9hbGwgc3VwcG9ydGVkIFtQb3J0YWwgcHJvcHNdKGh0dHBzOi8vZ2l0aHViLmNvbS9iaWJsaW90ZWNoL3Vpa2l0L2Jsb2IvbWFzdGVyL3BhY2thZ2VzL2JvdW5kbGVzcy1wb3J0YWwvUkVBRE1FLm1kI3Byb3BzKVxuICAgICAgICAgKi9cbiAgICAgICAgcG9ydGFsUHJvcHM6IFByb3BUeXBlcy5zaGFwZShQb3J0YWwucHJvcFR5cGVzKSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5EaWFsb2cuZGVmYXVsdFByb3BzLFxuICAgICAgICBjYXB0dXJlRm9jdXM6IHRydWUsXG4gICAgICAgIG1hc2tQcm9wczoge30sXG4gICAgICAgIG1vZGFsUHJvcHM6IHt9LFxuICAgICAgICBwb3J0YWxQcm9wczoge30sXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKE1vZGFsLmRlZmF1bHRQcm9wcylcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3Qge3Byb3BzfSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxQb3J0YWwgey4uLnByb3BzLnBvcnRhbFByb3BzfT5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHsuLi5vbWl0KHByb3BzLCBNb2RhbC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9eyhub2RlKSA9PiAodGhpcy4kbW9kYWwgPSBub2RlKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1tb2RhbC13cmFwcGVyJywgcHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIHsuLi5wcm9wcy5tYXNrUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLW1vZGFsLW1hc2snLCBwcm9wcy5tYXNrUHJvcHMuY2xhc3NOYW1lKX0gLz5cblxuICAgICAgICAgICAgICAgICAgICA8RGlhbG9nXG4gICAgICAgICAgICAgICAgICAgICAgICB7Li4uZXh0cmFjdENoaWxkUHJvcHMocHJvcHMsIERpYWxvZy5kZWZhdWx0UHJvcHMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgey4uLnByb3BzLm1vZGFsUHJvcHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLW1vZGFsJywgcHJvcHMubW9kYWxQcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2c+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1BvcnRhbD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIi8qKlxuICogbG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyA8aHR0cHM6Ly9qcXVlcnkub3JnLz5cbiAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS44LjMgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbiAqL1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9JTlRFR0VSID0gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgsXG4gICAgTkFOID0gMCAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gaW50ZWdlciwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzSW50ZWdlcigzKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzSW50ZWdlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzSW50ZWdlcignMycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPT0gdG9JbnRlZ2VyKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBmaW5pdGUgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMi4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9GaW5pdGUoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9GaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvRmluaXRlKEluZmluaXR5KTtcbiAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gKlxuICogXy50b0Zpbml0ZSgnMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9GaW5pdGUodmFsdWUpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogMDtcbiAgfVxuICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgaWYgKHZhbHVlID09PSBJTkZJTklUWSB8fCB2YWx1ZSA9PT0gLUlORklOSVRZKSB7XG4gICAgdmFyIHNpZ24gPSAodmFsdWUgPCAwID8gLTEgOiAxKTtcbiAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgPyB2YWx1ZSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvSW50ZWdlcmBdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2ludGVnZXIpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9JbnRlZ2VyKDMuMik7XG4gKiAvLyA9PiAzXG4gKlxuICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiAwXG4gKlxuICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICogLy8gPT4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDhcbiAqXG4gKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gKiAvLyA9PiAzXG4gKi9cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdG9GaW5pdGUodmFsdWUpLFxuICAgICAgcmVtYWluZGVyID0gcmVzdWx0ICUgMTtcblxuICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIG51bWJlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG51bWJlci5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b051bWJlcigzLjIpO1xuICogLy8gPT4gMy4yXG4gKlxuICogXy50b051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IDVlLTMyNFxuICpcbiAqIF8udG9OdW1iZXIoSW5maW5pdHkpO1xuICogLy8gPT4gSW5maW5pdHlcbiAqXG4gKiBfLnRvTnVtYmVyKCczLjInKTtcbiAqIC8vID0+IDMuMlxuICovXG5mdW5jdGlvbiB0b051bWJlcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gTkFOO1xuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSAnZnVuY3Rpb24nID8gdmFsdWUudmFsdWVPZigpIDogdmFsdWU7XG4gICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyAob3RoZXIgKyAnJykgOiBvdGhlcjtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gdmFsdWUgOiArdmFsdWU7XG4gIH1cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKHJlVHJpbSwgJycpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0ludGVnZXI7XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtmaW5kRE9NTm9kZX0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IEJ1dHRvbiBmcm9tICcuLi9ib3VuZGxlc3MtYnV0dG9uL2luZGV4JztcbmltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1pcy1mdW5jdGlvbi9pbmRleCc7XG5pbXBvcnQgbm9vcCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtbm9vcC9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIFNlZ21lbnRlZENvbnRyb2xcbl9fQSBjb250cm9sIGNvbnRhaW5pbmcgbXVsdGlwbGUgYnV0dG9ucywgb25seSBvbmUgb2Ygd2hpY2ggY2FuIGJlIGFjdGl2ZSBhdCBhIHRpbWUuX19cblxuU2VnbWVudGVkQ29udHJvbCBpcyBpbXBsZW1lbnRlZCBhcyBhIFwiY29udHJvbGxlZCBjb21wb25lbnRcIiwgbWVhbmluZyBpdCBpcyBhIGRpcmVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgZGF0YSBwYXNzZWQgaW5zaWRlLiBVc2VyIGludGVyYWN0aW9uIHdpbGwgYnViYmxlIGNoYW5nZXMgaW4gdGhlIGZvcm0gb2YgYG9uT3B0aW9uU2VsZWN0ZWRgIHRoYXQgYSBjb250cm9sbGVyIHZpZXcgbXVzdCBpbnRlcmNlcHQgYW5kIGFwcGx5IGFnYWluc3QgdGhlIGRhdGEgcHJvdmlkZXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlZ21lbnRlZENvbnRyb2wgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHdoZW4gYSBjaGlsZCBlbGVtZW50IGJlY29tZXMgc2VsZWN0ZWQ7IGJhY2tpbmcgZGF0YSBtdXN0IGJlIHVwZGF0ZWQgdG8gcGVyc2lzdCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAqL1xuICAgICAgICBvbk9wdGlvblNlbGVjdGVkOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGJhY2tpbmcgZGF0YSBmb3IgdGhlIHNlZ21lbnRzIG9mIHRoZSByZW5kZXJlZCBjb250cm9sXG5cbiAgICAgICAgICogPiBfX1ZhbGlkYXRpb24gQ3JpdGVyaWE6X19cbiAgICAgICAgICogPlxuICAgICAgICAgKiA+IDEuIFRoZXJlIG11c3QgYmUgYXQgbGVhc3QgdHdvIGBvcHRpb25zYCAoYSBzZWdtZW50ZWQgY29udHJvbCB3aXRoIG9uZSBidXR0b24gaXMgbm90IGFsbG93ZWQpXG4gICAgICAgICAqID4gMS4gVGhlcmUgbXVzdCBvbmx5IGJlIG9uZSBgb3B0aW9uYCB3aG9zZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSBpcyBgdHJ1ZWAgKG11bHRpcGxlIHNlbGVjdGlvbnMgYXJlIG5vdCBhbGxvd2VkKVxuICAgICAgICAgKiA+IDEuIEVhY2ggYHZhbHVlYCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmlxdWUgYWNyb3NzIHRoZSBzZXQgb2YgYG9wdGlvbnNgXG5cbiAgICAgICAgICogLSBfX29wdGlvbnNbXS5zZWxlY3RlZF9fIGBCb29sZWFuYFxuICAgICAgICAgKiAtIF9fb3B0aW9uc1tdLnZhbHVlX18gYFN0cmluZ2BcbiAgICAgICAgICogLSBfX29wdGlvbnNbXS5jb250ZW50X18gYCpgXG4gICAgICAgICAgICogdGhlIGNvbnRlbnQgdG8gZ28gaW5zaWRlIHRoZSBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIG9wdGlvbnM6IGZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9ucyhwcm9wcykge1xuICAgICAgICAgICAgaWYgKHByb3BzLm9wdGlvbnMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBwcm92aWRlIGF0IGxlYXN0IHR3byBvcHRpb25zLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBtaXNzaW5nU2VsZWN0ZWQgPSBwcm9wcy5vcHRpb25zLnNvbWUoKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghKCdzZWxlY3RlZCcgaW4gb3B0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKG1pc3NpbmdTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBwcm92aWRlIGEgYHNlbGVjdGVkYCBwcm9wIGZvciBlYWNoIG9wdGlvbi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHNlZW5TZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbXVsdGlwbGVTZWxlY3RlZCA9IHByb3BzLm9wdGlvbnMuc29tZSgob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VlblNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHNlZW5TZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChtdWx0aXBsZVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmNvdW50ZXJlZCBtdWx0aXBsZSBvcHRpb25zIHdpdGggYHNlbGVjdGVkOiB0cnVlYC4gVGhlcmUgY2FuIGJlIG9ubHkgb25lLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJvcHMub3B0aW9ucy5zb21lKChvcHRpb24pID0+IHR5cGVvZiBvcHRpb24udmFsdWUgPT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBwcm92aWRlIGEgYHZhbHVlYCBwcm9wIGZvciBlYWNoIG9wdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBvbk9wdGlvblNlbGVjdGVkOiBub29wLFxuICAgICAgICBvcHRpb25zOiBbXSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoU2VnbWVudGVkQ29udHJvbC5kZWZhdWx0UHJvcHMpXG4gICAgc3RhdGljIGludGVybmFsQ2hpbGRLZXlzID0gW1xuICAgICAgICAnY29udGVudCcsXG4gICAgICAgICd2YWx1ZScsXG4gICAgICAgICdzZWxlY3RlZCcsXG4gICAgXVxuXG4gICAgc3RhdGUgPSB7XG4gICAgICAgIGluZGV4T2ZPcHRpb25JbkZvY3VzOiBudWxsLFxuICAgIH1cblxuICAgIGN1cnJlbnRWYWx1ZSgpIHtcbiAgICAgICAgbGV0IHZhbHVlO1xuXG4gICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5zb21lKChvcHRpb24pID0+IHtcbiAgICAgICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG9wdGlvbi52YWx1ZTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0Rm9jdXMoaW5kZXgpIHtcbiAgICAgICAgZmluZERPTU5vZGUodGhpcy5yZWZzWydvcHRpb25fJCcgKyBpbmRleF0pLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgZ2V0TmV4dE9wdGlvbkluZGV4KGN1cnJlbnRPcHRpb25JbmRleCkge1xuICAgICAgICBsZXQgbmV4dCA9IGN1cnJlbnRPcHRpb25JbmRleCArIDE7XG5cbiAgICAgICAgcmV0dXJuIG5leHQgPCB0aGlzLnByb3BzLm9wdGlvbnMubGVuZ3RoID8gbmV4dCA6IDA7XG4gICAgfVxuXG4gICAgZ2V0UHJldmlvdXNPcHRpb25JbmRleChjdXJyZW50T3B0aW9uSW5kZXgpIHtcbiAgICAgICAgbGV0IHByZXZpb3VzID0gY3VycmVudE9wdGlvbkluZGV4IC0gMTtcblxuICAgICAgICByZXR1cm4gcHJldmlvdXMgPCAwID8gdGhpcy5wcm9wcy5vcHRpb25zLmxlbmd0aCAtIDEgOiBwcmV2aW91cztcbiAgICB9XG5cbiAgICBoYW5kbGVPcHRpb25CbHVyKG9wdGlvbiwgZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaW5kZXhPZk9wdGlvbkluRm9jdXMgPT09IHRoaXMucHJvcHMub3B0aW9ucy5pbmRleE9mKG9wdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2luZGV4T2ZPcHRpb25JbkZvY3VzOiBudWxsfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb24ub25CbHVyKSkge1xuICAgICAgICAgICAgb3B0aW9uLm9uQmx1cihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVPcHRpb25DbGljayhvcHRpb24sIGV2ZW50KSB7XG4gICAgICAgIHRoaXMucHJvcHMub25PcHRpb25TZWxlY3RlZChvcHRpb24udmFsdWUpO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbi5vbkNsaWNrKSkge1xuICAgICAgICAgICAgb3B0aW9uLm9uQ2xpY2soZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlT3B0aW9uRm9jdXMob3B0aW9uLCBldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtpbmRleE9mT3B0aW9uSW5Gb2N1czogdGhpcy5wcm9wcy5vcHRpb25zLmluZGV4T2Yob3B0aW9uKX0pO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbi5vbkZvY3VzKSkge1xuICAgICAgICAgICAgb3B0aW9uLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBldmVudC5rZXk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUl0ZW1JbmRleCA9IHRoaXMuc3RhdGUuaW5kZXhPZk9wdGlvbkluRm9jdXM7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXModGhpcy5nZXRQcmV2aW91c09wdGlvbkluZGV4KGFjdGl2ZUl0ZW1JbmRleCkpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICAgICAgdGhpcy5zZXRGb2N1cyh0aGlzLmdldE5leHRPcHRpb25JbmRleChhY3RpdmVJdGVtSW5kZXgpKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZU9wdGlvbkNsaWNrKHRoaXMucHJvcHMub3B0aW9uc1thY3RpdmVJdGVtSW5kZXhdKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLm9uS2V5RG93bikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlck9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMubWFwKChkZWZpbml0aW9uLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHsuLi5vbWl0KGRlZmluaXRpb24sIFNlZ21lbnRlZENvbnRyb2wuaW50ZXJuYWxDaGlsZEtleXMpfVxuICAgICAgICAgICAgICAgICAgICByb2xlPSdyYWRpbydcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1jaGVja2VkPXtTdHJpbmcoZGVmaW5pdGlvbi5zZWxlY3RlZCl9XG4gICAgICAgICAgICAgICAgICAgIHJlZj17J29wdGlvbl8kJyArIGluZGV4fVxuICAgICAgICAgICAgICAgICAgICBrZXk9e2RlZmluaXRpb24udmFsdWV9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2Itc2VnbWVudGVkLWNvbnRyb2wtb3B0aW9uJywgZGVmaW5pdGlvbi5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdiLXNlZ21lbnRlZC1jb250cm9sLW9wdGlvbi1zZWxlY3RlZCc6IGRlZmluaXRpb24uc2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleD17ZGVmaW5pdGlvbi5zZWxlY3RlZCA/ICcwJyA6ICctMSd9XG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cj17dGhpcy5oYW5kbGVPcHRpb25CbHVyLmJpbmQodGhpcywgZGVmaW5pdGlvbil9XG4gICAgICAgICAgICAgICAgICAgIG9uUHJlc3NlZD17dGhpcy5oYW5kbGVPcHRpb25DbGljay5iaW5kKHRoaXMsIGRlZmluaXRpb24pfVxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzPXt0aGlzLmhhbmRsZU9wdGlvbkZvY3VzLmJpbmQodGhpcywgZGVmaW5pdGlvbil9PlxuICAgICAgICAgICAgICAgICAgICB7ZGVmaW5pdGlvbi5jb250ZW50fVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIFNlZ21lbnRlZENvbnRyb2wuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgcm9sZT0ncmFkaW9ncm91cCdcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXNlZ21lbnRlZC1jb250cm9sJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXlEb3dufT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJPcHRpb25zKCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7ZmluZERPTU5vZGV9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgaXNJbnRlZ2VyIGZyb20gJ2xvZGFzaC5pc2ludGVnZXInO1xuXG5pbXBvcnQgQXN5bmMgZnJvbSAnLi4vYm91bmRsZXNzLWFzeW5jL2luZGV4JztcbmltcG9ydCBTZWdtZW50ZWRDb250cm9sIGZyb20gJy4uL2JvdW5kbGVzcy1zZWdtZW50ZWQtY29udHJvbC9pbmRleCc7XG5pbXBvcnQgQXJyb3dLZXlOYXZpZ2F0aW9uIGZyb20gJy4uL2JvdW5kbGVzcy1hcnJvdy1rZXktbmF2aWdhdGlvbi9pbmRleCc7XG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5pbXBvcnQgdXVpZCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtdXVpZC9pbmRleCc7XG5cbmNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuIyBQYWdpbmF0aW9uXG5fX1ZpZXcgYW5kIG5hdmlnYXRlIGhldGVyb2dlbmlvdXMgY29udGVudCBvbmUgcGFnZSBhdCBhIHRpbWUuX19cblxuUGFnaW5hdGlvbiBpcyBpbXBsZW1lbnRlZCBhcyBhbiBlbmNhcHN1bGF0ZWQgdmlldyBzeXN0ZW0sIGFjY2VwdGluZyBhbiBhcnJheSBvZiBpdGVtcyBhcyBpbnB1dC5cblxuIyMgQ29tcG9uZW50IEluc3RhbmNlIE1ldGhvZHNcblxuV2hlbiB1c2luZyBgUGFnaW5hdGlvbmAgaW4geW91ciBwcm9qZWN0LCB5b3UgbWF5IGNhbGwgdGhlIGZvbGxvd2luZyBtZXRob2RzIG9uIGEgcmVuZGVyZWQgaW5zdGFuY2Ugb2YgdGhlIGNvbXBvbmVudC4gVXNlIFtgcmVmc2BdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvcmVmcy1hbmQtdGhlLWRvbS5odG1sKSB0byBnZXQgdGhlIGluc3RhbmNlLlxuXG4tIF9fYGN1cnJlbnRQYWdlKClgX19cbiAgcmV0dXJucyB0aGUgX19fb25lX19fLWluZGV4ZWQgcGFnZSBudW1iZXIgY3VycmVudGx5IGluIHZpZXdcblxuLSBfX2BwYWdlVG9JbmRleChpbmRleDogbnVtYmVyKWBfX1xuICByZW5kZXJzIHRoZSBwYWdlIHRoYXQgY29udGFpbnMgdGhlIF9fX3plcm9fX18taW5kZXhlZCBpdGVtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2luYXRpb24gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgY29udHJvbHMgPSB7XG4gICAgICAgIEZJUlNUOiAnRklSU1QnLFxuICAgICAgICBQUkVWSU9VUzogJ1BSRVZJT1VTJyxcbiAgICAgICAgTkVYVDogJ05FWFQnLFxuICAgICAgICBMQVNUOiAnTEFTVCcsXG4gICAgfVxuXG4gICAgc3RhdGljIHBvc2l0aW9ucyA9IHtcbiAgICAgICAgQUJPVkU6ICdBQk9WRScsXG4gICAgICAgIEJFTE9XOiAnQkVMT1cnLFxuICAgICAgICBCT1RIOiAnQk9USCcsXG4gICAgfVxuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFyYml0cmFyeSBjb250ZW50IHRvIGJlIHJlbmRlcmVkIGFmdGVyIHRoZSBpdGVtcyBpbiB0aGUgRE9NXG4gICAgICAgICAqL1xuICAgICAgICBhZnRlcjogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFyYml0cmFyeSBjb250ZW50IHRvIGJlIHJlbmRlcmVkIGJlZm9yZSB0aGUgaXRlbXMgaW4gdGhlIERPTVxuICAgICAgICAgKi9cbiAgICAgICAgYmVmb3JlOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYWxsb3dzIGZvciBhcmJpdHJhcnkgY29udGVudCB0byBiZSByZW5kZXJlZCBpbnRvIHRoZSBjb250cm9sIGFyZWFcbiAgICAgICAgICovXG4gICAgICAgIGN1c3RvbUNvbnRyb2xDb250ZW50OiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHdpdGggYSBkZXNpcmVkIGl0ZW0gaW5kZXggd2hlbiB0aGF0IGl0ZW0gY29tZXMgaW50byB2aWV3OyBhY2NlcHRzIGEgYFByb21pc2VgIGlmIHlvdSBuZWVkIHRvIGZldGNoIHRoZSByb3cgYXN5bmNocm9ub3VzbHlcbiAgICAgICAgICovXG4gICAgICAgIGdldEl0ZW06IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkb2VzIG5vdCByZW5kZXIgdGhlIHBhZ2luZyBjb250cm9scyBpZiB0aGUgbnVtYmVyIG9mIGl0ZW1zIHN1cHBsaWVkIHRvIHRoZSB2aWV3IGlzIGxlc3MtdGhhbi1vci1lcXVhbC10byB0aGUgbnVtYmVyIG9mIGl0ZW1zIHRvIHNob3cgcGVyIHBhZ2UgdmlhIGBwcm9wcy5udW1JdGVtc1BlclBhZ2VgXG4gICAgICAgICAqL1xuICAgICAgICBoaWRlUGFnZXJJZk5vdE5lZWRlZDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgdW5pcXVlIG5hbWUgZm9yIHRoZSBkYXRhc2V0IGJlaW5nIGNvbnN1bWVkOyBwYXNzIGEgZGlmZmVyZW50IG5hbWUgdG8gY2F1c2UgdGhlIHZpZXcgdG8gZnVsbHkgcmVzZXQgYW5kIHB1bGwgYnJhbmQgbmV3IGRhdGFcbiAgICAgICAgICovXG4gICAgICAgIGlkZW50aWZpZXI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIChfb25lLWluZGV4ZWRfKSBudW1iZXIgb2YgdGhlIHBhZ2UgdGhhdCBzaG91bGQgYmUgaW5pdGlhbGx5IGRpc3BsYXllZDsgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB0b3RhbCBudW1iZXIgb2YgcGFnZXNcbiAgICAgICAgICovXG4gICAgICAgIGluaXRpYWxQYWdlOiBmdW5jdGlvbiB2YWxpZGF0ZUluaXRpYWxQYWdlKHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoaXNJbnRlZ2VyKHByb3BzLmluaXRpYWxQYWdlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdgaW5pdGlhbFBhZ2VgIG11c3QgYmUgYW4gaW50ZWdlci4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZQYWdlcyA9IE1hdGguY2VpbChwcm9wcy50b3RhbEl0ZW1zIC8gcHJvcHMubnVtSXRlbXNQZXJQYWdlKTtcblxuICAgICAgICAgICAgaWYgKHByb3BzLmluaXRpYWxQYWdlIDwgMSB8fCBwcm9wcy5pbml0aWFsUGFnZSA+IG51bWJlck9mUGFnZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdgaW5pdGlhbFBhZ2VgIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAnICsgbnVtYmVyT2ZQYWdlcyArICcuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFsbG93cyBmb3IgYXJiaXRyYXJ5IGNvbnRlbnQgdG8gYmUgcmVuZGVyZWQgaW50byBwYWdpbmF0aW9uIGl0ZW1zIGFzIHRoZXkncmUgbG9hZGluZyBpZiB0aGUgYmFja2luZyBkYXRhIGlzIGEgYFByb21pc2VgXG4gICAgICAgICAqL1xuICAgICAgICBpdGVtTG9hZGluZ0NvbnRlbnQ6IFByb3BUeXBlcy5ub2RlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbiBvcHRpb25hbCBmdW5jdGlvbiB0byBzcGVjaWZ5IGhvdyBhbiBpdGVtIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gSlNYLCBpZiBpdCBpcyBub3QgYWxyZWFkeSByZW5kZXJhYmxlIGJ5IFJlYWN0XG4gICAgICAgICAqL1xuICAgICAgICBpdGVtVG9KU1hDb252ZXJ0ZXJGdW5jOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY29udGVudCB0byBiZSBkaXNwbGF5ZWQgaW5zaWRlIG9mIHRoZSBcIkZpcnN0IHBhZ2VcIiBjb250cm9sIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAganVtcFRvRmlyc3RDb250cm9sQ29udGVudDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnRlbnQgdG8gYmUgZGlzcGxheWVkIGluc2lkZSBvZiB0aGUgXCJMYXN0IHBhZ2VcIiBjb250cm9sIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAganVtcFRvTGFzdENvbnRyb2xDb250ZW50OiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItcGFnaW5hdGlvbi1pdGVtLWxpc3RgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGxpc3RXcmFwcGVyUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnRlbnQgdG8gYmUgZGlzcGxheWVkIGluc2lkZSBvZiB0aGUgXCJOZXh0IHBhZ2VcIiBjb250cm9sIGJ1dHRvblxuICAgICAgICAgKi9cbiAgICAgICAgbmV4dFBhZ2VDb250cm9sQ29udGVudDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0byBiZSBkaXNwbGF5ZWQgb24gZWFjaCBwYWdlOyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgICAgICAqL1xuICAgICAgICBudW1JdGVtc1BlclBhZ2U6IGZ1bmN0aW9uIHZhbGlkYXRlTnVtSXRlbXNQZXJQYWdlKHByb3BzKSB7XG4gICAgICAgICAgICBpZiAoaXNJbnRlZ2VyKHByb3BzLm51bUl0ZW1zUGVyUGFnZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignYG51bUl0ZW1zUGVyUGFnZWAgbXVzdCBiZSBhbiBpbnRlZ2VyLicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wcy5udW1JdGVtc1BlclBhZ2UgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignYG51bUl0ZW1zUGVyUGFnZWAgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyby4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIG1heGltdW0gbnVtYmVyIG9mIHBhZ2VzIHRvIGJlIGRpc3BsYXllZCBpbiB0aGUgY29udHJvbCBiYXIgYXQgb25lIHRpbWVcbiAgICAgICAgICovXG4gICAgICAgIG51bVBhZ2VUb2dnbGVzOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBhZ2luYXRpb24gY29udHJvbHMgYXJlIGRpc3BsYXllZCBhYm92ZSwgYmVsb3csIG9yIGJvdGggYWJvdmUgYW5kIGJlbG93IHRoZSBjb250ZW50XG4gICAgICAgICAqL1xuICAgICAgICBwb3NpdGlvbjogUHJvcFR5cGVzLm9uZU9mKE9iamVjdC5rZXlzKFBhZ2luYXRpb24ucG9zaXRpb25zKSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnRlbnQgdG8gYmUgZGlzcGxheWVkIGluc2lkZSBvZiB0aGUgXCJQcmV2aW91cyBwYWdlXCIgY29udHJvbCBidXR0b25cbiAgICAgICAgICovXG4gICAgICAgIHByZXZpb3VzUGFnZUNvbnRyb2xDb250ZW50OiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogd2hldGhlciB0aGUgXCJGaXJzdCBwYWdlXCIgY29udHJvbCBidXR0b24gc2hvdWxkIGJlIGRpc3BsYXllZFxuICAgICAgICAgKi9cbiAgICAgICAgc2hvd0p1bXBUb0ZpcnN0OiBQcm9wVHlwZXMuYm9vbCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogd2hldGhlciB0aGUgXCJMYXN0IHBhZ2VcIiBjb250cm9sIGJ1dHRvbiBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAgICAgICAqL1xuICAgICAgICBzaG93SnVtcFRvTGFzdDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlbmRlcnMgYW4gZWxlbWVudCBjYWxsZWQgYC5iLXBhZ2luYXRpb24tY29udHJvbC1zdGF0ZWAgdGhhdCBjb250YWlucyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgcGFnaW5hdGlvbiBsaWtlIFwiMSBvZiAxMFwiOyBhbHRlcm5hdGl2ZWx5LCB0aGlzIHByb3AgYWxzbyBhY2NlcHRzIGEgZnVuY3Rpb24gdGhhdCBpdCB3aWxsIGNhbGwgd2l0aCB0aGUgY3VycmVudFBhZ2UgYW5kIHRvdGFsUGFnZXMgZm9yIHlvdSB0byBmb3JtYXQ6XG5cbiAgICAgICAgICogYGBganN4XG4gICAgICAgICAqIHNob3dQYWdpbmF0ZWRTdGF0ZT17XG4gICAgICAgICAqICAgICAoY3VycmVudFBhZ2UsIHRvdGFsUGFnZXMpID0+IChcbiAgICAgICAgICogICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZm9vJz5cbiAgICAgICAgICogICAgICAgICAgICAgWW91J3JlIG9uIHBhZ2Uge2N1cnJlbnRQYWdlfSBvZiB7dG90YWxQYWdlc30gcGFnZXMhXG4gICAgICAgICAqICAgICAgICAgPC9kaXY+XG4gICAgICAgICAqICAgICApXG4gICAgICAgICAqIH1cbiAgICAgICAgICogYGBgXG4gICAgICAgICAqL1xuICAgICAgICBzaG93UGFnaW5hdGlvblN0YXRlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5ib29sLFxuICAgICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIFNlZ21lbnRlZENvbnRyb2wgbm9kZShzKSwgYC5iLXBhZ2luYXRpb24tY29udHJvbHNgXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGVXcmFwcGVyUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgdG8gYmUgZGlzcGxheWVkIGluIHRoZSB2aWV3XG4gICAgICAgICAqL1xuICAgICAgICB0b3RhbEl0ZW1zOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgYWZ0ZXI6IG51bGwsXG4gICAgICAgIGJlZm9yZTogbnVsbCxcbiAgICAgICAgY3VzdG9tQ29udHJvbENvbnRlbnQ6IG51bGwsXG4gICAgICAgIGdldEl0ZW06IG5vb3AsXG4gICAgICAgIGhpZGVQYWdlcklmTm90TmVlZGVkOiBmYWxzZSxcbiAgICAgICAgaWRlbnRpZmllcjogdXVpZCgpLFxuICAgICAgICBpbml0aWFsUGFnZTogMSxcbiAgICAgICAgaXRlbUxvYWRpbmdDb250ZW50OiBudWxsLFxuICAgICAgICBpdGVtVG9KU1hDb252ZXJ0ZXJGdW5jOiBpZGVudGl0eSxcbiAgICAgICAganVtcFRvRmlyc3RDb250cm9sQ29udGVudDogJ8KrIEZpcnN0JyxcbiAgICAgICAganVtcFRvTGFzdENvbnRyb2xDb250ZW50OiAnTGFzdCDCuycsXG4gICAgICAgIGxpc3RXcmFwcGVyUHJvcHM6IHt9LFxuICAgICAgICBuZXh0UGFnZUNvbnRyb2xDb250ZW50OiAnTmV4dCDigLonLFxuICAgICAgICBudW1JdGVtc1BlclBhZ2U6IDEwLFxuICAgICAgICBudW1QYWdlVG9nZ2xlczogNSxcbiAgICAgICAgcG9zaXRpb246IFBhZ2luYXRpb24ucG9zaXRpb25zLkFCT1ZFLFxuICAgICAgICBwcmV2aW91c1BhZ2VDb250cm9sQ29udGVudDogJ+KAuSBQcmV2aW91cycsXG4gICAgICAgIHNob3dKdW1wVG9GaXJzdDogdHJ1ZSxcbiAgICAgICAgc2hvd0p1bXBUb0xhc3Q6IHRydWUsXG4gICAgICAgIHNob3dQYWdpbmF0aW9uU3RhdGU6IHRydWUsXG4gICAgICAgIHRvZ2dsZVdyYXBwZXJQcm9wczoge30sXG4gICAgICAgIHRvdGFsSXRlbXM6IG51bGwsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKFBhZ2luYXRpb24uZGVmYXVsdFByb3BzKVxuXG4gICAgc3RhdGUgPSB7XG4gICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLnByb3BzLmluaXRpYWxQYWdlLFxuICAgICAgICB0YXJnZXRJbmRleDogKHRoaXMucHJvcHMuaW5pdGlhbFBhZ2UgLSAxKSAqIHRoaXMucHJvcHMubnVtSXRlbXNQZXJQYWdlLFxuICAgIH1cblxuICAgIGN1cnJlbnRQYWdlID0gKCkgPT4gdGhpcy5zdGF0ZS5jdXJyZW50UGFnZVxuICAgIGdldFBhZ2VGb3JJbmRleCA9IChpbmRleCwgaXRlbXNQZXJQYWdlID0gdGhpcy5wcm9wcy5udW1JdGVtc1BlclBhZ2UpID0+IE1hdGguY2VpbCgoaW5kZXggKyAxKSAvIGl0ZW1zUGVyUGFnZSlcbiAgICB0b3RhbFBhZ2VzID0gKCkgPT4gTWF0aC5jZWlsKHRoaXMucHJvcHMudG90YWxJdGVtcyAvIHRoaXMucHJvcHMubnVtSXRlbXNQZXJQYWdlKVxuXG4gICAgZmlyc3RWaXNpYmxlSXRlbUluZGV4ID0gKCkgPT4gKHRoaXMuY3VycmVudFBhZ2UoKSAtIDEpICogdGhpcy5wcm9wcy5udW1JdGVtc1BlclBhZ2VcblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAocHJldlN0YXRlLmN1cnJlbnRQYWdlICE9PSB0aGlzLmN1cnJlbnRQYWdlKCkpIHtcbiAgICAgICAgICAgIGZpbmRET01Ob2RlKHRoaXMucmVmcy5pdGVtXzApLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCkge1xuICAgICAgICBjb25zdCBvbGRQcm9wcyA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgLy8gdXNlIHRyYW5zYWN0aW9uYWwgYHNldFN0YXRlKClgIHN5bnRheCB0byBlbnN1cmUgdGhhdCBwZW5kaW5nIHN0YXRlIHVwZGF0ZXMgYXJlIGhvbm9yZWQsXG4gICAgICAgIC8vIGxpa2UgdGhvc2UgZnJvbSBgcGFnZVRvSW5kZXgoKWBcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgoc3RhdGUsIHByb3BzKSA9PiB7XG4gICAgICAgICAgICAvLyBOT1RFOiBgcHJvcHNgIGhlcmUgaXMgdGVjaG5pY2FsbHkgdGhlIGBuZXh0UHJvcHNgIHlvdSdkIHJlY2VpdmUgZnJvbSB0aGUgZmlyc3QgY1dSUCBhcmd1bWVudFxuICAgICAgICAgICAgLy8gc28gdGhhdCdzIHdoeSB3ZSdyZSBjYWNoaW5nIGBvbGRQcm9wc2Agb3V0c2lkZSB0aGUgYHNldFN0YXRlYFxuICAgICAgICAgICAgaWYgKHByb3BzLmlkZW50aWZpZXIgIT09IG9sZFByb3BzLmlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0SW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5nZXRQYWdlRm9ySW5kZXgoc3RhdGUudGFyZ2V0SW5kZXgsIHByb3BzLm51bUl0ZW1zUGVyUGFnZSksXG4gICAgICAgICAgICAgICAgdGFyZ2V0SW5kZXg6IHN0YXRlLnRhcmdldEluZGV4LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcGFnZVRvSW5kZXggPSAoaSkgPT4ge1xuICAgICAgICBpZiAoaSA8IDAgfHwgaSA+PSB0aGlzLnByb3BzLnRvdGFsSXRlbXMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoYENhbm5vdCBwYWdlIHRvIGludmFsaWQgaW5kZXggJHtpfS5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY3VycmVudFBhZ2U6IHRoaXMuZ2V0UGFnZUZvckluZGV4KGkpLFxuICAgICAgICAgICAgdGFyZ2V0SW5kZXg6IGksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZVBhZ2VCdXR0b25PcHRpb25zKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gW107XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5jdXJyZW50UGFnZSgpO1xuICAgICAgICBjb25zdCBudW1QYWdlVG9nZ2xlcyA9IHRoaXMucHJvcHMubnVtUGFnZVRvZ2dsZXM7XG4gICAgICAgIGNvbnN0IHRvdGFsUGFnZXMgPSB0aGlzLnRvdGFsUGFnZXMoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRQYWdlID0gY3VycmVudFBhZ2UgLSAoKGN1cnJlbnRQYWdlIC0gMSkgJSBudW1QYWdlVG9nZ2xlcyk7XG4gICAgICAgIGNvbnN0IGVuZFBhZ2UgPSBNYXRoLm1pbihzdGFydFBhZ2UgKyBudW1QYWdlVG9nZ2xlcyAtIDEsIHRvdGFsUGFnZXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNob3dQYWdpbmF0aW9uU3RhdGUpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGlzRnVuY3Rpb24odGhpcy5wcm9wcy5zaG93UGFnaW5hdGlvblN0YXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5zaG93UGFnaW5hdGlvblN0YXRlKGN1cnJlbnRQYWdlLCB0b3RhbFBhZ2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgIDogYCR7Y3VycmVudFBhZ2V9IG9mICR7dG90YWxQYWdlc31gLFxuICAgICAgICAgICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdiLXBhZ2luYXRpb24tY29udHJvbCBiLXBhZ2luYXRpb24tY29udHJvbC1zdGF0ZScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnNob3dKdW1wVG9GaXJzdCkge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5wcm9wcy5qdW1wVG9GaXJzdENvbnRyb2xDb250ZW50LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBQYWdpbmF0aW9uLmNvbnRyb2xzLkZJUlNULFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmN1cnJlbnRQYWdlKCkgPT09IDEsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYi1wYWdpbmF0aW9uLWNvbnRyb2wgYi1wYWdpbmF0aW9uLWNvbnRyb2wtZmlyc3QnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29udGVudDogdGhpcy5wcm9wcy5wcmV2aW91c1BhZ2VDb250cm9sQ29udGVudCxcbiAgICAgICAgICAgIHZhbHVlOiBQYWdpbmF0aW9uLmNvbnRyb2xzLlBSRVZJT1VTLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuY3VycmVudFBhZ2UoKSA9PT0gMSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ItcGFnaW5hdGlvbi1jb250cm9sIGItcGFnaW5hdGlvbi1jb250cm9sLXByZXZpb3VzJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0UGFnZTsgaSA8PSBlbmRQYWdlOyBpKyspIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYi1wYWdpbmF0aW9uLWNvbnRyb2wnLFxuICAgICAgICAgICAgICAgICdkYXRhLXBhZ2UtbnVtYmVyJzogaSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogaSA9PT0gdGhpcy5jdXJyZW50UGFnZSgpLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICBjb250ZW50OiB0aGlzLnByb3BzLm5leHRQYWdlQ29udHJvbENvbnRlbnQsXG4gICAgICAgICAgICB2YWx1ZTogUGFnaW5hdGlvbi5jb250cm9scy5ORVhULFxuICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuY3VycmVudFBhZ2UoKSA9PT0gdG90YWxQYWdlcyxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ItcGFnaW5hdGlvbi1jb250cm9sIGItcGFnaW5hdGlvbi1jb250cm9sLW5leHQnLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93SnVtcFRvTGFzdCkge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5wcm9wcy5qdW1wVG9MYXN0Q29udHJvbENvbnRlbnQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFBhZ2luYXRpb24uY29udHJvbHMuTEFTVCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogdGhpcy5jdXJyZW50UGFnZSgpID09PSB0b3RhbFBhZ2VzLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ItcGFnaW5hdGlvbi1jb250cm9sIGItcGFnaW5hdGlvbi1jb250cm9sLWxhc3QnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jdXN0b21Db250cm9sQ29udGVudCkge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5wcm9wcy5jdXN0b21Db250cm9sQ29udGVudCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdXVpZCgpLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2ItcGFnaW5hdGlvbi1jb250cm9sIGItcGFnaW5hdGlvbi1jb250cm9sLWN1c3RvbScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIGdlbmVyYXRlSXRlbXMoKSB7XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZEl0ZW1zID0gW107XG4gICAgICAgIGNvbnN0IGZpcnN0SXRlbUluZGV4ID0gdGhpcy5maXJzdFZpc2libGVJdGVtSW5kZXgoKTtcbiAgICAgICAgY29uc3QgbGFzdEl0ZW1JbmRleCA9IE1hdGgubWluKHRoaXMucHJvcHMudG90YWxJdGVtcywgZmlyc3RJdGVtSW5kZXggKyB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZSkgLSAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBmaXJzdEl0ZW1JbmRleDsgaSA8PSBsYXN0SXRlbUluZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlZEl0ZW1zLnB1c2goe2RhdGE6IHRoaXMucHJvcHMuZ2V0SXRlbShpKX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEl0ZW1zO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIGxldCBuZXh0VGFyZ2V0SW5kZXg7XG5cbiAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICBjYXNlIFBhZ2luYXRpb24uY29udHJvbHMuRklSU1Q6XG4gICAgICAgICAgICBuZXh0VGFyZ2V0SW5kZXggPSAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUGFnaW5hdGlvbi5jb250cm9scy5QUkVWSU9VUzpcbiAgICAgICAgICAgIG5leHRUYXJnZXRJbmRleCA9IHRoaXMuZmlyc3RWaXNpYmxlSXRlbUluZGV4KCkgLSB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBhZ2luYXRpb24uY29udHJvbHMuTkVYVDpcbiAgICAgICAgICAgIG5leHRUYXJnZXRJbmRleCA9IHRoaXMuZmlyc3RWaXNpYmxlSXRlbUluZGV4KCkgKyB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBhZ2luYXRpb24uY29udHJvbHMuTEFTVDpcbiAgICAgICAgICAgIG5leHRUYXJnZXRJbmRleCA9IHRoaXMucHJvcHMudG90YWxJdGVtcyAtIDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG5leHRUYXJnZXRJbmRleCA9IHBhcnNlSW50KHZhbHVlLCAxMCkgKiB0aGlzLnByb3BzLm51bUl0ZW1zUGVyUGFnZSAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiB0aGlzLmdldFBhZ2VGb3JJbmRleChuZXh0VGFyZ2V0SW5kZXgpLFxuICAgICAgICAgICAgdGFyZ2V0SW5kZXg6IG5leHRUYXJnZXRJbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVySXRlbXMoKSB7XG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcy5saXN0V3JhcHBlclByb3BzO1xuICAgICAgICBjb25zdCBpbmRleE9mZnNldCA9IHRoaXMucHJvcHMubnVtSXRlbXNQZXJQYWdlICogKHRoaXMuY3VycmVudFBhZ2UoKSAtIDEpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8QXJyb3dLZXlOYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICAgIHJlZj0naXRlbUxpc3QnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wYWdpbmF0aW9uLWl0ZW1zJywgcHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAge3RoaXMuZ2VuZXJhdGVJdGVtcygpLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxBc3luY1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17YGl0ZW1fJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wYWdpbmF0aW9uLWl0ZW0nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiLXBhZ2luYXRpb24taXRlbS1ldmVuJzogaW5kZXggJSAyID09PSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYi1wYWdpbmF0aW9uLWl0ZW0tb2RkJzogaW5kZXggJSAyICE9PSAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRUb0pTWEZ1bmM9e3RoaXMucHJvcHMuaXRlbVRvSlNYQ29udmVydGVyRnVuY31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXtpdGVtLmRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wYWdpbmF0aW9uLWluZGV4PXtpbmRleE9mZnNldCArIGluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdDb250ZW50PXt0aGlzLnByb3BzLml0ZW1Mb2FkaW5nQ29udGVudH0gLz5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvQXJyb3dLZXlOYXZpZ2F0aW9uPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlckNvbnRyb2xzKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmICggICB0aGlzLnByb3BzLmhpZGVQYWdlcklmTm90TmVlZGVkXG4gICAgICAgICAgICAmJiB0aGlzLnByb3BzLnRvdGFsSXRlbXMgPD0gdGhpcy5wcm9wcy5udW1JdGVtc1BlclBhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5wcm9wcy50b2dnbGVXcmFwcGVyUHJvcHM7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uTG93ZXIgPSBwb3NpdGlvbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbkNhcGl0YWxpemVkID0gcG9zaXRpb25Mb3dlclswXS50b1VwcGVyQ2FzZSgpICsgcG9zaXRpb25Mb3dlci5zbGljZSgxKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFNlZ21lbnRlZENvbnRyb2xcbiAgICAgICAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgICAgICAgcmVmPXtgc2VnbWVudGVkQ29udHJvbCR7cG9zaXRpb25DYXBpdGFsaXplZH1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcGFnaW5hdGlvbi1jb250cm9scycsIHByb3BzLmNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBbYGItcGFnaW5hdGlvbi1jb250cm9scy0ke3Bvc2l0aW9uTG93ZXJ9YF06IHRydWUsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17dGhpcy5jcmVhdGVQYWdlQnV0dG9uT3B0aW9ucygpfVxuICAgICAgICAgICAgICAgIG9uT3B0aW9uU2VsZWN0ZWQ9e3RoaXMuaGFuZGxlQ2xpY2t9IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyVmlldygpIHtcbiAgICAgICAgY29uc3Qge3Byb3BzfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gUGFnaW5hdGlvbi5wb3NpdGlvbnM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICByZWY9J3BhZ2luYXRlZFZpZXcnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdiLXBhZ2luYXRpb24nPlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAocHJvcHMucG9zaXRpb24gPT09IHBvc2l0aW9uLkFCT1ZFIHx8IHByb3BzLnBvc2l0aW9uID09PSBwb3NpdGlvbi5CT1RIKVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucmVuZGVyQ29udHJvbHMocG9zaXRpb24uQUJPVkUpXG4gICAgICAgICAgICAgICAgICAgIDogbm9vcFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB7cHJvcHMuYmVmb3JlfVxuXG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySXRlbXMoKX1cblxuICAgICAgICAgICAgICAgIHtwcm9wcy5hZnRlcn1cblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAocHJvcHMucG9zaXRpb24gPT09IHBvc2l0aW9uLkJFTE9XIHx8IHByb3BzLnBvc2l0aW9uID09PSBwb3NpdGlvbi5CT1RIKVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMucmVuZGVyQ29udHJvbHMocG9zaXRpb24uQkVMT1cpXG4gICAgICAgICAgICAgICAgICAgIDogbm9vcFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBQYWdpbmF0aW9uLmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgcmVmPSd3cmFwcGVyJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcGFnaW5hdGlvbi13cmFwcGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJWaWV3KCl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIi8qKlxuICogUmV0dXJucyB0aGUgYXBwcm9wcmlhdGUgdmVuZG9yLXByZWZpeGVkIHByb3BlcnR5IGZvciB1c2UgaW4gcHJvZ3JhbW1hdGljIHRyYW5zZm9ybSBzdHlsZSBtYW5pcHVsYXRpb24uXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBwcm9wZXJ0eSBrZXkgKGUuZy4gYFdlYmtpdFRyYW5zZm9ybWAsIGBtc1RyYW5zZm9ybWApXG4gKi9cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBkZXRlY3RUcmFuc2Zvcm1Qcm9wZXJ0eSgpIHtcbiAgICBjb25zdCBwcm9wcyA9IFtcbiAgICAgICAgJ3RyYW5zZm9ybScsXG4gICAgICAgICdXZWJraXRUcmFuc2Zvcm0nLFxuICAgICAgICAnTW96VHJhbnNmb3JtJyxcbiAgICAgICAgJ09UcmFuc2Zvcm0nLFxuICAgICAgICAnbXNUcmFuc2Zvcm0nLFxuICAgICAgICAnd2Via2l0LXRyYW5zZm9ybScsIC8vIHVzZWQgaW4gSlNET01cbiAgICBdO1xuXG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHByb3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChwcm9wc1tpXSBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn0pKCk7XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7ZmluZERPTU5vZGV9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBEaWFsb2cgZnJvbSAnLi4vYm91bmRsZXNzLWRpYWxvZy9pbmRleCc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4uL2JvdW5kbGVzcy1wb3J0YWwvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5pbXBvcnQgdHJhbnNmb3JtUHJvcCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtdHJhbnNmb3JtLXByb3BlcnR5L2luZGV4JztcblxuZnVuY3Rpb24gZ2V0T3Bwb3NpdGVDYXJkaW5hbChkaXJlY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvblswXSkge1xuICAgIGNhc2UgJ04nOlxuICAgICAgICByZXR1cm4gJ1MnO1xuICAgIGNhc2UgJ1MnOlxuICAgICAgICByZXR1cm4gJ04nO1xuICAgIGNhc2UgJ0UnOlxuICAgICAgICByZXR1cm4gJ1cnO1xuICAgIH1cblxuICAgIHJldHVybiAnRSc7XG59XG5cbmZ1bmN0aW9uIHdpdGhvdXQoYXJyMSwgYXJyMikgeyByZXR1cm4gYXJyMS5maWx0ZXIoKGl0ZW0pID0+IGFycjIuaW5kZXhPZihpdGVtKSA9PT0gLTEpOyB9XG5cbmNvbnN0IENMQVNTX1JFTU9WQUxfUkVHRVggPSAvXFxzP2ItcG9wb3Zlci0oYW5jaG9yfHNlbGYpLShzdGFydHxtaWRkbGV8ZW5kKS9nO1xuXG5jb25zdCBERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCA9IChcbiAgICA8c3ZnIHZpZXdCb3g9JzAgMCAxNCA5LjUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+XG4gICAgICAgIDxnPlxuICAgICAgICAgICAgPHBvbHlnb24gY2xhc3NOYW1lPSdiLXBvcG92ZXItY2FyZXQtYm9yZGVyJyBmaWxsPScjMDAwJyBwb2ludHM9JzcgMCAxNCAxMCAwIDEwJyAvPlxuICAgICAgICAgICAgPHBvbHlnb24gY2xhc3NOYW1lPSdiLXBvcG92ZXItY2FyZXQtZmlsbCcgZmlsbD0nI0ZGRicgcG9pbnRzPSc2Ljk4MjMwNDQ0IDEuNzUgMTIuNzUgMTAgMS4yNSAxMCcgLz5cbiAgICAgICAgPC9nPlxuICAgIDwvc3ZnPlxuKTtcblxuY29uc3QgU1RBUlQgPSAwO1xuY29uc3QgTUlERExFID0gMTtcbmNvbnN0IEVORCA9IDI7XG5cbmNvbnN0IGNvbWJpbmF0aW9ucyA9IFtcbiAgICB7bmFtZTogJ05OVycsICAgYXg6IFNUQVJULCAgICAgYXk6IFNUQVJULCAgICAgIGR4OiBTVEFSVCwgICBkeTogRU5EfSxcbiAgICB7bmFtZTogJ04nLCAgICAgYXg6IE1JRERMRSwgICAgYXk6IFNUQVJULCAgICAgIGR4OiBNSURETEUsICBkeTogRU5EfSxcbiAgICB7bmFtZTogJ05ORScsICAgYXg6IEVORCwgICAgICAgYXk6IFNUQVJULCAgICAgIGR4OiBFTkQsICAgICBkeTogRU5EfSxcbiAgICB7bmFtZTogJ0VORScsICAgYXg6IEVORCwgICAgICAgYXk6IFNUQVJULCAgICAgIGR4OiBTVEFSVCwgICBkeTogU1RBUlR9LFxuICAgIHtuYW1lOiAnRScsICAgICBheDogRU5ELCAgICAgICBheTogTUlERExFLCAgICAgZHg6IFNUQVJULCAgIGR5OiBNSURETEV9LFxuICAgIHtuYW1lOiAnRVNFJywgICBheDogRU5ELCAgICAgICBheTogRU5ELCAgICAgICAgZHg6IFNUQVJULCAgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnU1NFJywgICBheDogRU5ELCAgICAgICBheTogRU5ELCAgICAgICAgZHg6IEVORCwgICAgIGR5OiBTVEFSVH0sXG4gICAge25hbWU6ICdTJywgICAgIGF4OiBNSURETEUsICAgIGF5OiBFTkQsICAgICAgICBkeDogTUlERExFLCAgZHk6IFNUQVJUfSxcbiAgICB7bmFtZTogJ1NTVycsICAgYXg6IFNUQVJULCAgICAgYXk6IEVORCwgICAgICAgIGR4OiBTVEFSVCwgICBkeTogU1RBUlR9LFxuICAgIHtuYW1lOiAnV1NXJywgICBheDogU1RBUlQsICAgICBheTogRU5ELCAgICAgICAgZHg6IEVORCwgICAgIGR5OiBFTkR9LFxuICAgIHtuYW1lOiAnVycsICAgICBheDogU1RBUlQsICAgICBheTogTUlERExFLCAgICAgZHg6IEVORCwgICAgIGR5OiBNSURETEV9LFxuICAgIHtuYW1lOiAnV05XJywgICBheDogU1RBUlQsICAgICBheTogU1RBUlQsICAgICAgZHg6IEVORCwgICAgIGR5OiBTVEFSVH0sXG5dO1xuXG4vKipcbiMgUG9wb3ZlclxuX19BIG5vbi1ibG9ja2luZyBjb250YWluZXIgcG9zaXRpb25lZCB0byBhIHNwZWNpZmljIGFuY2hvciBlbGVtZW50Ll9fXG5cbkEgcG9wb3ZlciBpcyBhIHR5cGUgb2YgW0RpYWxvZ10oLi9EaWFsb2cpIHRoYXQgaXMgbWVhbnQgdG8gcHJvdmlkZSBhZGRpdGlvbmFsIGNvbnRleHQgdG8gY29udGVudCAoYW4gXCJhbmNob3JcIikgY3VycmVudGx5IG9uLXNjcmVlbi4gVHlwaWNhbGx5LCBhIHBvcG92ZXIgaXMgc3Bhd25lZCBieSBpbnRlcmFjdGluZyB3aXRoIHRoZSBjb250ZW50IGl0IGVucmljaGVzIGFuZCBpcyBkaXNtaXNzZWQgYnkgY2xpY2tpbmcgb3Igc2hpZnRpbmcgZm9jdXMgdG8gYW4gYWx0ZXJuYXRlIGxvY2F0aW9uLlxuXG5BbGlnbm1lbnQgb3B0aW9ucyBmb3IgdGhlIHBvcG92ZXIgYXJlIGRlc2lnbmVkIHRvIG1pcnJvciBjb21wYXNzIGRpcmVjdGlvbnM6XG5cbmBgYFxuICAgICAgIOKGkiAgICAgICDihpBcbiAgICAgIE5OVyAgTiAgTk5FXG7ihpMgV05XICAgICAgICAgICAgIEVORSDihpNcbiAgICBXICAgQU5DSE9SICAgIEVcbuKGkSBXU1cgICAgICAgICAgICAgRVNFIOKGkVxuICAgICAgU1NXICBTICBTU0VcbiAgICAgICDihpIgICAgICAg4oaQXG5gYGBcblxuVGhlIGFycm93cyBpbmRpY2F0ZSB3aGljaCB3YXkgdGhlIHBvcG92ZXIgd2lsbCBleHRlbmQsIGUuZy4g4oaSIG1lYW5zIHRoZSBwb3BvdmVyIGlzIGFsaWduZWQgdG8gdGhlIGxlZnQgZWRnZSBhbmQgZXh0ZW5kcyBpbiB0aGF0IGRpcmVjdGlvbi4gRGlhZ29uYWwgY29ybmVycyAoTlcsIE5FLCBTRSwgU1cpIGFyZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC5cblxuYGBganN4XG48UG9wb3ZlclxuICAgIGFuY2hvcj17ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbWUtYW5jaG9yLWVsZW1lbnQnKX1cbiAgICBwcmVzZXQ9e1BvcG92ZXIucHJlc2V0Lk59PlxuICAgIE15IHBvcG92ZXIgY29udGVudCFcbjwvUG9wb3Zlcj5cbmBgYFxuXG4jIyBJbnRlcmFjdGlvbnNcblxuUmVmZXIgdG8gW0RpYWxvZ10oLi9EaWFsb2cpXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcG92ZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VxdWVuY2VzXG4gICAgc3RhdGljIHByZXNldCA9IGNvbWJpbmF0aW9ucy5yZWR1Y2UoKG1hcCwgZGVmKSA9PiAoKG1hcFtkZWYubmFtZV0gPSBkZWYpLCBtYXApLCB7fSlcblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC4uLkRpYWxvZy5wcm9wVHlwZXMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgRE9NIGVsZW1lbnQgb3IgUmVhY3QgcmVmZXJlbmNlIChyZWYpIHRvIG9uZSBmb3IgcG9zaXRpb25pbmcgcHVycG9zZXNcbiAgICAgICAgICovXG4gICAgICAgIGFuY2hvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuaW5zdGFuY2VPZihIVE1MRWxlbWVudCksXG4gICAgICAgICAgICBQcm9wVHlwZXMuZWxlbWVudCxcbiAgICAgICAgXSkuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogaWYgdGhlIGdpdmVuIGFsaWdubWVudCBzZXR0aW5ncyB3b3VsZCB0YWtlIHRoZSBwb3BvdmVyIG91dCBvZiBib3VuZHMsIGNoYW5nZSB0aGUgYWxpZ25tZW50IGFzIG5lY2Vzc2FyeSB0byByZW1haW4gaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAqL1xuICAgICAgICBhdXRvUmVwb3NpdGlvbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGEgRE9NIGVsZW1lbnQgb3IgUmVhY3QgcmVmZXJlbmNlIChyZWYpIHRvIG9uZSBmb3IgcG9zaXRpb25pbmcgcHVycG9zZXMsIHRoZSBjYXJldCBjb21wb25lbnQgd2lsbFxuICAgICAgICAgKiBiZSBhdXRvbWF0aWNhbGx5IHBvc2l0aW9uZWQgdG8gY2VudGVyIG9uIHRoaXMgcHJvdmlkZWQgYW5jaG9yOyBieSBkZWZhdWx0IGl0IHdpbGwgY2VudGVyXG4gICAgICAgICAqIG9uIGBwcm9wcy5hbmNob3JgXG4gICAgICAgICAqL1xuICAgICAgICBjYXJldEFuY2hvcjogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuaW5zdGFuY2VPZihIVE1MRWxlbWVudCksXG4gICAgICAgICAgICBQcm9wVHlwZXMuZWxlbWVudCxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBKU1ggdGhhdCBpcyByZW5kZXJlZCBhbmQgdXNlZCB0byBwb2ludCBhdCB0aGUgbWlkZGxlIG9mIHRoZSBhbmNob3IgZWxlbWVudCBhbmQgaW5kaWNhdGUgdGhlIGNvbnRleHQgb2YgdGhlIHBvcG92ZXJcbiAgICAgICAgICovXG4gICAgICAgIGNhcmV0Q29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudCxcblxuICAgICAgICBwb3J0YWxQcm9wczogUHJvcFR5cGVzLnNoYXBlKFBvcnRhbC5Qcm9wVHlwZXMpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgYGBqc3hcbiAgICAgICAgICogPFBvcG92ZXJcbiAgICAgICAgICogICAgIGFuY2hvcj17ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNvbWUtYW5jaG9yLWVsZW1lbnQnKX1cbiAgICAgICAgICogICAgIHByZXNldD17UG9wb3Zlci5wcmVzZXQuTk5FfT5cbiAgICAgICAgICogICAgIE15IHBvcG92ZXIgY29udGVudCFcbiAgICAgICAgICogPC9Qb3BvdmVyPlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICovXG4gICAgICAgIHByZXNldDogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0Lk5OVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0Lk4sXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5OTkUsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5FTkUsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5FLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuRVNFLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuU1NFLFxuICAgICAgICAgICAgUG9wb3Zlci5wcmVzZXQuUyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlNTVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LldTVyxcbiAgICAgICAgICAgIFBvcG92ZXIucHJlc2V0LlcsXG4gICAgICAgICAgICBQb3BvdmVyLnByZXNldC5XTlcsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi1wb3BvdmVyYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICB3cmFwcGVyUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgLi4uRGlhbG9nLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgYW5jaG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGF1dG9SZXBvc2l0aW9uOiB0cnVlLFxuICAgICAgICBjYXB0dXJlRm9jdXM6IGZhbHNlLFxuICAgICAgICBjYXJldEFuY2hvcjogdW5kZWZpbmVkLFxuICAgICAgICBjYXJldENvbXBvbmVudDogREVGQVVMVF9DQVJFVF9DT01QT05FTlQsXG4gICAgICAgIGNsb3NlT25Fc2NLZXk6IHRydWUsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlQ2xpY2s6IHRydWUsXG4gICAgICAgIGNsb3NlT25PdXRzaWRlU2Nyb2xsOiB0cnVlLFxuICAgICAgICBwb3J0YWxQcm9wczoge30sXG4gICAgICAgIHByZXNldDogUG9wb3Zlci5wcmVzZXQuUyxcbiAgICAgICAgd3JhcHBlclByb3BzOiB7fSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gd2l0aG91dChPYmplY3Qua2V5cyhQb3BvdmVyLmRlZmF1bHRQcm9wcyksIERpYWxvZy5pbnRlcm5hbEtleXMpXG5cbiAgICBzdGF0aWMgZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudChjb25zdGFudCkge1xuICAgICAgICBzd2l0Y2ggKGNvbnN0YW50KSB7XG4gICAgICAgIGNhc2UgU1RBUlQ6XG4gICAgICAgICAgICByZXR1cm4gJ3N0YXJ0JztcblxuICAgICAgICBjYXNlIE1JRERMRTpcbiAgICAgICAgICAgIHJldHVybiAnbWlkZGxlJztcblxuICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgIHJldHVybiAnZW5kJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhY2hlVmlld3BvcnRDYXJ0b2dyYXBoeShhbmNob3IsIGNhcmV0QW5jaG9yKSB7XG4gICAgICAgIGNvbnN0IGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICB0aGlzLmFuY2hvclJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuY2FyZXRBbmNob3JSZWN0ID0gY2FyZXRBbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgLy8gbm9ybWFsbHkgd2UnZCB1c2Ugc2Nyb2xsVG9wL3Njcm9sbExlZnQsIGJ1dCBzY3JvbGwgYmVoYXZpb3IgY2hhbmdlcyB3aGVuIHBvc2l0aW9uOiBzdGlja3lcbiAgICAgICAgLy8gaXMgZW5hYmxlZCBpbiBDaHJvbWUgYW5kIGludmVydGluZyB0aGUgbmVnYXRpdmUgdmlld3BvcnQgcmVjdCB2YWx1ZSBzZWVtcyB0byB3b3JrIG1vcmVcbiAgICAgICAgLy8gY29uc2lzdGVudGx5XG4gICAgICAgIHRoaXMuYm9keUxlZnQgPSBib2R5UmVjdC5sZWZ0ICogLTE7XG4gICAgICAgIHRoaXMuYm9keVRvcCA9IGJvZHlSZWN0LnRvcCAqIC0xO1xuICAgIH1cblxuICAgIGdldE5leHRDYXJldFhQb3NpdGlvbih7bmFtZSwgYXgsIGR4LCBheSwgZHl9LCBjYXJldCA9IHRoaXMuJGNhcmV0KSB7XG4gICAgICAgIGxldCBuZXh0WCA9IDA7XG5cbiAgICAgICAgaWYgKG5hbWVbMF0gPT09ICdOJyB8fCBuYW1lWzBdID09PSAnUycpIHtcbiAgICAgICAgICAgIC8vIHBvcG92ZXIgaXMgYWJvdmUvYmVsb3csIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBYIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3JcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QubGVmdCAtIHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgdGhpcy5jYXJldEFuY2hvclJlY3Qud2lkdGggLyAyO1xuXG4gICAgICAgICAgICBpZiAoZHggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9ICh0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRXaWR0aCAtIHRoaXMuYW5jaG9yUmVjdC53aWR0aCkgLyAyO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkeCA9PT0gRU5EKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5kaWFsb2cuJHdyYXBwZXIuY2xpZW50V2lkdGggLSB0aGlzLmFuY2hvclJlY3Qud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwb3BvdmVyIGlzIGxlZnQvcmlnaHQsIHNvIHdlIG5lZWQgdG8gZGV0ZWN0IHRoZSBZIHBvc2l0aW9uIG9mIHRoZSBjYXJldCBhbmNob3IgKGNhcmV0IGlzIHJvdGF0ZWQgdmlhIENTUylcbiAgICAgICAgICAgIG5leHRYID0gdGhpcy5jYXJldEFuY2hvclJlY3QudG9wIC0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuY2FyZXRBbmNob3JSZWN0LmhlaWdodCAvIDI7XG5cbiAgICAgICAgICAgIGlmIChkeSA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgbmV4dFggKz0gKHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZHkgPT09IEVORCkge1xuICAgICAgICAgICAgICAgIG5leHRYICs9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudEhlaWdodCAtIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0WCAtPSBjYXJldC5jbGllbnRXaWR0aCAvIDI7XG5cbiAgICAgICAgcmV0dXJuIG5leHRYO1xuICAgIH1cblxuICAgIGdldE5leHREaWFsb2dYUG9zaXRpb24oe2F4LCBkeH0sIGRpYWxvZyA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyKSB7XG4gICAgICAgIGxldCBuZXh0WCA9IHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgdGhpcy5ib2R5TGVmdDtcblxuICAgICAgICBzd2l0Y2ggKGF4KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5hbmNob3JSZWN0LndpZHRoIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgbmV4dFggKz0gdGhpcy5hbmNob3JSZWN0LndpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGR4KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFggLT0gZGlhbG9nLmNsaWVudFdpZHRoIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgbmV4dFggLT0gZGlhbG9nLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dFg7XG4gICAgfVxuXG4gICAgZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbih7YXksIGR5fSwgZGlhbG9nID0gdGhpcy5kaWFsb2cuJHdyYXBwZXIpIHtcbiAgICAgICAgbGV0IG5leHRZID0gdGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYm9keVRvcDtcblxuICAgICAgICBzd2l0Y2ggKGF5KSB7XG4gICAgICAgIGNhc2UgTUlERExFOlxuICAgICAgICAgICAgbmV4dFkgKz0gdGhpcy5hbmNob3JSZWN0LmhlaWdodCAvIDI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIEVORDpcbiAgICAgICAgICAgIG5leHRZICs9IHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAoZHkpIHtcbiAgICAgICAgY2FzZSBNSURETEU6XG4gICAgICAgICAgICBuZXh0WSAtPSBkaWFsb2cuY2xpZW50SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgbmV4dFkgLT0gZGlhbG9nLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5leHRZO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcG9zaXRpb24gY29tYmluYXRpb24sIHdpbGwgdGhlIHBvcG92ZXIgZml0IGludG8gdGhlIHNwYWNlIHdpdGhvdXQgb2NjbHVzaW9uP1xuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSAgY29uZmlnXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmF4XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmF5XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmR4XG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgY29uZmlnLmR5XG4gICAgICogQHBhcmFtICB7TnVtYmVyfSAgcEhlaWdodFxuICAgICAqIEBwYXJhbSAge051bWJlcn0gIHBXaWR0aFxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1Bvc2l0aW9uVmFsaWQoe25hbWUsIGF4LCBheSwgZHgsIGR5fSwgcEhlaWdodCwgcFdpZHRoKSB7XG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gbmFtZVswXTtcblxuICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyB8fCBjYXJkaW5hbCA9PT0gJ1MnKSB7XG4gICAgICAgICAgICBpZiAoY2FyZGluYWwgPT09ICdOJyAmJiB0aGlzLmFuY2hvclJlY3QudG9wIC0gcEhlaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7ICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1MnICYmIHRoaXMuYW5jaG9yUmVjdC5ib3R0b20gKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGF4ID09PSBTVEFSVCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkgICAgICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICAgICAgICAgIHx8ICh0aGlzLmFuY2hvclJlY3QubGVmdCA8IDApICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIGFuY2hvciBpcyBwYXJ0aWFsbHkgb2Zmc2NyZWVuIHRvIHRoZSBsZWZ0ICovXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXggPT09IE1JRERMRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LmxlZnQgLSBwV2lkdGggLyAyIDwgMCkgICAgICAgICAgICAgICAgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi9cbiAgICAgICAgICAgICAgICAgICAgfHwgKHRoaXMuYW5jaG9yUmVjdC5sZWZ0ICsgcFdpZHRoIC8gMiA+IHdpbmRvdy5pbm5lcldpZHRoKSAgLyogd291bGQgb2NjbHVkZSByaWdodCAqL1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhKFxuICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QubGVmdCAtIHBXaWR0aCA8IDApICAgICAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBsZWZ0ICovXG4gICAgICAgICAgICAgICAgfHwgKHRoaXMuYW5jaG9yUmVjdC5yaWdodCA+IHdpbmRvdy5pbm5lcldpZHRoKSAgICAgICAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiB0byB0aGUgcmlnaHQgKi9cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjYXJkaW5hbCA9PT0gJ1cnIHx8IGNhcmRpbmFsID09PSAnRScpIHtcbiAgICAgICAgICAgIGlmIChjYXJkaW5hbCA9PT0gJ1cnICYmIHRoaXMuYW5jaG9yUmVjdC5sZWZ0IC0gcFdpZHRoIDwgMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIGxlZnQgKi9cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FyZGluYWwgPT09ICdFJyAmJiB0aGlzLmFuY2hvclJlY3QucmlnaHQgKyBwV2lkdGggPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAvKiB3b3VsZCBvY2NsdWRlIHJpZ2h0ICovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChheSA9PT0gU1RBUlQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYW5jaG9yUmVjdC50b3AgKyBwSGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KSAgICAvKiB3b3VsZCBvY2NsdWRlIGJlbG93ICovXG4gICAgICAgICAgICAgICAgICAgIHx8ICh0aGlzLmFuY2hvclJlY3QudG9wIDwgMCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogYW5jaG9yIGlzIHBhcnRpYWxseSBvZmZzY3JlZW4gYWJvdmUgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChheSA9PT0gTUlERExFKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEoXG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmFuY2hvclJlY3QudG9wICsgdGhpcy5hbmNob3JSZWN0LmhlaWdodCAvIDIgLSBwSGVpZ2h0IC8gMiA8IDApICAgICAgICAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgICAgICAgICB8fCAodGhpcy5hbmNob3JSZWN0LnRvcCArIHRoaXMuYW5jaG9yUmVjdC5oZWlnaHQgLyAyICsgcEhlaWdodCAvIDIgPiB3aW5kb3cuaW5uZXJIZWlnaHQpICAgIC8qIHdvdWxkIG9jY2x1ZGUgYmVsb3cgKi9cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gIShcbiAgICAgICAgICAgICAgICAgICAodGhpcy5hbmNob3JSZWN0LnRvcCAtIHBIZWlnaHQgPCAwKSAgICAgICAgICAgICAgLyogd291bGQgb2NjbHVkZSBhYm92ZSAqL1xuICAgICAgICAgICAgICAgIHx8ICh0aGlzLmFuY2hvclJlY3QuYm90dG9tID4gd2luZG93LmlubmVySGVpZ2h0KSAgICAvKiBhbmNob3IgaXMgcGFydGlhbGx5IG9mZnNjcmVlbiBiZWxvdyAqL1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGdldFZhbGlkQWxpZ25tZW50UHJlc2V0KCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZGlhbG9nLiR3cmFwcGVyLmNsaWVudFdpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgLy8gZ2l2ZW4gdGhlIGN1cnJlbnQgdmlld3BvcnQgY2FydG9ncmFwaHksIHdoZXJlIGNhbiB3ZSBzdGljayB0aGUgcG9wb3ZlclxuICAgICAgICAvLyBzbyBpdCB3b24ndCBiZSBwYXJ0aWFsbHkgb2NjbHVkZWQ/XG4gICAgICAgIGNvbnN0IHZhbGlkQ29tYm9zID0gY29tYmluYXRpb25zLmZpbHRlcigoY29uZmlnKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvc2l0aW9uVmFsaWQoY29uZmlnLCBoZWlnaHQsIHdpZHRoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gMS4gaXMgdGhlIHJlcXVlc3RlZCBwcmVzZXQgaW4gdGhlIGxpc3Q/XG4gICAgICAgIC8vIDIuIGRvZXMgdGhlIGNvbnN1bWVyIG5vdCB3YW50IHVzIGF1dG8tcmVwb3NpdGlvbmluZz9cbiAgICAgICAgLy8gMy4gYXJlIG5vIGNvbWJvcyB2YWxpZD9cbiAgICAgICAgaWYgKHZhbGlkQ29tYm9zLmluZGV4T2YodGhpcy5wcm9wcy5wcmVzZXQpICE9PSAtMSB8fCAhdGhpcy5wcm9wcy5hdXRvUmVwb3NpdGlvbiB8fCAhdmFsaWRDb21ib3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5wcmVzZXQ7IC8vIGp1c3QgZ28gd2l0aCB0aGUgcmVxdWVzdGVkIHByZXNldFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3RoZXJ3aXNlLi4uIHdlIHRyeSB0byBmaW5kIHRoZSBiZXN0IHBvc3NpYmxlIGZhbGxiYWNrIG9wdGlvblxuXG4gICAgICAgIC8vIG9wdGltaXplIGZvciB0aGUgcmVxdWVzdGVkIHByZXNldCBoZW1pc3BoZXJlXG4gICAgICAgIGNvbnN0IGJlc3RDb21ib3MgPSB2YWxpZENvbWJvcy5maWx0ZXIoKHtuYW1lfSkgPT4gbmFtZVswXSA9PT0gdGhpcy5wcm9wcy5wcmVzZXQubmFtZVswXSk7XG5cbiAgICAgICAgaWYgKGJlc3RDb21ib3MubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gYmVzdENvbWJvc1swXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZW4gdGhlIG9wcG9zaXRlIChlLmcuIHRoZSBlbGVtZW50IGlzIHRvbyBsb3cgaW4gdGhlIHZpZXdwb3J0IHNvIGZsaXAgdXAgaW5zdGVhZCBvZiBkb3duKVxuICAgICAgICBjb25zdCBvcHBvc2l0ZUNhcmRpbmFsID0gZ2V0T3Bwb3NpdGVDYXJkaW5hbCh0aGlzLnByb3BzLnByZXNldC5uYW1lKTtcbiAgICAgICAgY29uc3Qgb2theUNvbWJvcyA9IHZhbGlkQ29tYm9zLmZpbHRlcigoe25hbWV9KSA9PiBuYW1lWzBdID09PSBvcHBvc2l0ZUNhcmRpbmFsKTtcblxuICAgICAgICBpZiAob2theUNvbWJvcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBva2F5Q29tYm9zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2hhdGV2ZXIncyBsZWZ0IHdpbGwgaGF2ZSB0byBkb1xuICAgICAgICByZXR1cm4gdmFsaWRDb21ib3NbMF07XG4gICAgfVxuXG4gICAgYWxpZ24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMucHJvcHMuYW5jaG9yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmFuY2hvclxuICAgICAgICAgICAgICAgICAgICAgICA6IGZpbmRET01Ob2RlKHRoaXMucHJvcHMuYW5jaG9yKTtcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgY29uc3QgY2FyZXRBbmNob3IgPSB0aGlzLnByb3BzLmNhcmV0QW5jaG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnByb3BzLmNhcmV0QW5jaG9yIGluc3RhbmNlb2YgSFRNTEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5wcm9wcy5jYXJldEFuY2hvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmaW5kRE9NTm9kZSh0aGlzLnByb3BzLmNhcmV0QW5jaG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYW5jaG9yO1xuXG4gICAgICAgIHRoaXMuY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5KGFuY2hvciwgY2FyZXRBbmNob3IpO1xuXG4gICAgICAgIGNvbnN0IHByZXNldCA9IHRoaXMuZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQoKTtcbiAgICAgICAgY29uc3QgZnJhZyA9IFBvcG92ZXIuZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudDtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUgPSB0aGlzLmRpYWxvZy4kd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShDTEFTU19SRU1PVkFMX1JFR0VYLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBgIGItcG9wb3Zlci1hbmNob3IteC0ke2ZyYWcocHJlc2V0LmF4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItYW5jaG9yLXktJHtmcmFnKHByZXNldC5heSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGAgYi1wb3BvdmVyLXNlbGYteC0ke2ZyYWcocHJlc2V0LmR4KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgYCBiLXBvcG92ZXItc2VsZi15LSR7ZnJhZyhwcmVzZXQuZHkpfWA7XG5cbiAgICAgICAgY29uc3QgZHggPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1hQb3NpdGlvbihwcmVzZXQpKTtcbiAgICAgICAgY29uc3QgZHkgPSBNYXRoLnJvdW5kKHRoaXMuZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbihwcmVzZXQpKTtcblxuICAgICAgICB0aGlzLmRpYWxvZy4kd3JhcHBlci5zdHlsZVt0cmFuc2Zvcm1Qcm9wXSA9IGB0cmFuc2xhdGUoJHtkeH1weCwgJHtkeX1weClgO1xuXG4gICAgICAgIGNvbnN0IGNhcmRpbmFsID0gcHJlc2V0Lm5hbWVbMF07XG4gICAgICAgIGNvbnN0IGxvbmdpdHVkaW5hbCA9IGNhcmRpbmFsID09PSAnTicgfHwgY2FyZGluYWwgPT09ICdTJztcblxuICAgICAgICAvLyB0aGUgY2FyZXQgaXMgaW5pdGlhbGx5IHBvc2l0aW9uZWQgYXQgMCwwIGluc2lkZSB0aGUgZGlhbG9nXG4gICAgICAgIC8vIHdoaWNoIGlzIGFscmVhZHkgcG9zaXRpb25lZCBhdCB0aGUgYW5jaG9yLCBzbyB3ZSBqdXN0IG5lZWQgdG9cbiAgICAgICAgLy8gbWFrZSBzbWFsbCBhZGp1c3RtZW50cyBhcyBuZWNlc3NhcnkgdG8gbGluZSB1cCB0aGUgY2FyZXRcbiAgICAgICAgLy8gd2l0aCB0aGUgdmlzdWFsIGNlbnRlciBvZiB0aGUgYW5jaG9yXG4gICAgICAgIHRoaXMuJGNhcmV0LnN0eWxlW2xvbmdpdHVkaW5hbCA/ICdsZWZ0JyA6ICd0b3AnXSA9IE1hdGgucm91bmQodGhpcy5nZXROZXh0Q2FyZXRYUG9zaXRpb24ocHJlc2V0KSkgKyAncHgnO1xuICAgICAgICB0aGlzLiRjYXJldC5zdHlsZVtsb25naXR1ZGluYWwgPyAndG9wJyA6ICdsZWZ0J10gPSAnMHB4JztcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5hbGlnbigpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5hbGlnbiwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmFsaWduKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmFsaWduLCB0cnVlKTsgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7cHJvcHN9ID0gdGhpcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPFBvcnRhbCB7Li4ucHJvcHMucG9ydGFsUHJvcHN9PlxuICAgICAgICAgICAgICAgIDxEaWFsb2dcbiAgICAgICAgICAgICAgICAgICAgey4uLm9taXQocHJvcHMsIFBvcG92ZXIuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICAgICAgcmVmPXsoaW5zdGFuY2UpID0+ICh0aGlzLmRpYWxvZyA9IGluc3RhbmNlKX1cbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlPXtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNsb25lRWxlbWVudChwcm9wcy5jYXJldENvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZjogKG5vZGUpID0+ICh0aGlzLiRjYXJldCA9IG5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY3goJ2ItcG9wb3Zlci1jYXJldCcsIHByb3BzLmNhcmV0Q29tcG9uZW50LnByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXJQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHMud3JhcHBlclByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi1wb3BvdmVyJywgcHJvcHMud3JhcHBlclByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICA8L1BvcnRhbD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5cbi8qKlxuIyBQcm9ncmVzc2l2ZURpc2Nsb3N1cmVcbl9fSGlkZSBjb250ZW50IHVudGlsIGl0J3MgbmVlZGVkLCB3aXRoIGNvbmZpZ3VyYWJsZSB0ZWFzZXJzLl9fXG5cbk1lY2hhbmljYWxseSwgaGlkZGVuIGRpc2Nsb3N1cmUgY29udGVudCBpcyBub3QgcmVuZGVyZWQgdG8gdGhlIERPTSB1bnRpbCBpdCBpcyBuZWVkZWQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2dyZXNzaXZlRGlzY2xvc3VyZSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IHZhbGlkIEhUTUwgdGFnIG5hbWUgb3IgYSBSZWFjdCBjb21wb25lbnQgZmFjdG9yeSwgYW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byBgUmVhY3QuY3JlYXRlRWxlbWVudGBcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBvbmVudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgICAgICBQcm9wVHlwZXMuc3RyaW5nLFxuICAgICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbGxvd3MgdGhlIGRpc2Nsb3N1cmUgdG8gYmUgcmVuZGVyZWQgZXhwYW5kZWQgYnkgZGVmYXVsdFxuICAgICAgICAgKi9cbiAgICAgICAgZXhwYW5kZWQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgY29udGVudCBpcyBzaG93bjsgbm90IGNhbGxlZCBvbiBpbml0aWFsIHJlbmRlclxuICAgICAgICAgKi9cbiAgICAgICAgb25FeHBhbmQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2hlbiB0aGUgY29udGVudCBpcyBoaWRkZW47IG5vdCBjYWxsZWQgb24gaW5pdGlhbCByZW5kZXJcbiAgICAgICAgICovXG4gICAgICAgIG9uSGlkZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNvbnRlbnQgdG8gYmUgc2hvd24gbmV4dCB0byB0aGUgZXhwYW5zaW9uIHRvZ2dsZSwgZS5nLiBcIkFkdmFuY2VkIE9wdGlvbnNcIlxuICAgICAgICAgKi9cbiAgICAgICAgdGVhc2VyOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY29udGVudCB0byBiZSBzaG93biBuZXh0IHRvIHRoZSBleHBhbnNpb24gdG9nZ2xlIHdoZW4gdGhlIGRpc2Nsb3N1cmUgaXMgaW4gXCJleHBhbmRlZFwiIHN0YXRlLCBlLmcuIFwiSGlkZSBBZHZhbmNlZCBPcHRpb25zXCJcbiAgICAgICAgICovXG4gICAgICAgIHRlYXNlckV4cGFuZGVkOiBQcm9wVHlwZXMubm9kZSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItZGlzY2xvc3VyZS10b2dnbGVgIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHRvZ2dsZVByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuICAgIH1cblxuICAgIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGNoaWxkcmVuOiBudWxsLFxuICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICBleHBhbmRlZDogZmFsc2UsXG4gICAgICAgIG9uRXhwYW5kOiBub29wLFxuICAgICAgICBvbkhpZGU6IG5vb3AsXG4gICAgICAgIHRlYXNlcjogbnVsbCxcbiAgICAgICAgdGVhc2VyRXhwYW5kZWQ6IG51bGwsXG4gICAgICAgIHRvZ2dsZVByb3BzOiB7fSxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoUHJvZ3Jlc3NpdmVEaXNjbG9zdXJlLmRlZmF1bHRQcm9wcylcblxuICAgIHN0YXRlID0ge1xuICAgICAgICBleHBhbmRlZDogdGhpcy5wcm9wcy5leHBhbmRlZCxcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzKSB7XG4gICAgICAgIGlmIChuZXdQcm9wcy5leHBhbmRlZCAhPT0gdGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7ZXhwYW5kZWQ6IG5ld1Byb3BzLmV4cGFuZGVkfSwgdGhpcy5kaXNwYXRjaENhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHNbdGhpcy5zdGF0ZS5leHBhbmRlZCA/ICdvbkV4cGFuZCcgOiAnb25IaWRlJ10oKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWR9LCB0aGlzLmRpc3BhdGNoQ2FsbGJhY2spO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMudG9nZ2xlUHJvcHMub25DbGljaykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudG9nZ2xlUHJvcHMub25DbGljayhldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtleHBhbmRlZDogIXRoaXMuc3RhdGUuZXhwYW5kZWR9LCB0aGlzLmRpc3BhdGNoQ2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy50b2dnbGVQcm9wcy5vbktleURvd24pKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnRvZ2dsZVByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJDb250ZW50KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5leHBhbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj0nY29udGVudCdcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nYi1kaXNjbG9zdXJlLWNvbnRlbnQnPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB7Li4ub21pdCh0aGlzLnByb3BzLCBQcm9ncmVzc2l2ZURpc2Nsb3N1cmUuaW50ZXJuYWxLZXlzKX1cbiAgICAgICAgICAgICAgICByZWY9J3dyYXBwZXInXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1kaXNjbG9zdXJlJywgdGhpcy5wcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAnYi1kaXNjbG9zdXJlLWV4cGFuZGVkJzogdGhpcy5zdGF0ZS5leHBhbmRlZCxcbiAgICAgICAgICAgICAgICB9KX0+XG5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLnRvZ2dsZVByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J3RvZ2dsZSdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1kaXNjbG9zdXJlLXRvZ2dsZScsIHRoaXMucHJvcHMudG9nZ2xlUHJvcHMuY2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja31cbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleURvd259XG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PScwJz5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXhwYW5kZWQgPyB0aGlzLnByb3BzLnRlYXNlckV4cGFuZGVkIHx8IHRoaXMucHJvcHMudGVhc2VyIDogdGhpcy5wcm9wcy50ZWFzZXJ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJDb250ZW50KCl9XG4gICAgICAgICAgICA8L3RoaXMucHJvcHMuY29tcG9uZW50PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTYgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKSk7XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYm91bmRsZXNzLWJ1dHRvbi9pbmRleCc7XG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIFByb2dyZXNzXG5fX0FuIHVub3BpbmlvbmF0ZWQgcHJvZ3Jlc3MgaW1wbGVtZW50YXRpb24sIGFsbG93aW5nIGZvciBhIHZhcmlldHkgb2Ygc2hhcGVzIGFuZCBlZmZlY3RzLl9fXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2dyZXNzIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLXByb2dyZXNzLWNhbmNlbGAgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgY2FuY2VsUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSB2YWxpZCBIVE1MIHRhZyBuYW1lIG9yIGEgUmVhY3QgY29tcG9uZW50IGZhY3RvcnksIGFueXRoaW5nIHRoYXQgY2FuIGJlIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gYFJlYWN0LmNyZWF0ZUVsZW1lbnRgXG4gICAgICAgICAqL1xuICAgICAgICBjb21wb25lbnQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgIF0pLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgdmFsdWUgdG8gc2hvdyBhcyBhIGxhYmVsIG9mIHRoZSBwcm9ncmVzcywgZS5nLiBcIjUwJVwiXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLXByb2dyZXNzLWxhYmVsYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBpZiBzdXBwbGllZCwgYWRkcyBhIGNhbmNlbCBlbGVtZW50IGFuZCBjYWxscyB0aGlzIGZ1bmN0aW9uIHdoZW4gdGhhdCBlbGVtZW50IGlzIGNsaWNrZWRcbiAgICAgICAgICovXG4gICAgICAgIG9uQ2FuY2VsOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGludGVnZXIgKGFuZCB1bml0LCBpZiBhcHBsaWNhYmxlKSBvZiB0aGUgY3VycmVudCBwcm9ncmVzcyBzdGF0ZSwgZS5nLiAwLjAxIChvcGFjaXR5KVxuICAgICAgICAgKi9cbiAgICAgICAgcHJvZ3Jlc3M6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLXByb2dyZXNzYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBwcm9ncmVzc1Byb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgQ1NTIHByb3BlcnR5IHRvIHR3ZWVuIChtdXN0IGFjY2VwdCBwZXJjZW50YWdlcykgLSBkZWZhdWx0cyB0byBcIndpZHRoXCJcbiAgICAgICAgICovXG4gICAgICAgIHR3ZWVuUHJvcGVydHk6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgY2FuY2VsUHJvcHM6IHt9LFxuICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICBsYWJlbDogbnVsbCxcbiAgICAgICAgbGFiZWxQcm9wczoge30sXG4gICAgICAgIG9uQ2FuY2VsOiBudWxsLFxuICAgICAgICBwcm9ncmVzczogdW5kZWZpbmVkLFxuICAgICAgICBwcm9ncmVzc1Byb3BzOiB7fSxcbiAgICAgICAgdHdlZW5Qcm9wZXJ0eTogJ3dpZHRoJyxcbiAgICB9XG5cbiAgICBzdGF0aWMgaW50ZXJuYWxLZXlzID0gT2JqZWN0LmtleXMoUHJvZ3Jlc3MuZGVmYXVsdFByb3BzKVxuXG4gICAgcmVuZGVyTGFiZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMubGFiZWxQcm9wc31cbiAgICAgICAgICAgICAgICAgICAgcmVmPSdsYWJlbCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wcm9ncmVzcy1sYWJlbCcsIHRoaXMucHJvcHMubGFiZWxQcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyQ2FuY2VsKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkNhbmNlbCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLmNhbmNlbFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2NhbmNlbCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wcm9ncmVzcy1jYW5jZWwnLCB0aGlzLnByb3BzLmNhbmNlbFByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIG9uUHJlc3NlZD17dGhpcy5wcm9wcy5vbkNhbmNlbH0gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJQcm9ncmVzcygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5wcm9ncmVzc1Byb3BzfVxuICAgICAgICAgICAgICAgIHJlZj0ncHJvZ3Jlc3MnXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi1wcm9ncmVzcycsIHRoaXMucHJvcHMucHJvZ3Jlc3NQcm9wcy5jbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ2ItcHJvZ3Jlc3MtaW5kZXRlcm1pbmF0ZSc6IHR5cGVvZiB0aGlzLnByb3BzLnByb2dyZXNzID09PSAndW5kZWZpbmVkJyxcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICByb2xlPSdwcmVzZW50YXRpb24nXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5wcm9wcy5wcm9ncmVzc1Byb3BzLnN0eWxlLFxuICAgICAgICAgICAgICAgICAgICBbdGhpcy5wcm9wcy50d2VlblByb3BlcnR5XTogdGhpcy5wcm9wcy5wcm9ncmVzcyxcbiAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0aGlzLnByb3BzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIFByb2dyZXNzLmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgcmVmPSd3cmFwcGVyJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcHJvZ3Jlc3Mtd3JhcHBlcicsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyUHJvZ3Jlc3MoKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJMYWJlbCgpfVxuICAgICAgICAgICAgICAgIHt0aGlzLnJlbmRlckNhbmNlbCgpfVxuICAgICAgICAgICAgPC90aGlzLnByb3BzLmNvbXBvbmVudD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgaXNGdW5jdGlvbiBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtZnVuY3Rpb24vaW5kZXgnO1xuaW1wb3J0IG5vb3AgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW5vb3AvaW5kZXgnO1xuaW1wb3J0IG9taXQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9taXQta2V5cy9pbmRleCc7XG5pbXBvcnQgdXVpZCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtdXVpZC9pbmRleCc7XG5cbi8qKlxuIyBSYWRpb1xuX19BbiBhY2Nlc3NpYmxlIHJhZGlvIGZvcm0gY29udHJvbC5fX1xuXG5SYWRpbyBpcyBpbXBsZW1lbnRlZCBhcyBhIFwiY29udHJvbGxlZCBpbnB1dFwiLCBtZWFuaW5nIGl0IGlzIGEgZGlyZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtb2RlbCBkYXRhIHBhc3NlZCBpbnNpZGUuIFVzZXIgaW50ZXJhY3Rpb24gd2lsbCBidWJibGUgY2hhbmdlcyBpbiB0aGUgZm9ybSBvZiBgb25TZWxlY3RlZGAgdGhhdCBhIGNvbnRyb2xsZXIgdmlldyBtdXN0IGludGVyY2VwdCBhbmQgYXBwbHkgYWdhaW5zdCB0aGUgZGF0YSBwcm92aWRlci5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFkaW8gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogYW55IFtSZWFjdC1zdXBwb3J0ZWQgYXR0cmlidXRlXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RhZ3MtYW5kLWF0dHJpYnV0ZXMuaHRtbCNodG1sLWF0dHJpYnV0ZXMpOyBhcHBsaWVkIHRvIHRoZSBgLmItcmFkaW9gIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIGlucHV0UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBSZWFjdC1yZW5kZXJhYmxlIGNvbnRlbnQsIG1vc3QgY29tbW9ubHkgYSBzaW1wbGUgc3RyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbDogUHJvcFR5cGVzLm5vZGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLXJhZGlvLWxhYmVsYCBub2RlXG4gICAgICAgICAqL1xuICAgICAgICBsYWJlbFByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBwYXNzdGhyb3VnaCB0byB0aGUgSFRNTCBgbmFtZWAgYXR0cmlidXRlIG9uIHRoZSBgLmItcmFkaW9gIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgYmVjb21lcyBzZWxlY3RlZDsgYmFja2luZyBkYXRhIG11c3QgYmUgdXBkYXRlZCB0byBwZXJzaXN0IHRoZSBzdGF0ZSBjaGFuZ2VcbiAgICAgICAgICovXG4gICAgICAgIG9uU2VsZWN0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZXRlcm1pbmVzIHRoZSBhY3RpdmF0aW9uIHN0YXRlIG9mIHRoZSByYWRpbyBjb250cm9sLCBzZWUgUmVhY3QgW1wiY29udHJvbGxlZCBpbnB1dHNcIl0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9mb3Jtcy5odG1sI2NvbnRyb2xsZWQtY29tcG9uZW50cykpXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RlZDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHBhc3N0aHJvdWdoIHRvIHRoZSBIVE1MIGB2YWx1ZWAgYXR0cmlidXRlIG9uIHRoZSBgLmItcmFkaW9gIG5vZGVcbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgaW5wdXRQcm9wczoge30sXG4gICAgICAgIGxhYmVsOiBudWxsLFxuICAgICAgICBsYWJlbFByb3BzOiB7fSxcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIG9uU2VsZWN0ZWQ6IG5vb3AsXG4gICAgICAgIHNlbGVjdGVkOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhSYWRpby5kZWZhdWx0UHJvcHMpXG5cbiAgICB1dWlkID0gdXVpZCgpXG5cbiAgICBoYW5kbGVDaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uU2VsZWN0ZWQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkNoYW5nZSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkNoYW5nZShldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJJbnB1dCgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHsuLi50aGlzLnByb3BzLmlucHV0UHJvcHN9XG4gICAgICAgICAgICAgICAgcmVmPSdpbnB1dCdcbiAgICAgICAgICAgICAgICB0eXBlPSdyYWRpbydcbiAgICAgICAgICAgICAgICBpZD17dGhpcy5wcm9wcy5pZCB8fCB0aGlzLnByb3BzLmlucHV0UHJvcHMuaWQgfHwgdGhpcy51dWlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcmFkaW8nLCB0aGlzLnByb3BzLmlucHV0UHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICdiLXJhZGlvLXNlbGVjdGVkJzogdGhpcy5wcm9wcy5zZWxlY3RlZCxcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICBuYW1lPXt0aGlzLnByb3BzLm5hbWV9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMucHJvcHMudmFsdWV9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17dGhpcy5wcm9wcy5zZWxlY3RlZH1cbiAgICAgICAgICAgICAgICBhcmlhLWNoZWNrZWQ9e1N0cmluZyh0aGlzLnByb3BzLnNlbGVjdGVkKX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2V9IC8+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyTGFiZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmxhYmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICB7Li4udGhpcy5wcm9wcy5sYWJlbFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2xhYmVsJ1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2N4KCdiLXJhZGlvLWxhYmVsJywgdGhpcy5wcm9wcy5sYWJlbFByb3BzLmNsYXNzTmFtZSl9XG4gICAgICAgICAgICAgICAgICAgIGh0bWxGb3I9e3RoaXMucHJvcHMuaWQgfHwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLmlkIHx8IHRoaXMudXVpZH0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmxhYmVsfVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIFJhZGlvLmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgcmVmPSd3cmFwcGVyJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItcmFkaW8td3JhcHBlcicsIHRoaXMucHJvcHMuY2xhc3NOYW1lKX0+XG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVySW5wdXQoKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJMYWJlbCgpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNiBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSkge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpKTtcblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIG1hdGNoT3BlcmF0b3JzUmUgPSAvW3xcXFxce30oKVtcXF1eJCsqPy5dL2c7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0cikge1xuXHRpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBhIHN0cmluZycpO1xuXHR9XG5cblx0cmV0dXJuIHN0ci5yZXBsYWNlKG1hdGNoT3BlcmF0b3JzUmUsICdcXFxcJCYnKTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHtQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjeCBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBlc2NhcGVyIGZyb20gJ2VzY2FwZS1zdHJpbmctcmVnZXhwJztcblxuaW1wb3J0IElucHV0IGZyb20gJy4uL2JvdW5kbGVzcy1pbnB1dC9pbmRleCc7XG5pbXBvcnQgZXh0cmFjdENoaWxkUHJvcHMgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9iamVjdC1pbnRlcnNlY3Rpb24vaW5kZXgnO1xuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLWlzLWZ1bmN0aW9uL2luZGV4JztcbmltcG9ydCBpc1N0cmluZyBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtaXMtc3RyaW5nL2luZGV4JztcbmltcG9ydCBub29wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1ub29wL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuaW1wb3J0IHV1aWQgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLXV1aWQvaW5kZXgnO1xuXG4vKipcbiMgVHlwZWFoZWFkXG5fX0ludGVsbGlnZW50bHkgcmVjb21tZW5kIGVudGl0aWVzIHZpYSBjdXN0b21pemFibGUsIGZ1enp5IHJlY29nbml0aW9uLl9fXG5cblR5cGVhaGVhZCBpcyBhbiBlbmhhbmNlbWVudCB1cG9uIFtJbnB1dF0oaHR0cHM6Ly9naXRodWIuY29tL2JpYmxpb3RlY2gvdWlraXQvdHJlZS9tYXN0ZXIvcGFja2FnZXMvYm91bmRsZXNzLWlucHV0KSB3aGljaCBwcm92aWRlcyB0d28gYnVpbHQtaW4gbWF0Y2hpbmcgYWxnb3JpdGhtcyAoXCJmdXp6eVwiIFxcW2RlZmF1bHRcXF0gYW5kIFwic3RhcnRzLXdpdGhcIikgYW5kIHN1cHBvcnRzIHRoZSB1c2Ugb2YgY3VzdG9tIG1hdGNoaW5nIGFuZCBtYXJraW5nIGZ1bmN0aW9ucy5cblxuSW4gdGhlIGV4YW1wbGVzIGJlbG93LCBpbWFnaW5lIHRoZSBgPD5gIGluIHRoZSBcIm1hcmtzXCIgc2VjdGlvbiBpcyBhIHdyYXBwaW5nIGA8bWFyaz5gIGVsZW1lbnQ6XG5cbjEuIF9fXCJTdGFydHMtd2l0aFwiIG1hdGNoaW5nICYgbWFya2luZ19fXG4gICBgYGBqc3hcbiAgIDxUeXBlYWhlYWRcbiAgICAgICBhbGdvcml0aG09e1R5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRIfVxuICAgICAgIGVudGl0aWVzPXtbXG4gICAgICAgICAgIHt0ZXh0OiAnYXBwbGUnfSxcbiAgICAgICAgICAge3RleHQ6ICdhcHJpY290J30sXG4gICAgICAgICAgIHt0ZXh0OiAnZ3JhcGUnfSxcbiAgICAgICBdfVxuICAgICAgIGlucHV0UHJvcHM9e3t2YWx1ZTogJ2EnfX0gLz5cbiAgIGBgYFxuXG4gICArIG1hdGNoZXM6IGBcImFwcGxlXCIsIFwiYXByaWNvdFwiYFxuICAgKyBtYXJrczogYFwiPGE+cHBsZVwiLCBcIjxhPnByaWNvdFwiYFxuXG4xLiBfX1wiRnV6enlcIiBtYXRjaGluZyAmIG1hcmtpbmdfX1xuICAgYGBganN4XG4gICA8VHlwZWFoZWFkXG4gICAgICAgYWxnb3JpdGhtPXtUeXBlYWhlYWQubW9kZS5GVVpaWX1cbiAgICAgICBlbnRpdGllcz17W1xuICAgICAgICAgICB7dGV4dDogJ2FwcGxlJ30sXG4gICAgICAgICAgIHt0ZXh0OiAnYXByaWNvdCd9LFxuICAgICAgICAgICB7dGV4dDogJ2dyYXBlJ30sXG4gICAgICAgXX1cbiAgICAgICBpbnB1dFByb3BzPXt7dmFsdWU6ICdhJ319IC8+XG4gICBgYGBcblxuICAgKyBtYXRjaGVzOiBgXCJhcHBsZVwiLCBcImFwcmljb3RcIiwgXCJncmFwZVwiYFxuICAgKyBtYXJrczogYFwiPGE+cHBsZVwiLCBcIjxhPnByaWNvdFwiLCBcImdyPGE+cGVcImBcblxuMS4gX19DdXN0b20gbWF0Y2hpbmcgJiBtYXJraW5nX19cblxuICAgIE9wdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSB5b3VyIG93biBjb21iaW5hdGlvbiBvZiBtYXRjaGluZyBhbmQgbWFya2luZyBmdW5jdGlvbnMuIEZvciBleGFtcGxlLCBsb29zZW5pbmcgdGhlIG1hdGNoaW5nIHRvIGluY2x1ZGUgdW5pY29kZSB2YXJpYW50cyBvZiBjaGFyYWN0ZXJzIGNvdWxkIGJlIHVzZWZ1bCwgZS5nLiDDpyAmcmFycjsgY1xuXG4gICAgYGBganN4XG4gICAgPFR5cGVhaGVhZFxuICAgICAgICBhbGdvcml0aG09e3tcbiAgICAgICAgICAgIG1hdGNoZXI6IHlvdXJNYXRjaEZ1bmMsXG4gICAgICAgICAgICBtYXJrZXI6IHlvdXJNYXJrRnVuYyxcbiAgICAgICAgfX0gLz5cbiAgICBgYGBcblxuIyMgQ29tcG9uZW50IEluc3RhbmNlIE1ldGhvZHNcblxuV2hlbiB1c2luZyBgVHlwZWFoZWFkYCBpbiB5b3VyIHByb2plY3QsIHlvdSBtYXkgY2FsbCB0aGUgZm9sbG93aW5nIG1ldGhvZHMgb24gYSByZW5kZXJlZCBpbnN0YW5jZSBvZiB0aGUgY29tcG9uZW50LiBVc2UgW2ByZWZzYF0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy9yZWZzLWFuZC10aGUtZG9tLmh0bWwpIHRvIGdldCB0aGUgaW5zdGFuY2UuXG5cbi0gX19gZm9jdXMoKWBfX1xuICBmb2N1c2VzIHRoZSBicm93c2VyIG9vbiB0aGUgdW5kZXJseWluZyB0ZXh0dWFsIGlucHV0IGZvciBpbW1lZGlhdGUgdGV4dCBlbnRyeVxuXG4tIF9fYGdldElucHV0Tm9kZSgpYF9fXG4gIHJldHVybnMgdGhlIHJhdyB1bmRlcmx5aW5nIHRleHR1YWwgaW5wdXQgRE9NIG5vZGVcblxuLSBfX2BnZXRTZWxlY3RlZEVudGl0eVRleHQoKWBfX1xuICByZXR1cm5zIHRoZSBgdGV4dGAgcHJvcGVydHkgb2YgdGhlIGN1cnJlbnRseSBoaWdobGlnaHRlZCBlbnRpdHkgKGZyb20gYHByb3BzLmVudGl0aWVzYCksIG9yIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nXG5cbi0gX19gZ2V0VmFsdWUoKWBfX1xuICByZXRyaWV2ZXMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dFxuXG4tIF9fYHNlbGVjdCgpYF9fXG4gIHByb2dyYW1tYXRpY2FsbHkgY3JlYXRlcyBhIGZ1bGwgc2VsZWN0aW9uIG9uIHRoZSB1bmRlcmx5aW5nIHRleHR1YWwgaW5wdXQgc3VjaCB0aGF0IGEgcHJlc3Mgb2YgdGhlIEJhY2tzcGFjZSBrZXkgd291bGQgZnVsbHkgY2xlYXIgdGhlIGlucHV0XG5cbi0gX19gc2V0VmFsdWUodmFsdWU6IHN0cmluZylgX19cbiAgc2V0cyB0aGUgdW5kZXJseWluZyB0ZXh0dWFsIGlucHV0IHRvIHRoZSBzcGVjaWZpZWQgdGV4dCBhbmQgdXBkYXRlcyBpbnRlcm5hbCBzdGF0ZTsgZG8gbm90IHVzZSB0aGlzIG1ldGhvZCB3aGVuIHVzaW5nIGBUeXBlYWhlYWRgIGFzIGEgXCJjb250cm9sbGVkIGlucHV0XCJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHlwZWFoZWFkIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIG1vZGUgPSB7XG4gICAgICAgICdTVEFSVFNfV0lUSCc6ICdTVEFSVFNfV0lUSCcsXG4gICAgICAgICdGVVpaWSc6ICdGVVpaWScsXG4gICAgfVxuXG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAgICAgLyoqIFR5cGVhaGVhZCBhY2NlcHRzIGFsbCBzdXBwb3J0ZWQgW0lucHV0IHByb3BzXSgvSW5wdXQjcHJvcHMpICovXG4gICAgICAgIC4uLklucHV0LnByb3BUeXBlcyxcblxuICAgICAgICAvKipcbiAgICAgICAgICAgIHRoZSBtZWNoYW5pc20gdXNlZCB0byBpZGVudGlmeSBhbmQgbWFyayBtYXRjaGluZyBzdWJzdHJpbmdzOyBhIGN1c3RvbSBzZXQgY2FuIGJlIHByb3ZpZGVkIGFzIGFuIG9iamVjdCAoc2VlIHRoZSBwcm9wZXJ0aWVzIGJlbG93KVxuICAgICAgICAgKi9cbiAgICAgICAgYWxnb3JpdGhtOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAgICAgICAgICAgVHlwZWFoZWFkLm1vZGUuU1RBUlRTX1dJVEgsXG4gICAgICAgICAgICAgICAgVHlwZWFoZWFkLm1vZGUuRlVaWlksXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIGZvcm1hdCB3aWxsIGJlIHdoYXQgc2hvd3MgdXAgaW4gdGhlIHR5cGVhaGVhZCBkcm9wZG93biBsaXN0IChKU1ggYXJyYXlzIGFyZSBhY2NlcHRlZCwgdGhlIGNvbXBvbmVudCB3aWxsIHByb3ZpZGUgdGhlIHdyYXBwZXIpXG5cbiAgICAgICAgICAgICAgICAgICAgYW4gZXhhbXBsZSBtYXJraW5nIGZ1bmN0aW9uOlxuXG4gICAgICAgICAgICAgICAgICAgIGBgYGpzXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0c1dpdGhNYXJraW5nRnVuYyhpbnB1dFRleHQsIGVudGl0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50aXR5Q29udGVudCA9IGVudGl0eS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vla1ZhbHVlID0gaW5wdXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4U3RhcnQgPSBlbnRpdHlDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihzZWVrVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXhFbmQgPSBpbmRleFN0YXJ0ICsgc2Vla1ZhbHVlLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBrZXk9J2JlZm9yZSc+e2VudGl0eUNvbnRlbnQuc2xpY2UoMCwgaW5kZXhTdGFydCl9PC9zcGFuPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bWFyayBrZXk9J21hcmsnPntlbnRpdHlDb250ZW50LnNsaWNlKGluZGV4U3RhcnQsIGluZGV4RW5kKX08L21hcms+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGtleT0nYWZ0ZXInPntlbnRpdHlDb250ZW50LnNsaWNlKGluZGV4RW5kKX08L3NwYW4+LFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBgYGBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBtYXJrZXI6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgICAgICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgICAgICAgICAgICAgUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVhaGVhZC5tb2RlLlNUQVJUU19XSVRILFxuICAgICAgICAgICAgICAgICAgICAgICAgVHlwZWFoZWFkLm1vZGUuRlVaWlksXG4gICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgIF0pLFxuXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIGZvcm1hdCBkZXRlcm1pbmVzIHdoaWNoIGVudGl0aWVzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBtYXJraW5nIGZ1bmN0aW9uXG5cbiAgICAgICAgICAgICAgICAgICAgYW4gZXhhbXBsZSBtYXRjaGluZyBmdW5jdGlvbjpcblxuICAgICAgICAgICAgICAgICAgICBgYGBqc1xuICAgICAgICAgICAgICAgICAgICBzdGFydHNXaXRoTWF0Y2hpbmdGdW5jKGlucHV0VGV4dCwgZW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlZWtWYWx1ZSA9IHVzZXJUZXh0LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbnRpdGllcy5yZWR1Y2UoZnVuY3Rpb24gc2Vla01hdGNoKHJlc3VsdHMsIGVudGl0eSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50aXR5LnRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlZWtWYWx1ZSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBgYGBcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBtYXRjaGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgICAgICAgICAgUHJvcFR5cGVzLmZ1bmMsXG4gICAgICAgICAgICAgICAgICAgIFByb3BUeXBlcy5vbmVPZihbXG4gICAgICAgICAgICAgICAgICAgICAgICBUeXBlYWhlYWQubW9kZS5TVEFSVFNfV0lUSCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFR5cGVhaGVhZC5tb2RlLkZVWlpZLFxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogaWYgYHRydWVgLCBjbGVhcnMgdGhlIGlucHV0IHRleHQgd2hlbiBhIChwYXJ0aWFsKSBtYXRjaCBpcyBzZWxlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXJPblNlbGVjdGlvbjogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFuIGFycmF5IG9mIG9iamVjdHMgdGhhdCB1c2VyIGlucHV0IGlzIGZpbHRlcmVkIGFnYWluc3Q7IGF0IGEgbWluaW11bSwgZWFjaCBvYmplY3QgbXVzdCBoYXZlIGEgYHRleHRgIHByb3BlcnR5IGFuZCBhbnkgb3RoZXIgc3VwcGxpZWQgcHJvcGVydHkgaXMgcGFzc2VkIHRocm91Z2ggdG8gdGhlIHJlc3VsdGluZyBET00gZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZW50aXRpZXM6IFByb3BUeXBlcy5hcnJheU9mKFxuICAgICAgICAgICAgUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiB0aGUgdGV4dCB0byBiZSB1c2VkIHRvIGRvIHN0cmluZyBjb21wYXJpc29uIGFuZCBtYXRjaCBhZ2FpbnN0XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGV4dDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmVuZGVycyBhIGRpc2FibGVkIHRleHRmaWVsZCB3aXRoIHRoZSBmdWxsIHRleHQgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpbnB1dCBoaW50OyB3aWxsIHJlbWFpbiBibGFuayBpZiB0aGUgbWF0Y2hlZCBzdWJzdHJpbmcgaXMgbm90IGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHVzZXIgaW5wdXRcbiAgICAgICAgICovXG4gICAgICAgIGhpbnQ6IFByb3BUeXBlcy5ib29sLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgW1JlYWN0LXN1cHBvcnRlZCBhdHRyaWJ1dGVdKGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdGFncy1hbmQtYXR0cmlidXRlcy5odG1sI2h0bWwtYXR0cmlidXRlcyk7IGFwcGxpZWQgdG8gdGhlIGAuYi10eXBlYWhlYWQtaGludGAgSFRNTCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBoaW50UHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFueSBbUmVhY3Qtc3VwcG9ydGVkIGF0dHJpYnV0ZV0oaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QvZG9jcy90YWdzLWFuZC1hdHRyaWJ1dGVzLmh0bWwjaHRtbC1hdHRyaWJ1dGVzKTsgYXBwbGllZCB0byB0aGUgYC5iLXR5cGVhaGVhZC1tYXRjaC13cmFwcGVyYCBIVE1MIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIG1hdGNoV3JhcHBlclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgXCJvZmZzY3JlZW5cIiBjbGFzcyB1c2VkIGJ5IHlvdXIgYXBwbGljYXRpb247IHNwZWNpZmljYWxseSB0byByZXRhaW4gW0FSSUEgbmF2aWdhYmlsaXR5XShodHRwOi8vc25vb2suY2EvYXJjaGl2ZXMvaHRtbF9hbmRfY3NzL2hpZGluZy1jb250ZW50LWZvci1hY2Nlc3NpYmlsaXR5KSBhcyBgZGlzcGxheTogbm9uZWAgZXhjbHVkZXMgdGhlIGVsZW1lbnQgZnJvbSBjb25zaWRlcmF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBvZmZzY3JlZW5DbGFzczogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2FsbGVkIHdoZW4gdGhlIHVzZXIgcHJlc3NlcyBgRW50ZXJgIHdpdGggbm8gYXV0b3N1Z2dlc3QgaGludCBhdmFpbGFibGUsIGluZGljYXRpbmcgdGhhdCBpbnB1dCBpcyBjb21wbGV0ZVxuICAgICAgICAgKi9cbiAgICAgICAgb25Db21wbGV0ZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNhbGxlZCB3aXRoIHRoZSBpbmRleCBvZiB0aGUgaGlnaGxpZ2h0ZWQgZW50aXR5IGR1ZSB0byBrZXlib2FyZCBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIG9uRW50aXR5SGlnaGxpZ2h0ZWQ6IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYWxsZWQgd2l0aCB0aGUgaW5kZXggb2YgdGhlIGVudGl0eSBzZWxlY3RlZCBieSB0aGUgdXNlclxuICAgICAgICAgKi9cbiAgICAgICAgb25FbnRpdHlTZWxlY3RlZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgfVxuXG4gICAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgLi4uSW5wdXQuZGVmYXVsdFByb3BzLFxuICAgICAgICBhbGdvcml0aG06IFR5cGVhaGVhZC5tb2RlLkZVWlpZLFxuICAgICAgICBjbGVhck9uU2VsZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgZW50aXRpZXM6IFtdLFxuICAgICAgICBoaW50OiBudWxsLFxuICAgICAgICBoaW50UHJvcHM6IHt9LFxuICAgICAgICBtYXRjaFdyYXBwZXJQcm9wczoge30sXG4gICAgICAgIG9mZnNjcmVlbkNsYXNzOiAnYi1vZmZzY3JlZW4nLFxuICAgICAgICBvbkNvbXBsZXRlOiBub29wLFxuICAgICAgICBvbkVudGl0eUhpZ2hsaWdodGVkOiBub29wLFxuICAgICAgICBvbkVudGl0eVNlbGVjdGVkOiBub29wLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhUeXBlYWhlYWQuZGVmYXVsdFByb3BzKVxuXG4gICAgc3RhdGUgPSB7XG4gICAgICAgIGVudGl0eU1hdGNoSW5kZXhlczogW10sXG4gICAgICAgIGlkOiB1dWlkKCksXG4gICAgICAgIGlzQ29udHJvbGxlZDogaXNTdHJpbmcodGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlKSxcbiAgICAgICAgaW5wdXQ6IHRoaXMucHJvcHMuaW5wdXRQcm9wcy52YWx1ZVxuICAgICAgICAgICAgICAgfHwgdGhpcy5wcm9wcy5pbnB1dFByb3BzLmRlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgfHwgJycsXG4gICAgICAgIHNlbGVjdGVkRW50aXR5SW5kZXg6IC0xLFxuICAgIH1cblxuICAgIG1vdW50ZWQgPSBmYWxzZVxuXG4gICAgdXBkYXRlSW5wdXRTdGF0ZSA9ICh2YWx1ZSA9ICcnKSA9PiB0aGlzLnNldFN0YXRlKHtpbnB1dDogdmFsdWV9KVxuXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5pbnB1dFByb3BzLnZhbHVlIHx8IHRoaXMucHJvcHMuaW5wdXRQcm9wcy5kZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZU1hdGNoZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkVudGl0eUhpZ2hsaWdodGVkKHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAobmV4dFByb3BzLmVudGl0aWVzICE9PSB0aGlzLnByb3BzLmVudGl0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXB1dGVNYXRjaGVzKG5leHRQcm9wcy5lbnRpdGllcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dFByb3BzLmlucHV0UHJvcHMudmFsdWUgIT09IHRoaXMucHJvcHMuaW5wdXRQcm9wcy52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dFN0YXRlKG5leHRQcm9wcy5pbnB1dFByb3BzLnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZU1hdGNoZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5lbnRpdHlNYXRjaEluZGV4ZXMubGVuZ3RoICYmICFwcmV2U3RhdGUuZW50aXR5TWF0Y2hJbmRleGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZWZzLm1hdGNoZXMuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgfSAvLyBmaXggYW4gb2RkIGJ1ZyBpbiBGRiB3aGVyZSBpdCBpbml0aWFsaXplcyB0aGUgZWxlbWVudCB3aXRoIGFuIGluY29ycmVjdCBzY3JvbGxUb3BcblxuICAgICAgICBpZiAoICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4ID49IDBcbiAgICAgICAgICAgICYmIHRoaXMucHJvcHMuZW50aXRpZXNbdGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4XSAhPT0gcHJldlByb3BzLmVudGl0aWVzW3ByZXZTdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4XSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkVudGl0eUhpZ2hsaWdodGVkKHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5tb3VudGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0ZWRFbnRpdHlUZXh0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLnByb3BzLmVudGl0aWVzW3RoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleF07XG5cbiAgICAgICAgcmV0dXJuIGVudGl0eSA/IGVudGl0eS50ZXh0IDogJyc7XG4gICAgfVxuXG4gICAgaGFuZGxlTWF0Y2hDbGljayhpbmRleCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtzZWxlY3RlZEVudGl0eUluZGV4OiBpbmRleH0sIHRoaXMuc2V0VmFsdWVXaXRoU2VsZWN0ZWRFbnRpdHkpO1xuICAgIH1cblxuICAgIHNlbGVjdE1hdGNoKGRlbHRhKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0aGlzLnN0YXRlLmVudGl0eU1hdGNoSW5kZXhlcztcbiAgICAgICAgY29uc3QgdG90YWxNYXRjaGVzID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgIGxldCBuZXh0SW5kZXggPSBtYXRjaGVzLmluZGV4T2YodGhpcy5zdGF0ZS5zZWxlY3RlZEVudGl0eUluZGV4KSArIGRlbHRhO1xuXG4gICAgICAgIGlmICh0b3RhbE1hdGNoZXMpIHtcbiAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gdG90YWxNYXRjaGVzIC0gMTsgLy8gcmV2ZXJzZSBsb29wXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRJbmRleCA+PSB0b3RhbE1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSAwOyAvLyBsb29wXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoSW5kZXggPSBtYXRjaGVzW25leHRJbmRleF07XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVzTm9kZSA9IHRoaXMucmVmcy5tYXRjaGVzO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlc05vZGVZRW5kID0gbWF0Y2hlc05vZGUuc2Nyb2xsVG9wICsgbWF0Y2hlc05vZGUuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hOb2RlID0gdGhpcy5yZWZzW2BtYXRjaF8kJHttYXRjaEluZGV4fWBdO1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hOb2RlWVN0YXJ0ID0gbWF0Y2hOb2RlLm9mZnNldFRvcDtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoTm9kZVlFbmQgPSBtYXRjaE5vZGVZU3RhcnQgKyBtYXRjaE5vZGUuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBicmluZyBpbnRvIHZpZXcgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgICBpZiAobWF0Y2hOb2RlWUVuZCA+PSBtYXRjaGVzTm9kZVlFbmQpIHsgLy8gYmVsb3dcbiAgICAgICAgICAgICAgICBtYXRjaGVzTm9kZS5zY3JvbGxUb3AgKz0gbWF0Y2hOb2RlWUVuZCAtIG1hdGNoZXNOb2RlWUVuZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hOb2RlWVN0YXJ0IDw9IG1hdGNoZXNOb2RlLnNjcm9sbFRvcCkgeyAvLyBhYm92ZVxuICAgICAgICAgICAgICAgIG1hdGNoZXNOb2RlLnNjcm9sbFRvcCA9IG1hdGNoTm9kZVlTdGFydDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7c2VsZWN0ZWRFbnRpdHlJbmRleDogbWF0Y2hJbmRleH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRNYXRjaGVzID0gKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5tb3VudGVkKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEVudGl0eUluZGV4OiAtMSxcbiAgICAgICAgICAgICAgICBlbnRpdHlNYXRjaEluZGV4ZXM6IFtdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRJbnB1dE5vZGUgPSAoKSA9PiB0aGlzLnJlZnMuaW5wdXQucmVmcy5maWVsZFxuXG4gICAgc2VsZWN0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMuZ2V0SW5wdXROb2RlKCk7XG5cbiAgICAgICAgaW5wdXQuc2VsZWN0aW9uU3RhcnQgPSAwO1xuICAgICAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSB0aGlzLmdldFZhbHVlKCkubGVuZ3RoO1xuICAgIH1cblxuICAgIGZvY3VzID0gKCkgPT4gdGhpcy5nZXRJbnB1dE5vZGUoKS5mb2N1cygpXG4gICAgZ2V0VmFsdWUgPSAoKSA9PiB0aGlzLnJlZnMuaW5wdXQuZ2V0VmFsdWUoKVxuXG4gICAgc2V0VmFsdWUgPSAodmFsdWUgPSAnJykgPT4ge1xuICAgICAgICB0aGlzLnJlZnMuaW5wdXQuc2V0VmFsdWUodmFsdWUpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlSW5wdXRTdGF0ZSh2YWx1ZSk7XG4gICAgICAgIHRoaXMucmVzZXRNYXRjaGVzKCk7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICB9XG5cbiAgICBjdXJzb3JBdEVuZE9mSW5wdXQoKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmdldElucHV0Tm9kZSgpO1xuXG4gICAgICAgIHJldHVybiAgICBub2RlLnNlbGVjdGlvblN0YXJ0ID09PSBub2RlLnNlbGVjdGlvbkVuZFxuICAgICAgICAgICAgICAgJiYgbm9kZS5zZWxlY3Rpb25FbmQgPT09IHRoaXMuZ2V0VmFsdWUoKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgc2V0VmFsdWVXaXRoU2VsZWN0ZWRFbnRpdHkgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25FbnRpdHlTZWxlY3RlZCh0aGlzLnN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXgpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmNsZWFyT25TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoJycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZSh0aGlzLmdldFNlbGVjdGVkRW50aXR5VGV4dCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5lZWRzIHRvIGhhcHBlbiBhZnRlciB0aGUgdXBjb21pbmcgcmVuZGVyIHRoYXQgd2lsbCBiZSB0cmlnZ2VyZWQgYnkgYHNldFZhbHVlYFxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnJlc2V0TWF0Y2hlcywgMCk7XG4gICAgfVxuXG4gICAgbWFya0Z1enp5TWF0Y2hTdWJzdHJpbmcoaW5wdXQsIGVudGl0eSkge1xuICAgICAgICBjb25zdCBlbnRpdHlDb250ZW50ID0gZW50aXR5LnRleHQ7XG4gICAgICAgIGNvbnN0IGZyYWdzID0gZW50aXR5Q29udGVudC5zcGxpdChuZXcgUmVnRXhwKCcoJyArIGVzY2FwZXIoaW5wdXQpICsgJyknLCAnaWcnKSk7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRVc2VyVGV4dCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IGZyYWdzLmxlbmd0aDtcbiAgICAgICAgbGV0IGkgPSAtMTtcblxuICAgICAgICB3aGlsZSAoKytpIDwgdGhyZXNob2xkKSB7XG4gICAgICAgICAgICBpZiAoZnJhZ3NbaV0udG9Mb3dlckNhc2UoKSA9PT0gbm9ybWFsaXplZFVzZXJUZXh0KSB7XG4gICAgICAgICAgICAgICAgZnJhZ3NbaV0gPSA8bWFyayBrZXk9e2l9IGNsYXNzTmFtZT0nYi10eXBlYWhlYWQtbWF0Y2gtaGlnaGxpZ2h0Jz57ZnJhZ3NbaV19PC9tYXJrPjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmcmFncztcbiAgICB9XG5cbiAgICBtYXJrU3RhcnRzV2l0aE1hdGNoU3Vic3RyaW5nKGlucHV0LCBlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgZW50aXR5Q29udGVudCA9IGVudGl0eS50ZXh0O1xuICAgICAgICBjb25zdCBzZWVrVmFsdWUgPSBpbnB1dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBpbmRleFN0YXJ0ID0gZW50aXR5Q29udGVudC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yoc2Vla1ZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5kZXhFbmQgPSBpbmRleFN0YXJ0ICsgc2Vla1ZhbHVlLmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgPHNwYW4ga2V5PScwJz57ZW50aXR5Q29udGVudC5zbGljZSgwLCBpbmRleFN0YXJ0KX08L3NwYW4+LFxuICAgICAgICAgICAgPG1hcmsga2V5PScxJyBjbGFzc05hbWU9J2ItdHlwZWFoZWFkLW1hdGNoLWhpZ2hsaWdodCc+e2VudGl0eUNvbnRlbnQuc2xpY2UoaW5kZXhTdGFydCwgaW5kZXhFbmQpfTwvbWFyaz4sXG4gICAgICAgICAgICA8c3BhbiBrZXk9JzInPntlbnRpdHlDb250ZW50LnNsaWNlKGluZGV4RW5kKX08L3NwYW4+LFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldE1hcmtpbmdGdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHRoaXMucHJvcHMuYWxnb3JpdGhtKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuYWxnb3JpdGhtID09PSBUeXBlYWhlYWQubW9kZS5TVEFSVFNfV0lUSCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcmtTdGFydHNXaXRoTWF0Y2hTdWJzdHJpbmc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcmtGdXp6eU1hdGNoU3Vic3RyaW5nO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmFsZ29yaXRobS5tYXJrZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5hbGdvcml0aG0ubWFya2VyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMud2FybmVkTWFya2VyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud2FybmVkTWFya2VyID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVHlwZWFoZWFkOiBubyBgcHJvcHMuYWxnb3JpdGhtLm1hcmtlcmAgd2FzIHByb3ZpZGVkOyBmYWxsaW5nIGJhY2sgdG8gdGhlIGRlZmF1bHQgbWFya2luZyBhbGdvcml0aG0gKEZVWlpZKS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLm1hcmtGdXp6eU1hdGNoU3Vic3RyaW5nO1xuICAgIH1cblxuICAgIG1hcmtNYXRjaFN1YnN0cmluZyA9ICguLi5hcmdzKSA9PiB0aGlzLmdldE1hcmtpbmdGdW5jdGlvbigpKC4uLmFyZ3MpXG5cbiAgICBnZXRGdXp6eU1hdGNoSW5kZXhlcyh1c2VyVGV4dCwgZW50aXRpZXMpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IHVzZXJUZXh0LnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgcmV0dXJuIGVudGl0aWVzLnJlZHVjZShmdW5jdGlvbiBmaW5kSW5kZXhlcyhyZXN1bHQsIGVudGl0eSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiAgIGVudGl0eS50ZXh0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihub3JtYWxpemVkKSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICA/IChyZXN1bHQucHVzaChpbmRleCkgJiYgcmVzdWx0KVxuICAgICAgICAgICAgICAgICAgIDogcmVzdWx0O1xuICAgICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgZ2V0U3RhcnRzV2l0aE1hdGNoSW5kZXhlcyh1c2VyVGV4dCwgZW50aXRpZXMpIHtcbiAgICAgICAgY29uc3Qgc2Vla1ZhbHVlID0gdXNlclRleHQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICByZXR1cm4gZW50aXRpZXMucmVkdWNlKGZ1bmN0aW9uIHNlZWtNYXRjaChyZXN1bHRzLCBlbnRpdHksIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoZW50aXR5LnRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlZWtWYWx1ZSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcblxuICAgICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgZ2V0TWF0Y2hpbmdGdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGlzU3RyaW5nKHRoaXMucHJvcHMuYWxnb3JpdGhtKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuYWxnb3JpdGhtID09PSBUeXBlYWhlYWQubW9kZS5TVEFSVFNfV0lUSCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0YXJ0c1dpdGhNYXRjaEluZGV4ZXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZ1enp5TWF0Y2hJbmRleGVzO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmFsZ29yaXRobS5tYXRjaGVyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYWxnb3JpdGhtLm1hdGNoZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy53YXJuZWRNYXRjaGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMud2FybmVkTWF0Y2hlciA9IHRydWU7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1R5cGVhaGVhZDogbm8gYHByb3BzLmFsZ29yaXRobS5tYXRjaGVyYCB3YXMgcHJvdmlkZWQ7IGZhbGxpbmcgYmFjayB0byB0aGUgZGVmYXVsdCBtYXRjaGluZyBhbGdvcml0aG0gKEZVWlpZKS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmdldEZ1enp5TWF0Y2hJbmRleGVzO1xuICAgIH1cblxuICAgIGdldE1hdGNoSW5kZXhlcyA9ICguLi5hcmdzKSA9PiB0aGlzLmdldE1hdGNoaW5nRnVuY3Rpb24oKSguLi5hcmdzKVxuXG4gICAgY29tcHV0ZU1hdGNoZXMocHJvdmlkZWRFbnRpdGllcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKChzdGF0ZSwgcHJvcHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0aWVzID0gcHJvdmlkZWRFbnRpdGllcyB8fCBwcm9wcy5lbnRpdGllcztcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IHN0YXRlLmlucHV0O1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlcyA9IGN1cnJlbnRWYWx1ZSA9PT0gJycgPyBbXSA6IHRoaXMuZ2V0TWF0Y2hJbmRleGVzKGN1cnJlbnRWYWx1ZSwgZW50aXRpZXMpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkRW50aXR5SW5kZXg6IG1hdGNoZXMubGVuZ3RoID8gbWF0Y2hlc1swXSA6IC0xLFxuICAgICAgICAgICAgICAgIGVudGl0eU1hdGNoSW5kZXhlczogbWF0Y2hlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5pc0NvbnRyb2xsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUlucHV0U3RhdGUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuY29tcHV0ZU1hdGNoZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkNoYW5nZSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkNoYW5nZShldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7XG4gICAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0ID4gMSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdUYWInOlxuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICAgIGlmICggICB0aGlzLnN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXggIT09IC0xXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5jdXJzb3JBdEVuZE9mSW5wdXQoKVxuICAgICAgICAgICAgICAgICYmIHRoaXMuZ2V0SW5wdXROb2RlKCkgPT09IGV2ZW50LnRhcmdldFxuICAgICAgICAgICAgICAgICYmICFldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGV2ZW50Lm5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYWx1ZVdpdGhTZWxlY3RlZEVudGl0eSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgIGV2ZW50Lm5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIGJsb2NrIGN1cnNvciBtb3ZlbWVudFxuICAgICAgICAgICAgdGhpcy5zZWxlY3RNYXRjaCgtMSk7XG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgICAgZXZlbnQubmF0aXZlRXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gYmxvY2sgY3Vyc29yIG1vdmVtZW50XG4gICAgICAgICAgICB0aGlzLnNlbGVjdE1hdGNoKDEpO1xuICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgICAgIGlmICggICB0aGlzLnN0YXRlLnNlbGVjdGVkRW50aXR5SW5kZXggIT09IC0xXG4gICAgICAgICAgICAgICAgJiYgdGhpcy5nZXRJbnB1dE5vZGUoKSA9PT0gZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICAgICAgaWYgKCAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCAhPT0gLTFcbiAgICAgICAgICAgICAgICAmJiB0aGlzLmdldElucHV0Tm9kZSgpID09PSBldmVudC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5uYXRpdmVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWVXaXRoU2VsZWN0ZWRFbnRpdHkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkNvbXBsZXRlKHRoaXMuc3RhdGUuaW5wdXQsIGV2ZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLm9uS2V5RG93bikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25LZXlEb3duKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlck5vdGlmaWNhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICByZWY9J2FyaWEnXG4gICAgICAgICAgICAgICAgaWQ9e3RoaXMuc3RhdGUuaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnByb3BzLm9mZnNjcmVlbkNsYXNzfVxuICAgICAgICAgICAgICAgIGFyaWEtbGl2ZT0ncG9saXRlJz5cbiAgICAgICAgICAgICAgICB7dGhpcy5nZXRTZWxlY3RlZEVudGl0eVRleHQoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlbmRlckhpbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLmhpbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJUZXh0ID0gdGhpcy5zdGF0ZS5pbnB1dDtcbiAgICAgICAgICAgIGNvbnN0IHJhdyA9IHRoaXMuZ2V0U2VsZWN0ZWRFbnRpdHlUZXh0KCk7XG4gICAgICAgICAgICBsZXQgcHJvY2Vzc2VkID0gJyc7XG5cbiAgICAgICAgICAgIGlmICggICByYXdcbiAgICAgICAgICAgICAgICAmJiByYXcudG9Mb3dlckNhc2UoKS5pbmRleE9mKHVzZXJUZXh0LnRvTG93ZXJDYXNlKCkpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkID0gcmF3LnJlcGxhY2UobmV3IFJlZ0V4cCh1c2VyVGV4dCwgJ2knKSwgdXNlclRleHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgey4uLnRoaXMucHJvcHMuaGludFByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2hpbnQnXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goXG4gICAgICAgICAgICAgICAgICAgICAgICAnYi1pbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYi1pbnB1dC1wbGFjZWhvbGRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYi10eXBlYWhlYWQtaGludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmhpbnRQcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PSctMSc+XG4gICAgICAgICAgICAgICAgICAgIHtwcm9jZXNzZWR9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyTWF0Y2hlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuZW50aXR5TWF0Y2hJbmRleGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BzLm1hdGNoV3JhcHBlclByb3BzO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICAgICAgICByZWY9J21hdGNoZXMnXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItdHlwZWFoZWFkLW1hdGNoLXdyYXBwZXInLCBwcm9wcy5jbGFzc05hbWUpfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZW50aXR5TWF0Y2hJbmRleGVzLm1hcCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMucHJvcHMuZW50aXRpZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qge2NsYXNzTmFtZSwgdGV4dCwgLi4ucmVzdH0gPSBlbnRpdHk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Li4ucmVzdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtgbWF0Y2hfJCR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjeCgnYi10eXBlYWhlYWQtbWF0Y2gnLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiLXR5cGVhaGVhZC1tYXRjaC1zZWxlY3RlZCc6IHRoaXMuc3RhdGUuc2VsZWN0ZWRFbnRpdHlJbmRleCA9PT0gaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3RleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlTWF0Y2hDbGljay5iaW5kKHRoaXMsIGluZGV4KX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLm1hcmtNYXRjaFN1YnN0cmluZyh0aGlzLnN0YXRlLmlucHV0LCBlbnRpdHkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7cHJvcHMsIHN0YXRlfSA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICB7Li4ub21pdChwcm9wcywgVHlwZWFoZWFkLmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgcmVmPSd3cmFwcGVyJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItdHlwZWFoZWFkLXdyYXBwZXInLCBwcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXlEb3dufT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJOb3RpZmljYXRpb24oKX1cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJIaW50KCl9XG5cbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgey4uLmV4dHJhY3RDaGlsZFByb3BzKHByb3BzLCBJbnB1dC5kZWZhdWx0UHJvcHMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9J2lucHV0J1xuICAgICAgICAgICAgICAgICAgICBhcmlhLWNvbnRyb2xzPXtzdGF0ZS5pZH1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHMuaW5wdXRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY3goJ2ItdHlwZWFoZWFkJywgcHJvcHMuaW5wdXRQcm9wcy5jbGFzc05hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IHRoaXMuaGFuZGxlQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICB9fSAvPlxuXG4gICAgICAgICAgICAgICAge3RoaXMucmVuZGVyTWF0Y2hlcygpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3ggZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmltcG9ydCBUeXBlYWhlYWQgZnJvbSAnLi4vYm91bmRsZXNzLXR5cGVhaGVhZC9pbmRleCc7XG5pbXBvcnQgZXh0cmFjdENoaWxkUHJvcHMgZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLW9iamVjdC1pbnRlcnNlY3Rpb24vaW5kZXgnO1xuaW1wb3J0IGlzRnVuY3Rpb24gZnJvbSAnLi4vYm91bmRsZXNzLXV0aWxzLWlzLWZ1bmN0aW9uL2luZGV4JztcbmltcG9ydCBub29wIGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1ub29wL2luZGV4JztcbmltcG9ydCBvbWl0IGZyb20gJy4uL2JvdW5kbGVzcy11dGlscy1vbWl0LWtleXMvaW5kZXgnO1xuXG5jb25zdCBmaXJzdCA9IChhcnJheSkgPT4gYXJyYXlbMF07XG5jb25zdCBsYXN0ID0gKGFycmF5KSA9PiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcblxuLyoqXG4jIFRva2VuaXplZElucHV0XG5fX0Rpc3RpbGwgcmljaCBlbnRpdHkgZGF0YSBtYXRjaGVkIHZpYSB0eXBlYWhlYWQgaW5wdXQgaW50byBzaW1wbGUgdmlzdWFsIGFic3RyYWN0aW9ucy5fX1xuXG5CYXNpYyB1c2FnZSBvZiB0aGlzIGNvbXBvbmVudCBpcyBpZGVudGljYWwgdG8gdGhhdCBvZiBbVHlwZWFoZWFkXShodHRwczovL2dpdGh1Yi5jb20vYmlibGlvdGVjaC91aWtpdC90cmVlL21hc3Rlci9wYWNrYWdlcy9ib3VuZGxlc3MtdHlwZWFoZWFkKS4gQWRkaXRpb25hbCBwcm9wcyBhcmUgYXZhaWxhYmxlIHRvIHRha2UgYWR2YW50YWdlIG9mIHRoZSB0b2tlbml6YXRpb24gZnVuY3Rpb25hbGl0eS5cblxuIyMgQ29tcG9uZW50IEluc3RhbmNlIE1ldGhvZHNcblxuV2hlbiB1c2luZyBgVG9rZW5pemVkSW5wdXRgIGluIHlvdXIgcHJvamVjdCwgeW91IG1heSBjYWxsIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyBvbiBhIHJlbmRlcmVkIGluc3RhbmNlIG9mIHRoZSBjb21wb25lbnQuIFVzZSBbYHJlZnNgXShodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3JlZnMtYW5kLXRoZS1kb20uaHRtbCkgdG8gZ2V0IHRoZSBpbnN0YW5jZS5cblxuLSBfX2BhZGQoaW5kZXg6IG51bWJlcilgX19cbiAgcHJvZ3JhbW1hdGljYWxseSBjcmVhdGVzIGEgdG9rZW4gZm9yIGBwcm9wcy5lbnRpdGllc1tpbmRleF1gOyBgcHJvcHMuaGFuZGxlQWRkVG9rZW5gIHdpbGwgYmUgY2FsbGVkIGFzIGEgaGludCB0byBwZXJzaXN0IHRoZSBjaGFuZ2UgaW4geW91ciBjb250cm9sbGVyIHZpZXcgb3Igb3RoZXIgYXBwbGljYXRpb24gc3RhdGVcblxuLSBfX2Bmb2N1cygpYF9fXG4gIGZvY3VzZXMgdGhlIGJyb3dzZXIgb29uIHRoZSB1bmRlcmx5aW5nIHRleHR1YWwgaW5wdXQgZm9yIGltbWVkaWF0ZSB0ZXh0IGVudHJ5XG5cbi0gX19gZ2V0SW5wdXROb2RlKClgX19cbiAgcmV0dXJucyB0aGUgcmF3IHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dCBET00gbm9kZVxuXG4tIF9fYGdldFNlbGVjdGVkRW50aXR5VGV4dCgpYF9fXG4gIHJldHVybnMgdGhlIGB0ZXh0YCBwcm9wZXJ0eSBvZiB0aGUgY3VycmVudGx5IGhpZ2hsaWdodGVkIGVudGl0eSAoZnJvbSBgcHJvcHMuZW50aXRpZXNgKSwgb3IgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmdcblxuLSBfX2BnZXRWYWx1ZSgpYF9fXG4gIHJldHJpZXZlcyB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgdW5kZXJseWluZyB0ZXh0dWFsIGlucHV0XG5cbi0gX19gcmVtb3ZlKGluZGV4OiBudW1iZXIpYF9fXG4gIHByb2dyYW1tYXRpY2FsbHkgcmVtb3ZlcyB0aGUgdG9rZW4gZm9yIGBwcm9wcy5lbnRpdGllc1tpbmRleF1gOyBgcHJvcHMuaGFuZGxlUmVtb3ZlVG9rZW5zYCB3aWxsIGJlIGNhbGxlZCBhcyBhIGhpbnQgdG8gcGVyc2lzdCB0aGUgY2hhbmdlIGluIHlvdXIgY29udHJvbGxlciB2aWV3IG9yIG90aGVyIGFwcGxpY2F0aW9uIHN0YXRlXG5cbi0gX19gc2VsZWN0KClgX19cbiAgcHJvZ3JhbW1hdGljYWxseSBjcmVhdGVzIGEgZnVsbCBzZWxlY3Rpb24gb24gdGhlIHVuZGVybHlpbmcgdGV4dHVhbCBpbnB1dCBzdWNoIHRoYXQgYSBwcmVzcyBvZiB0aGUgQmFja3NwYWNlIGtleSB3b3VsZCBmdWxseSBjbGVhciB0aGUgaW5wdXRcblxuLSBfX2BzZXRWYWx1ZSh2YWx1ZTogc3RyaW5nKWBfX1xuICBzZXRzIHRoZSB1bmRlcmx5aW5nIHRleHR1YWwgaW5wdXQgdG8gdGhlIHNwZWNpZmllZCB0ZXh0IGFuZCB1cGRhdGVzIGludGVybmFsIHN0YXRlOyBkbyBub3QgdXNlIHRoaXMgbWV0aG9kIHdoZW4gdXNpbmcgYFR5cGVhaGVhZGAgYXMgYSBcImNvbnRyb2xsZWQgaW5wdXRcIlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2tlbml6ZWRJbnB1dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKiBUb2tlbml6ZWRJbnB1dCBhY2NlcHRzIGFsbCBbYFR5cGVhaGVhZGBdKC9UeXBlYWhlYWQjcHJvcHMpIGFuZCBbYElucHV0YF0oL0lucHV0I3Byb3BzKSBwcm9wcyAqL1xuICAgICAgICAuLi5UeXBlYWhlYWQucHJvcFR5cGVzLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmdW5jdGlvbiBoYW5kbGVyIHRoYXQgaXMgY2FsbGVkIHdoZW4gYW4gZW50aXR5IGlzIHNlbGVjdGVkIGJ5IHRoZSB1c2VyIGFuZCBhIHRva2VuIHNob3VsZCBiZSBjcmVhdGVkXG4gICAgICAgICAqL1xuICAgICAgICBoYW5kbGVBZGRUb2tlbjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZ1bmN0aW9uIGhhbmRsZXIgdGhhdCBpcyBjYWxsZWQgd2hlbiBvbmUgb3IgbW9yZSB0b2tlbnMgYXJlIHJlbW92ZWQgYnkgdGhlIHVzZXIgdmlhIGNsaWNraW5nIHRoZSBcImNsb3NlXCIgYnV0dG9uIG9yIHByZXNzaW5nIHRoZSBgQmFja3NwYWNlYCBrZXkgd2hpbGUgdG9rZW5zIGFyZSBzZWxlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgaGFuZGxlUmVtb3ZlVG9rZW5zOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZnVuY3Rpb24gaGFuZGxlciB0aGF0IGlzIGNhbGxlZCB3aGVuIG9uZSBvciBtb3JlIHRva2VucyBhcmUgc2VsZWN0ZWQgYnkgdGhlIHVzZXIgdmlhIGNsaWNrIG9yIGtleWJvYXJkIGFjdGlvbnM7IGNhbGxlZCB3aXRoIHdoYXQgdGhlIG5ldyBzZWxlY3Rpb24gc2hvdWxkIGJlXG4gICAgICAgICAqL1xuICAgICAgICBoYW5kbGVOZXdTZWxlY3Rpb246IFByb3BUeXBlcy5mdW5jLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgSlNYIHVzZWQgZm9yIHRoZSBjbG9zZSBidXR0b24gaXRzZWxmXG4gICAgICAgICAqL1xuICAgICAgICB0b2tlbkNsb3NlQ29tcG9uZW50OiBQcm9wVHlwZXMuZWxlbWVudCxcblxuICAgICAgICAvKipcbiAgICAgICAgICogZGV0ZXJtaW5lcyBpZiB0aGUgYC5iLXRva2VuZmllbGQtdG9rZW4tY2xvc2VgIGVsZW1lbnQgc2hvdWxkIGJlIHJlbmRlcmVkIGZvciBlYWNoIHRva2VuXG4gICAgICAgICAqL1xuICAgICAgICB0b2tlbkNsb3NlVmlzaWJsZTogUHJvcFR5cGVzLmJvb2wsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBpbmRleGVzIG9mIGVudGl0aWVzIHRoYXQgc2hvdWxkIGJlIHJlbmRlcmVkIGFzIFwidG9rZW5zXCIgaW4gdGhlIGNvbXBvbmVudCBVSVxuICAgICAgICAgKi9cbiAgICAgICAgdG9rZW5zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIGluZGV4ZXMgb2YgdG9rZW5pemVkIGVudGl0aWVzIHRoYXQgYXJlIHBhcnQgb2YgYW4gYWN0aXZlIHNlbGVjdGlvbjsgdGhlIHVzZXIgY2FuIHByZXNzIGBCYWNrc3BhY2VgIHRvIHRyaWdnZXIgYGhhbmRsZVJlbW92ZVRva2Vuc2BcbiAgICAgICAgICovXG4gICAgICAgIHRva2Vuc1NlbGVjdGVkOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMubnVtYmVyKSxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5UeXBlYWhlYWQuZGVmYXVsdFByb3BzLFxuICAgICAgICBoYW5kbGVBZGRUb2tlbjogbm9vcCxcbiAgICAgICAgaGFuZGxlUmVtb3ZlVG9rZW5zOiBub29wLFxuICAgICAgICBoYW5kbGVOZXdTZWxlY3Rpb246IG5vb3AsXG4gICAgICAgIHRva2VuQ2xvc2VDb21wb25lbnQ6ICg8ZGl2Plg8L2Rpdj4pLFxuICAgICAgICB0b2tlbkNsb3NlVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgdG9rZW5zOiBbXSxcbiAgICAgICAgdG9rZW5zU2VsZWN0ZWQ6IFtdLFxuICAgIH1cblxuICAgIHN0YXRpYyBpbnRlcm5hbEtleXMgPSBPYmplY3Qua2V5cyhUb2tlbml6ZWRJbnB1dC5kZWZhdWx0UHJvcHMpXG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzU2VsZWN0ZWRJbmRleGVzID0gcHJldlByb3BzLnRva2Vuc1NlbGVjdGVkO1xuICAgICAgICBjb25zdCBjdXJyZW50U2VsZWN0ZWRJbmRleGVzID0gdGhpcy5wcm9wcy50b2tlbnNTZWxlY3RlZDtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy50b2tlbnMubGVuZ3RoID4gcHJldlByb3BzLnRva2Vucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUoJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3N1cHByZXNzTmV4dFRva2VuU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc05leHRUb2tlblNlbGVjdGlvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoICAgcHJldmlvdXNTZWxlY3RlZEluZGV4ZXMgIT09IGN1cnJlbnRTZWxlY3RlZEluZGV4ZXNcbiAgICAgICAgICAgICYmIGN1cnJlbnRTZWxlY3RlZEluZGV4ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBpZiAoICAgY3VycmVudFNlbGVjdGVkSW5kZXhlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICAgICAgICAgICAgfHwgY3VycmVudFNlbGVjdGVkSW5kZXhlc1swXSAhPT0gcHJldmlvdXNTZWxlY3RlZEluZGV4ZXNbMF0gLyogbXVsdGkgc2VsZWN0aW9uLCBsZWZ0d2FyZCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZnNbYHRva2VuXyR7Y3VycmVudFNlbGVjdGVkSW5kZXhlc1swXX1gXS5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsYXN0KGN1cnJlbnRTZWxlY3RlZEluZGV4ZXMpICE9PSBsYXN0KHByZXZpb3VzU2VsZWN0ZWRJbmRleGVzKSAvKiBtdWx0aSBzZWxlY3Rpb24sIHJpZ2h0d2FyZCAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZnNbYHRva2VuXyR7bGFzdChjdXJyZW50U2VsZWN0ZWRJbmRleGVzKX1gXS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlZnNbYHRva2VuXyR7Y3VycmVudFNlbGVjdGVkSW5kZXhlc1swXX1gXS5mb2N1cygpO1xuICAgICAgICB9IC8vIG1vdmUgZm9jdXNcbiAgICB9XG5cbiAgICAvLyBwYXNzdGhyb3VnaHMgdG8gVHlwZWFoZWFkIGluc3RhbmNlIG1ldGhvZHNcbiAgICBmb2N1cyA9ICgpID0+IHRoaXMucmVmcy50eXBlYWhlYWQuZm9jdXMoKVxuICAgIGdldElucHV0Tm9kZSA9ICgpID0+IHRoaXMucmVmcy50eXBlYWhlYWQuZ2V0SW5wdXROb2RlKClcbiAgICBnZXRTZWxlY3RlZEVudGl0eVRleHQgPSAoKSA9PiB0aGlzLnJlZnMudHlwZWFoZWFkLmdldFNlbGVjdGVkRW50aXR5VGV4dCgpXG4gICAgZ2V0VmFsdWUgPSAoKSA9PiB0aGlzLnJlZnMudHlwZWFoZWFkLmdldFZhbHVlKClcbiAgICBzZWxlY3QgPSAoKSA9PiB0aGlzLnJlZnMudHlwZWFoZWFkLnNlbGVjdCgpXG4gICAgc2V0VmFsdWUgPSAodmFsdWUpID0+IHRoaXMucmVmcy50eXBlYWhlYWQuc2V0VmFsdWUodmFsdWUpXG5cbiAgICBhZGQgPSAoaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudG9rZW5zLmluZGV4T2YoaW5kZXgpID09PSAtMSkgeyB0aGlzLnByb3BzLmhhbmRsZUFkZFRva2VuKGluZGV4KTsgfVxuICAgIH1cblxuICAgIHJlbW92ZShpbmRleCkge1xuICAgICAgICBjb25zdCBpbmRleGVzID0gKEFycmF5LmlzQXJyYXkoaW5kZXgpID8gaW5kZXggOiBbaW5kZXhdKS5maWx0ZXIoKGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMudG9rZW5zLmluZGV4T2YoaWR4KSAhPT0gLTE7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpbmRleGVzLmxlbmd0aCkgeyB0aGlzLnByb3BzLmhhbmRsZVJlbW92ZVRva2VucyhpbmRleGVzKTsgfVxuICAgIH1cblxuICAgIHNlbGVjdFRva2VuKGluZGV4KSB7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlTmV3U2VsZWN0aW9uKFtpbmRleF0pO1xuICAgIH1cblxuICAgIHNlbGVjdFRva2VucyhpbmRleGVzKSB7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlTmV3U2VsZWN0aW9uKGluZGV4ZXMpO1xuICAgIH1cblxuICAgIHNlbGVjdFByZXZpb3VzVG9rZW4oYXBwZW5kKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5wcm9wcy50b2tlbnNTZWxlY3RlZDtcbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IHRoaXMucHJvcHMudG9rZW5zO1xuXG4gICAgICAgIGlmICggICBzZWxlY3RlZC5sZW5ndGggPT09IDFcbiAgICAgICAgICAgICYmIGZpcnN0KHNlbGVjdGVkKSA9PT0gZmlyc3QoaW5kZXhlcykpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gYWxyZWFkeSBhdCBsZWZ0bW9zdCBib3VuZFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGVjdGVkLmxlbmd0aCA9PT0gMCkgeyAvLyBwaWNrIHRoZSByaWdodG1vc3RcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VG9rZW4obGFzdChpbmRleGVzKSk7XG4gICAgICAgIH0gZWxzZSB7IC8vIGFkZCB0aGUgbmV4dCBsZWZ0bW9zdCB0byBhIHJlY29uc3RydWN0ZWQgXCJzZWxlY3RlZFwiIGFycmF5XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1Rva2VuID0gaW5kZXhlc1tpbmRleGVzLmluZGV4T2YoZmlyc3Qoc2VsZWN0ZWQpKSAtIDFdO1xuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFRva2VucyhhcHBlbmQgPyBbcHJldmlvdXNUb2tlbl0uY29uY2F0KHNlbGVjdGVkKSA6IFtwcmV2aW91c1Rva2VuXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3ROZXh0VG9rZW4oYXBwZW5kKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5wcm9wcy50b2tlbnNTZWxlY3RlZDtcbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IHRoaXMucHJvcHMudG9rZW5zO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsYXN0KHNlbGVjdGVkKSA9PT0gbGFzdChpbmRleGVzKSkge1xuICAgICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV4dFRva2VuID0gaW5kZXhlc1tpbmRleGVzLmluZGV4T2YobGFzdChzZWxlY3RlZCkpICsgMV07XG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VG9rZW5zKGFwcGVuZCA/IHNlbGVjdGVkLmNvbmNhdChuZXh0VG9rZW4pIDogW25leHRUb2tlbl0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJTZWxlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlTmV3U2VsZWN0aW9uKFtdKTtcbiAgICB9XG5cbiAgICBoYW5kbGVJbnB1dENsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuY2xlYXJTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzLnByb3BzLmlucHV0UHJvcHMub25DbGljaykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUlucHV0Rm9jdXMgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMucHJvcHMuaW5wdXRQcm9wcy5vbkZvY3VzKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pbnB1dFByb3BzLm9uRm9jdXMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgIGNhc2UgMzc6ICAgIC8vIGxlZnQgYXJyb3dcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0UHJldmlvdXNUb2tlbihldmVudC5zaGlmdEtleSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDM5OiAgICAvLyByaWdodCBhcnJvd1xuICAgICAgICAgICAgdGhpcy5zZWxlY3ROZXh0VG9rZW4oZXZlbnQuc2hpZnRLZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA4OiAgICAgLy8gYmFja3NwYWNlXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy50b2tlbnNTZWxlY3RlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSh0aGlzLnByb3BzLnRva2Vuc1NlbGVjdGVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgNjU6ICAgIC8vIGxldHRlciBcImFcIlxuICAgICAgICAgICAgaWYgKGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBoYWNreSwgYnV0IHRoZSBvbmx5IHdheSB1bmxlc3Mgd2UgbW92ZSBzZWxlY3Rpb24gbWFuYWdlbWVudCBpbnRlcm5hbCBhZ2FpblxuICAgICAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzTmV4dFRva2VuU2VsZWN0aW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlTmV3U2VsZWN0aW9uKHRoaXMucHJvcHMudG9rZW5zKTtcbiAgICAgICAgICAgIH0gLy8gXCJjbWRcIlxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy5wcm9wcy5vbktleURvd24pKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uS2V5RG93bihldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVUb2tlbkNsb3NlQ2xpY2soaW5kZXgsIGV2ZW50KSB7XG4gICAgICAgIC8vIGlmIHdlIGRvbid0IHN0b3AgcHJvcGFnYXRpb24sIHRoZSBldmVudCBidWJibGVzIGFuZCByZXN1bHRzIGluIGEgZmFpbGVkIHRva2VuIHNlbGVjdGlvblxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICB0aGlzLnJlbW92ZShpbmRleCk7XG4gICAgICAgIHRoaXMuZm9jdXMoKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy50b2tlbkNsb3NlQ29tcG9uZW50LnByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudG9rZW5DbG9zZUNvbXBvbmVudC5wcm9wcy5vbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclRva2VuQ2xvc2UoaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMudG9rZW5DbG9zZVZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQodGhpcy5wcm9wcy50b2tlbkNsb3NlQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjeCgnYi10b2tlbmZpZWxkLXRva2VuLWNsb3NlJywgdGhpcy5wcm9wcy50b2tlbkNsb3NlQ29tcG9uZW50LnByb3BzLmNsYXNzTmFtZSksXG4gICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5oYW5kbGVUb2tlbkNsb3NlQ2xpY2suYmluZCh0aGlzLCBpbmRleCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVRva2VuS2V5RG93bihpbmRleCwgZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIDEzOiAvLyBlbnRlclxuICAgICAgICBjYXNlIDMyOiAvLyBzcGFjZVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RUb2tlbihpbmRleCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSA4OiAvLyBiYWNrc3BhY2VcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGluZGV4KTtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlclRva2VucygpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdiLXRva2VuZmllbGQtdG9rZW5zJz5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy50b2tlbnMubWFwKChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17YHRva2VuXyR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItdG9rZW5maWVsZC10b2tlbicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYi10b2tlbmZpZWxkLXRva2VuLXNlbGVjdGVkJzogdGhpcy5wcm9wcy50b2tlbnNTZWxlY3RlZC5pbmRleE9mKGluZGV4KSAhPT0gLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zZWxlY3RUb2tlbi5iaW5kKHRoaXMsIGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249e3RoaXMuaGFuZGxlVG9rZW5LZXlEb3duLmJpbmQodGhpcywgaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PScwJz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5lbnRpdGllc1tpbmRleF0udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUb2tlbkNsb3NlKGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHsuLi5vbWl0KHRoaXMucHJvcHMsIFRva2VuaXplZElucHV0LmludGVybmFsS2V5cyl9XG4gICAgICAgICAgICAgICAgcmVmPSd3cmFwcGVyJ1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItdG9rZW5maWVsZC13cmFwcGVyJywgdGhpcy5wcm9wcy5jbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXlEb3dufT5cbiAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUb2tlbnMoKX1cblxuICAgICAgICAgICAgICAgIDxUeXBlYWhlYWRcbiAgICAgICAgICAgICAgICAgICAgey4uLmV4dHJhY3RDaGlsZFByb3BzKHRoaXMucHJvcHMsIFR5cGVhaGVhZC5kZWZhdWx0UHJvcHMpfVxuICAgICAgICAgICAgICAgICAgICByZWY9J3R5cGVhaGVhZCdcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSdiLXRva2VuZmllbGQnXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyT25TZWxlY3Rpb249e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRoaXMucHJvcHMuaW5wdXRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlSW5wdXRDbGljayxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRm9jdXM6IHRoaXMuaGFuZGxlSW5wdXRGb2N1cyxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25FbnRpdHlTZWxlY3RlZD17dGhpcy5hZGR9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE2IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZykpO1xuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiIsImltcG9ydCBSZWFjdCwge1Byb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGN4IGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5pbXBvcnQgb21pdCBmcm9tICcuLi9ib3VuZGxlc3MtdXRpbHMtb21pdC1rZXlzL2luZGV4JztcblxuLyoqXG4jIFRvb2x0aXBcbl9fQSBzaW1wbGUgd3JhcHBlciB0aGF0IGRpc3BsYXlzIHByb3ZpZGVkIHRleHQgb24gbW91c2VvdmVyLl9fXG5cbk5lc3QgYW55IFJlYWN0LXJlbmRlcmFibGUgY29udGVudCBpbnNpZGUgdGhlIGBUb29sdGlwYCB3cmFwcGVyIGFzIHlvdSB3b3VsZCBhIHNpbXBsZSBgPGRpdj5gLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sdGlwIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gICAgc3RhdGljIHBvc2l0aW9uID0ge1xuICAgICAgICBBQk9WRTogJ0FCT1ZFJyxcbiAgICAgICAgQkVMT1c6ICdCRUxPVycsXG4gICAgICAgIEJFRk9SRTogJ0JFRk9SRScsXG4gICAgICAgIEFGVEVSOiAnQUZURVInLFxuICAgIH1cblxuICAgIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbnkgdmFsaWQgSFRNTCB0YWcgbmFtZSBvciBhIFJlYWN0IGNvbXBvbmVudCBmYWN0b3J5LCBhbnl0aGluZyB0aGF0IGNhbiBiZSBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIGBSZWFjdC5jcmVhdGVFbGVtZW50YFxuICAgICAgICAgKi9cbiAgICAgICAgY29tcG9uZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgICAgICAgICBQcm9wVHlwZXMuZnVuYyxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRldGVybWluZXMgdGhlIGNvcnJlY3QgY2xhc3MgdG8gYXBwbHkgdG8gcG9zaXRpb24gdGhlIHRvb2x0aXBcbiAgICAgICAgICovXG4gICAgICAgIHBvc2l0aW9uOiBQcm9wVHlwZXMub25lT2YoT2JqZWN0LmtleXMoVG9vbHRpcC5wb3NpdGlvbikpLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGUgY29udGVudCB0byBiZSBzaG93biBpbiB0aGUgdG9vbHRpcFxuICAgICAgICAgKi9cbiAgICAgICAgdGV4dDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9XG5cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBjb21wb25lbnQ6ICdkaXYnLFxuICAgICAgICBwb3NpdGlvbjogVG9vbHRpcC5wb3NpdGlvbi5BQk9WRSxcbiAgICAgICAgdGV4dDogJycsXG4gICAgfVxuXG4gICAgc3RhdGljIGludGVybmFsS2V5cyA9IE9iamVjdC5rZXlzKFRvb2x0aXAuZGVmYXVsdFByb3BzKVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCB7cG9zaXRpb259ID0gdGhpcy5wcm9wcztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRoaXMucHJvcHMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgey4uLm9taXQodGhpcy5wcm9wcywgVG9vbHRpcC5pbnRlcm5hbEtleXMpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y3goJ2ItdG9vbHRpcCcsIHRoaXMucHJvcHMuY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICdiLXRvb2x0aXAtcG9zaXRpb24tYWJvdmUnOiBwb3NpdGlvbiA9PT0gVG9vbHRpcC5wb3NpdGlvbi5BQk9WRSxcbiAgICAgICAgICAgICAgICAgICAgJ2ItdG9vbHRpcC1wb3NpdGlvbi1iZWxvdyc6IHBvc2l0aW9uID09PSBUb29sdGlwLnBvc2l0aW9uLkJFTE9XLFxuICAgICAgICAgICAgICAgICAgICAnYi10b29sdGlwLXBvc2l0aW9uLWJlZm9yZSc6IHBvc2l0aW9uID09PSBUb29sdGlwLnBvc2l0aW9uLkJFRk9SRSxcbiAgICAgICAgICAgICAgICAgICAgJ2ItdG9vbHRpcC1wb3NpdGlvbi1hZnRlcic6IHBvc2l0aW9uID09PSBUb29sdGlwLnBvc2l0aW9uLkFGVEVSLFxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIGRhdGEtdG9vbHRpcD17dGhpcy5wcm9wcy50ZXh0fVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e3RoaXMucHJvcHNbJ2FyaWEtbGFiZWwnXSB8fCB0aGlzLnByb3BzLnRleHR9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPC90aGlzLnByb3BzLmNvbXBvbmVudD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsidGVzdCIsInNvdXJjZSIsImtleXMiLCJyZWR1Y2UiLCJoYXNoIiwia2V5Iiwib21pdHRlZEtleXMiLCJpbmRleE9mIiwic3RhdGUiLCJhY3RpdmVDaGlsZEluZGV4IiwiX3RoaXMiLCJwcm9wcyIsImRlZmF1bHRBY3RpdmVDaGlsZEluZGV4IiwiaGFuZGxlS2V5RG93biIsImV2ZW50IiwibW9kZSIsIkFycm93S2V5TmF2aWdhdGlvbiIsIlZFUlRJQ0FMIiwiQk9USCIsInByZXZlbnREZWZhdWx0IiwibW92ZUZvY3VzIiwiSE9SSVpPTlRBTCIsImlzRnVuY3Rpb24iLCJvbktleURvd24iLCJoYW5kbGVGb2N1cyIsInRhcmdldCIsImhhc0F0dHJpYnV0ZSIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiUmVhY3QiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJjaGlsZHJlbiIsImluZGV4Iiwic2V0U3RhdGUiLCJjaGlsZCIsIm9uRm9jdXMiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJ0aGlzIiwic2V0Rm9jdXMiLCJuZXh0UHJvcHMiLCJjb3VudCIsIm51bUNoaWxkcmVuIiwicmVmcyIsIndyYXBwZXIiLCJmaW5kRE9NTm9kZSIsImNoaWxkTm9kZSIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiZG9jdW1lbnQiLCJhY3RpdmVFbGVtZW50IiwiTm9kZSIsIkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORyIsImZvY3VzIiwiZGVsdGEiLCJuZXh0SW5kZXgiLCJtYXAiLCJjbG9uZUVsZW1lbnQiLCJkYXRhLWZvY3VzLWluZGV4IiwiZGF0YS1za2lwIiwidGFiSW5kZXgiLCJ1bmRlZmluZWQiLCJfdGhpczIiLCJjb21wb25lbnQiLCJvbWl0IiwiaW50ZXJuYWxLZXlzIiwicmVmIiwiUHVyZUNvbXBvbmVudCIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9uZU9mVHlwZSIsInN0cmluZyIsImZ1bmMiLCJudW1iZXIiLCJvbmVPZiIsImRlZmF1bHRQcm9wcyIsIk9iamVjdCIsImhhc093blByb3BlcnR5IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFyZyIsImFyZ1R5cGUiLCJjbGFzc2VzIiwicHVzaCIsIkFycmF5IiwiaXNBcnJheSIsImNsYXNzTmFtZXMiLCJhcHBseSIsImhhc093biIsImNhbGwiLCJqb2luIiwibW9kdWxlIiwiZXhwb3J0cyIsImJhYmVsSGVscGVycy50eXBlb2YiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJtb3VudGVkIiwiZGF0YSIsInRoZW4iLCJwYXlsb2FkIiwib2siLCJjdXJyZW50UHJvcHMiLCJjb252ZXJ0VG9KU1hGdW5jIiwiY29udmVydERhdGFUb0pTWE9yV2FpdCIsImV4dHJhQ2xhc3NlcyIsImNsYXNzTmFtZSIsImItYXN5bmMtZXJyb3IiLCJiLWFzeW5jLWxvYWRpbmciLCJBc3luYyIsImdldENsYXNzZXMiLCJsb2FkaW5nQ29udGVudCIsImVycm9yQ29udGVudCIsImFueSIsIm5vZGUiLCJ4IiwiaGFuZGxlQ2xpY2siLCJkaXNhYmxlZCIsInRvZ2dsZVN0YXRlIiwib25DbGljayIsInByZXNzZWQiLCJCdXR0b24iLCJjeCIsImItYnV0dG9uLXByZXNzYWJsZSIsImItYnV0dG9uLXByZXNzZWQiLCJhcmlhLXByZXNzZWQiLCJvblByZXNzZWQiLCJvblVucHJlc3NlZCIsImJvb2wiLCJub29wIiwicmVwbGFjZSIsImEiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJpZCIsInV1aWQiLCJoYW5kbGVDaGFuZ2UiLCJpbnB1dFByb3BzIiwiY2hlY2tlZCIsIm5hbWUiLCJvbkNoYW5nZSIsImlucHV0IiwiaW5kZXRlcm1pbmF0ZSIsInNldEluZGV0ZXJtaW5hdGUiLCJTdHJpbmciLCJ0eXBlIiwiYi1jaGVja2JveC1taXhlZCIsImItY2hlY2tib3gtY2hlY2tlZCIsImItY2hlY2tib3gtdW5jaGVja2VkIiwiYXJpYS1jaGVja2VkIiwiZ2V0QXJpYVN0YXRlIiwibGFiZWwiLCJsYWJlbFByb3BzIiwiaHRtbEZvciIsIkNoZWNrYm94IiwicmVuZGVySW5wdXQiLCJyZW5kZXJMYWJlbCIsInNoYXBlIiwidmFsdWUiLCJvYmplY3QiLCJvbkNoZWNrZWQiLCJvblVuY2hlY2tlZCIsIml0ZW1zIiwiZXZlcnkiLCJpdGVtIiwic29tZSIsInNlbGVjdEFsbCIsImFsbEl0ZW1zQ2hlY2tlZCIsInNlbGVjdEFsbFByb3BzIiwiYWxsQ2hlY2tlZCIsImFueUl0ZW1zQ2hlY2tlZCIsIm9uQWxsQ2hlY2tlZCIsIm9uQWxsVW5jaGVja2VkIiwib25DaGlsZENoZWNrZWQiLCJvbkNoaWxkVW5jaGVja2VkIiwicmVuZGVyQ2hlY2tib3hlcyIsInNlbGVjdEFsbFBvc2l0aW9uIiwiQkVGT1JFIiwidG9CZVJlbmRlcmVkIiwidW5zaGlmdCIsInJlbmRlclNlbGVjdEFsbCIsIkFGVEVSIiwiQ2hlY2tib3hHcm91cCIsInJlbmRlckNoaWxkcmVuIiwiYXJyYXlPZiIsImlzUmVxdWlyZWQiLCIkcG9ydGFsIiwiJHBhc3NlbmdlciIsImNyZWF0ZUVsZW1lbnQiLCJkZXN0aW5hdGlvbiIsImFwcGVuZENoaWxkIiwicmVuZGVyUG9ydGFsbGVkQ29udGVudCIsImlzVmFsaWRFbGVtZW50IiwicG9ydGFsSWQiLCJSZWFjdERPTSIsInVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsInJlbW92ZUNoaWxkIiwiUG9ydGFsIiwiUE9SVEFMX0RBVEFfQVRUUklCVVRFIiwiQ29tcG9uZW50IiwiaW5zdGFuY2VPZiIsIkhUTUxFbGVtZW50IiwiYm9keSIsInByb3RvdHlwZSIsInNsaWNlIiwidXVpZEhlYWRlciIsInV1aWRCb2R5IiwibmF0aXZlRXZlbnQiLCJjYXB0dXJlRm9jdXMiLCJjbG9zZU9uT3V0c2lkZUZvY3VzIiwiaXNQYXJ0T2ZEaWFsb2ciLCJzZXRUaW1lb3V0Iiwib25DbG9zZSIsImV4cGxpY2l0T3JpZ2luYWxUYXJnZXQiLCJyZWxhdGVkVGFyZ2V0IiwicHJldmlvdXMiLCJjbG9zZU9uRXNjS2V5IiwiaGFuZGxlT3V0c2lkZUNsaWNrIiwiY2xvc2VPbk91dHNpZGVDbGljayIsImhhbmRsZU91dHNpZGVTY3JvbGxXaGVlbCIsImNsb3NlT25PdXRzaWRlU2Nyb2xsIiwiJHdyYXBwZXIiLCJjb25jYXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZG9tIiwiZ2V0RWxlbWVudEJ5SWQiLCJub2RlVHlwZSIsIkVMRU1FTlRfTk9ERSIsInBhcmVudE5vZGUiLCJjb250YWlucyIsImVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiJGRpYWxvZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJib2R5UHJvcHMiLCJmb290ZXIiLCJmb290ZXJQcm9wcyIsImhlYWRlciIsImhlYWRlclByb3BzIiwiYXJpYS1oaWRkZW4iLCJ3cmFwcGVyUHJvcHMiLCJyZW5kZXJGb2N1c0JvdW5kYXJ5IiwiYmVmb3JlIiwiRGlhbG9nIiwicm9sZSIsImFyaWEtbGFiZWxsZWRieSIsImFyaWEtZGVzY3JpYmVkYnkiLCJyZW5kZXJIZWFkZXIiLCJyZW5kZXJCb2R5IiwicmVuZGVyRm9vdGVyIiwiYWZ0ZXIiLCJzdHJpbmdOdW1iZXIiLCJpbnN0YW5jZSIsImdldENvbXB1dGVkU3R5bGUiLCJ0b0kiLCJmb250U2l6ZSIsImNvbnRhaW5lckJveCIsImhlaWdodCIsIndpZHRoIiwiYm94U2l6aW5nIiwiY29udGFpbmVySGVpZ2h0IiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJjb250YWluZXJXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwiZmxvb3IiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXRXaWR0aCIsInN0eWxlIiwibWluIiwibWF4Rm9udFNpemUiLCJvcHRpbWl6ZUZvckhlaWdodCIsIm9wdGltaXplRm9yV2lkdGgiLCJpbnN0YW5jZXMiLCJmb3JFYWNoIiwiaGFuZGxlV2luZG93UmVzaXplIiwic3BsaWNlIiwicmVzY2FsZSIsInJlZ2lzdGVySW5zdGFuY2UiLCJ1bnJlZ2lzdGVySW5zdGFuY2UiLCJGaXR0ZWRUZXh0IiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwic3RhdHVzIiwiSW1hZ2UiLCJMT0FESU5HIiwic3JjIiwicmVzZXRQcmVsb2FkZXIiLCJwcmVsb2FkIiwibG9hZGVyIiwib25sb2FkIiwib25lcnJvciIsIkxPQURFRCIsIkVSUk9SIiwiZGlzcGxheUFzQmFja2dyb3VuZEltYWdlIiwiaW1hZ2VQcm9wcyIsInRpdGxlIiwiYWx0IiwiYmFja2dyb3VuZEltYWdlIiwib25Mb2FkIiwib25FcnJvciIsInN0YXR1c1Byb3BzIiwiYi1pbWFnZS1sb2FkaW5nIiwiYi1pbWFnZS1sb2FkZWQiLCJiLWltYWdlLWVycm9yIiwicmVuZGVySW1hZ2UiLCJyZW5kZXJTdGF0dXMiLCJpc0NvbnRyb2xsZWQiLCJpc1N0cmluZyIsImlzRm9jdXNlZCIsInNldElucHV0VmFsdWUiLCJnZXRWYWx1ZSIsImZpZWxkIiwiaGFuZGxlQmx1ciIsIm9uQmx1ciIsImRlZmF1bHRWYWx1ZSIsIm5leHRWYWx1ZSIsImRpc3BhdGNoRXZlbnQiLCJidWJibGVzIiwiaGlkZVBsYWNlaG9sZGVyT25Gb2N1cyIsImlzTm9uRW1wdHkiLCJwbGFjZWhvbGRlciIsImdldFBsYWNlaG9sZGVyVGV4dCIsIklucHV0IiwicmVuZGVyUGxhY2Vob2xkZXIiLCJvYmoxIiwib2JqMiIsImNoaWxkUHJvcHMiLCJwb3J0YWxQcm9wcyIsIk1vZGFsIiwiJG1vZGFsIiwibWFza1Byb3BzIiwiZXh0cmFjdENoaWxkUHJvcHMiLCJtb2RhbFByb3BzIiwiTUFYX0lOVEVHRVIiLCJOQU4iLCJvYmplY3RQcm90byIsInRvSW50ZWdlciIsImlzT2JqZWN0TGlrZSIsIm9iamVjdFRvU3RyaW5nIiwic3ltYm9sVGFnIiwidG9OdW1iZXIiLCJJTkZJTklUWSIsInRvRmluaXRlIiwicmVtYWluZGVyIiwicmVzdWx0IiwiaXNTeW1ib2wiLCJpc09iamVjdCIsInZhbHVlT2YiLCJvdGhlciIsInJlVHJpbSIsInJlSXNCaW5hcnkiLCJyZUlzT2N0YWwiLCJmcmVlUGFyc2VJbnQiLCJpc0JpbmFyeSIsInJlSXNCYWRIZXgiLCJpc0ludGVnZXIiLCJpbmRleE9mT3B0aW9uSW5Gb2N1cyIsImdldFByZXZpb3VzT3B0aW9uSW5kZXgiLCJhY3RpdmVJdGVtSW5kZXgiLCJnZXROZXh0T3B0aW9uSW5kZXgiLCJoYW5kbGVPcHRpb25DbGljayIsIm9wdGlvbnMiLCJvcHRpb24iLCJzZWxlY3RlZCIsImN1cnJlbnRPcHRpb25JbmRleCIsIm5leHQiLCJvbk9wdGlvblNlbGVjdGVkIiwiZGVmaW5pdGlvbiIsIlNlZ21lbnRlZENvbnRyb2wiLCJpbnRlcm5hbENoaWxkS2V5cyIsImItc2VnbWVudGVkLWNvbnRyb2wtb3B0aW9uLXNlbGVjdGVkIiwiaGFuZGxlT3B0aW9uQmx1ciIsImJpbmQiLCJoYW5kbGVPcHRpb25Gb2N1cyIsImNvbnRlbnQiLCJyZW5kZXJPcHRpb25zIiwibWlzc2luZ1NlbGVjdGVkIiwic2VlblNlbGVjdGVkIiwibXVsdGlwbGVTZWxlY3RlZCIsImN1cnJlbnRQYWdlIiwiaW5pdGlhbFBhZ2UiLCJ0YXJnZXRJbmRleCIsIm51bUl0ZW1zUGVyUGFnZSIsImdldFBhZ2VGb3JJbmRleCIsImNlaWwiLCJpdGVtc1BlclBhZ2UiLCJ0b3RhbFBhZ2VzIiwidG90YWxJdGVtcyIsImZpcnN0VmlzaWJsZUl0ZW1JbmRleCIsInBhZ2VUb0luZGV4IiwiY29udHJvbHMiLCJGSVJTVCIsIm5leHRUYXJnZXRJbmRleCIsIlBSRVZJT1VTIiwiTkVYVCIsIkxBU1QiLCJpdGVtXzAiLCJpZGVudGlmaWVyIiwib2xkUHJvcHMiLCJudW1QYWdlVG9nZ2xlcyIsInN0YXJ0UGFnZSIsInNob3dQYWdpbmF0aW9uU3RhdGUiLCJzaG93SnVtcFRvRmlyc3QiLCJqdW1wVG9GaXJzdENvbnRyb2xDb250ZW50IiwiUGFnaW5hdGlvbiIsInByZXZpb3VzUGFnZUNvbnRyb2xDb250ZW50IiwiZW5kUGFnZSIsImRhdGEtcGFnZS1udW1iZXIiLCJuZXh0UGFnZUNvbnRyb2xDb250ZW50Iiwic2hvd0p1bXBUb0xhc3QiLCJqdW1wVG9MYXN0Q29udHJvbENvbnRlbnQiLCJjdXN0b21Db250cm9sQ29udGVudCIsImZpcnN0SXRlbUluZGV4IiwibGFzdEl0ZW1JbmRleCIsImdlbmVyYXRlZEl0ZW1zIiwiZ2V0SXRlbSIsImxpc3RXcmFwcGVyUHJvcHMiLCJnZW5lcmF0ZUl0ZW1zIiwiYi1wYWdpbmF0aW9uLWl0ZW0tZXZlbiIsImItcGFnaW5hdGlvbi1pdGVtLW9kZCIsIl90aGlzMyIsIml0ZW1Ub0pTWENvbnZlcnRlckZ1bmMiLCJkYXRhLXBhZ2luYXRpb24taW5kZXgiLCJpbmRleE9mZnNldCIsIml0ZW1Mb2FkaW5nQ29udGVudCIsInBvc2l0aW9uIiwiaGlkZVBhZ2VySWZOb3ROZWVkZWQiLCJ0b2dnbGVXcmFwcGVyUHJvcHMiLCJ0b0xvd2VyQ2FzZSIsInBvc2l0aW9uTG93ZXIiLCJ0b1VwcGVyQ2FzZSIsInBvc2l0aW9uQ2FwaXRhbGl6ZWQiLCJjcmVhdGVQYWdlQnV0dG9uT3B0aW9ucyIsInBvc2l0aW9ucyIsIkFCT1ZFIiwicmVuZGVyQ29udHJvbHMiLCJyZW5kZXJJdGVtcyIsIkJFTE9XIiwicmVuZGVyVmlldyIsIm51bWJlck9mUGFnZXMiLCJpZGVudGl0eSIsImxlbiIsImRvY3VtZW50RWxlbWVudCIsImRpcmVjdGlvbiIsImFycjEiLCJhcnIyIiwiZmlsdGVyIiwidmlld0JveCIsInhtbG5zIiwiZmlsbCIsInBvaW50cyIsImF4IiwiU1RBUlQiLCJheSIsImR4IiwiZHkiLCJFTkQiLCJNSURETEUiLCJhbGlnbiIsImFuY2hvciIsImNhcmV0QW5jaG9yIiwiY2FjaGVWaWV3cG9ydENhcnRvZ3JhcGh5IiwiZ2V0VmFsaWRBbGlnbm1lbnRQcmVzZXQiLCJQb3BvdmVyIiwiZ2V0QWxpZ25tZW50Q2xhc3NGcmFnbWVudCIsImRpYWxvZyIsIkNMQVNTX1JFTU9WQUxfUkVHRVgiLCJmcmFnIiwicHJlc2V0Iiwicm91bmQiLCJnZXROZXh0RGlhbG9nWFBvc2l0aW9uIiwiZ2V0TmV4dERpYWxvZ1lQb3NpdGlvbiIsInRyYW5zZm9ybVByb3AiLCJjYXJkaW5hbCIsIiRjYXJldCIsImxvbmdpdHVkaW5hbCIsImdldE5leHRDYXJldFhQb3NpdGlvbiIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFuY2hvclJlY3QiLCJjYXJldEFuY2hvclJlY3QiLCJib2R5TGVmdCIsImJvZHlSZWN0IiwibGVmdCIsImJvZHlUb3AiLCJ0b3AiLCJuZXh0WCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiY2FyZXQiLCJuZXh0WSIsInBIZWlnaHQiLCJwV2lkdGgiLCJib3R0b20iLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJyaWdodCIsImNvbWJpbmF0aW9ucyIsImNvbmZpZyIsImlzUG9zaXRpb25WYWxpZCIsInZhbGlkQ29tYm9zIiwiYXV0b1JlcG9zaXRpb24iLCJiZXN0Q29tYm9zIiwiZ2V0T3Bwb3NpdGVDYXJkaW5hbCIsIm9wcG9zaXRlQ2FyZGluYWwiLCJva2F5Q29tYm9zIiwiY2FyZXRDb21wb25lbnQiLCJjb25zdGFudCIsImRlZiIsIk5OVyIsIk4iLCJOTkUiLCJFTkUiLCJFIiwiRVNFIiwiU1NFIiwiUyIsIlNTVyIsIldTVyIsIlciLCJXTlciLCJERUZBVUxUX0NBUkVUX0NPTVBPTkVOVCIsIndpdGhvdXQiLCJleHBhbmRlZCIsImRpc3BhdGNoQ2FsbGJhY2siLCJ0b2dnbGVQcm9wcyIsIm5ld1Byb3BzIiwiUHJvZ3Jlc3NpdmVEaXNjbG9zdXJlIiwiYi1kaXNjbG9zdXJlLWV4cGFuZGVkIiwidGVhc2VyRXhwYW5kZWQiLCJ0ZWFzZXIiLCJyZW5kZXJDb250ZW50Iiwib25FeHBhbmQiLCJvbkhpZGUiLCJvbkNhbmNlbCIsImNhbmNlbFByb3BzIiwicHJvZ3Jlc3NQcm9wcyIsImItcHJvZ3Jlc3MtaW5kZXRlcm1pbmF0ZSIsInByb2dyZXNzIiwidHdlZW5Qcm9wZXJ0eSIsIlByb2dyZXNzIiwicmVuZGVyUHJvZ3Jlc3MiLCJyZW5kZXJDYW5jZWwiLCJvblNlbGVjdGVkIiwiYi1yYWRpby1zZWxlY3RlZCIsIlJhZGlvIiwic3RyIiwibWF0Y2hPcGVyYXRvcnNSZSIsImNvbXB1dGVNYXRjaGVzIiwic2VsZWN0ZWRFbnRpdHlJbmRleCIsIm9uRW50aXR5SGlnaGxpZ2h0ZWQiLCJlbnRpdGllcyIsInVwZGF0ZUlucHV0U3RhdGUiLCJlbnRpdHlNYXRjaEluZGV4ZXMiLCJtYXRjaGVzIiwic2Nyb2xsVG9wIiwic2V0VmFsdWVXaXRoU2VsZWN0ZWRFbnRpdHkiLCJ0b3RhbE1hdGNoZXMiLCJtYXRjaGVzTm9kZSIsIm1hdGNoSW5kZXgiLCJtYXRjaE5vZGUiLCJvZmZzZXRUb3AiLCJtYXRjaE5vZGVZU3RhcnQiLCJtYXRjaE5vZGVZRW5kIiwibWF0Y2hlc05vZGVZRW5kIiwiZ2V0SW5wdXROb2RlIiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJlbnRpdHkiLCJ0ZXh0IiwiZW50aXR5Q29udGVudCIsInNwbGl0IiwiZXNjYXBlciIsImZyYWdzIiwidGhyZXNob2xkIiwibm9ybWFsaXplZFVzZXJUZXh0Iiwic2Vla1ZhbHVlIiwiaW5kZXhTdGFydCIsImluZGV4RW5kIiwiYWxnb3JpdGhtIiwiVHlwZWFoZWFkIiwiU1RBUlRTX1dJVEgiLCJtYXJrU3RhcnRzV2l0aE1hdGNoU3Vic3RyaW5nIiwibWFya0Z1enp5TWF0Y2hTdWJzdHJpbmciLCJtYXJrZXIiLCJ3YXJuZWRNYXJrZXIiLCJjb25zb2xlIiwid2FybiIsInVzZXJUZXh0Iiwibm9ybWFsaXplZCIsInJlc3VsdHMiLCJnZXRTdGFydHNXaXRoTWF0Y2hJbmRleGVzIiwiZ2V0RnV6enlNYXRjaEluZGV4ZXMiLCJtYXRjaGVyIiwid2FybmVkTWF0Y2hlciIsInByb3ZpZGVkRW50aXRpZXMiLCJjdXJyZW50VmFsdWUiLCJnZXRNYXRjaEluZGV4ZXMiLCJvZmZzY3JlZW5DbGFzcyIsImFyaWEtbGl2ZSIsImdldFNlbGVjdGVkRW50aXR5VGV4dCIsImhpbnQiLCJyYXciLCJwcm9jZXNzZWQiLCJoaW50UHJvcHMiLCJtYXRjaFdyYXBwZXJQcm9wcyIsInJlc3QiLCJiLXR5cGVhaGVhZC1tYXRjaC1zZWxlY3RlZCIsImhhbmRsZU1hdGNoQ2xpY2siLCJtYXJrTWF0Y2hTdWJzdHJpbmciLCJyZW5kZXJOb3RpZmljYXRpb24iLCJyZW5kZXJIaW50IiwiYXJpYS1jb250cm9scyIsInJlbmRlck1hdGNoZXMiLCJGVVpaWSIsImNsZWFyT25TZWxlY3Rpb24iLCJvbkNvbXBsZXRlIiwib25FbnRpdHlTZWxlY3RlZCIsIl90aGlzNCIsInJlc2V0TWF0Y2hlcyIsInNlbGVjdCIsInNldFZhbHVlIiwiZ2V0TWFya2luZ0Z1bmN0aW9uIiwiZ2V0TWF0Y2hpbmdGdW5jdGlvbiIsInN0b3BQcm9wYWdhdGlvbiIsImN1cnNvckF0RW5kT2ZJbnB1dCIsInNoaWZ0S2V5Iiwic2VsZWN0TWF0Y2giLCJhcnJheSIsInR5cGVhaGVhZCIsImFkZCIsInRva2VucyIsImhhbmRsZUFkZFRva2VuIiwiaGFuZGxlSW5wdXRDbGljayIsImNsZWFyU2VsZWN0aW9uIiwiaGFuZGxlSW5wdXRGb2N1cyIsIndoaWNoIiwic2VsZWN0UHJldmlvdXNUb2tlbiIsInNlbGVjdE5leHRUb2tlbiIsInRva2Vuc1NlbGVjdGVkIiwicmVtb3ZlIiwibWV0YUtleSIsIl9zdXBwcmVzc05leHRUb2tlblNlbGVjdGlvbiIsImhhbmRsZU5ld1NlbGVjdGlvbiIsInByZXZpb3VzU2VsZWN0ZWRJbmRleGVzIiwiY3VycmVudFNlbGVjdGVkSW5kZXhlcyIsImxhc3QiLCJpZHgiLCJpbmRleGVzIiwiaGFuZGxlUmVtb3ZlVG9rZW5zIiwiYXBwZW5kIiwiZmlyc3QiLCJzZWxlY3RUb2tlbiIsInNlbGVjdFRva2VucyIsInByZXZpb3VzVG9rZW4iLCJuZXh0VG9rZW4iLCJ0b2tlbkNsb3NlQ29tcG9uZW50IiwidG9rZW5DbG9zZVZpc2libGUiLCJoYW5kbGVUb2tlbkNsb3NlQ2xpY2siLCJiLXRva2VuZmllbGQtdG9rZW4tc2VsZWN0ZWQiLCJoYW5kbGVUb2tlbktleURvd24iLCJyZW5kZXJUb2tlbkNsb3NlIiwiVG9rZW5pemVkSW5wdXQiLCJyZW5kZXJUb2tlbnMiLCJUb29sdGlwIiwiYi10b29sdGlwLXBvc2l0aW9uLWFib3ZlIiwiYi10b29sdGlwLXBvc2l0aW9uLWJlbG93IiwiYi10b29sdGlwLXBvc2l0aW9uLWJlZm9yZSIsImItdG9vbHRpcC1wb3NpdGlvbi1hZnRlciIsImRhdGEtdG9vbHRpcCIsImFyaWEtbGFiZWwiXSwibWFwcGluZ3MiOiJtR0FBQSxnQkFBZ0JBLHFCQUF5Qix1QkNHUUMscUVBQzdDLGVBQWNDLEtBQUtELEdBQVFFLE9BQU8sV0FBOEJDLEVBQU1DLEdBQ2xFLEdBQUlDLEVBQVlDLFFBQVFGLE1BQVUsRUFBRyxDQUNqQ0QsRUFBS0MsR0FBT0osRUFBT0ksR0FHdkIsc3ZEQ3NESkcsT0FDSUMsaUJBQWtCQyxFQUFLQyxNQUFNQywyQkF1RGpDQyxjQUFnQixTQUFDQyxHQUNiLE9BQVFBLEVBQU1ULEtBQ2QsSUFBSyxVQUNELEdBQUlLLEVBQUtDLE1BQU1JLE9BQVNDLEVBQW1CRCxLQUFLRSxVQUN6Q1AsRUFBS0MsTUFBTUksT0FBU0MsRUFB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
